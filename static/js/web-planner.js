!function(e) {
    function t(i) {
        if (n[i])
            return n[i].exports;
        var r = n[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(r.exports, r, r.exports, t),
        r.l = !0,
        r.exports
    }
    var n = {};
    t.m = e,
    t.c = n,
    t.d = function(e, n, i) {
        t.o(e, n) || Object.defineProperty(e, n, {
            configurable: !1,
            enumerable: !0,
            get: i
        })
    }
    ,
    t.n = function(e) {
        var n = e && e.__esModule ? function() {
            return e.default
        }
        : function() {
            return e
        }
        ;
        return t.d(n, "a", n),
        n
    }
    ,
    t.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    t.p = "",
    t(t.s = 2)
}([function(e, t) {
    e.exports = function() {
        throw new Error("define cannot be used indirect")
    }
}
, function(e, t, n) {
    var i, r;
    !function() {
        function o(e) {
            return e && (e.ownerDocument || e.document || e).documentElement
        }
        function s(e) {
            return e && (e.ownerDocument && e.ownerDocument.defaultView || e.document && e || e.defaultView)
        }
        function a(e, t) {
            return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
        }
        function l(e) {
            return null === e ? NaN : +e
        }
        function c(e) {
            return !isNaN(e)
        }
        function u(e) {
            return {
                left: function(t, n, i, r) {
                    for (arguments.length < 3 && (i = 0),
                    arguments.length < 4 && (r = t.length); i < r; ) {
                        var o = i + r >>> 1;
                        e(t[o], n) < 0 ? i = o + 1 : r = o
                    }
                    return i
                },
                right: function(t, n, i, r) {
                    for (arguments.length < 3 && (i = 0),
                    arguments.length < 4 && (r = t.length); i < r; ) {
                        var o = i + r >>> 1;
                        e(t[o], n) > 0 ? r = o : i = o + 1
                    }
                    return i
                }
            }
        }
        function h(e) {
            return e.length
        }
        function d(e) {
            for (var t = 1; e * t % 1; )
                t *= 10;
            return t
        }
        function f(e, t) {
            for (var n in t)
                Object.defineProperty(e.prototype, n, {
                    value: t[n],
                    enumerable: !1
                })
        }
        function g() {
            this._ = Object.create(null)
        }
        function p(e) {
            return (e += "") === Es || e[0] === xs ? xs + e : e
        }
        function m(e) {
            return (e += "")[0] === xs ? e.slice(1) : e
        }
        function v(e) {
            return p(e)in this._
        }
        function A(e) {
            return (e = p(e))in this._ && delete this._[e]
        }
        function w() {
            var e = [];
            for (var t in this._)
                e.push(m(t));
            return e
        }
        function C() {
            var e = 0;
            for (var t in this._)
                ++e;
            return e
        }
        function y() {
            for (var e in this._)
                return !1;
            return !0
        }
        function b() {
            this._ = Object.create(null)
        }
        function F(e) {
            return e
        }
        function E(e, t, n) {
            return function() {
                var i = n.apply(t, arguments);
                return i === t ? e : i
            }
        }
        function x(e, t) {
            if (t in e)
                return t;
            t = t.charAt(0).toUpperCase() + t.slice(1);
            for (var n = 0, i = Ss.length; n < i; ++n) {
                var r = Ss[n] + t;
                if (r in e)
                    return r
            }
        }
        function S() {}
        function k() {}
        function $(e) {
            function t() {
                for (var t, i = n, r = -1, o = i.length; ++r < o; )
                    (t = i[r].on) && t.apply(this, arguments);
                return e
            }
            var n = []
              , i = new g;
            return t.on = function(t, r) {
                var o, s = i.get(t);
                return arguments.length < 2 ? s && s.on : (s && (s.on = null,
                n = n.slice(0, o = n.indexOf(s)).concat(n.slice(o + 1)),
                i.remove(t)),
                r && n.push(i.set(t, {
                    on: r
                })),
                e)
            }
            ,
            t
        }
        function B() {
            fs.event.preventDefault()
        }
        function D() {
            for (var e, t = fs.event; e = t.sourceEvent; )
                t = e;
            return t
        }
        function M(e) {
            for (var t = new k, n = 0, i = arguments.length; ++n < i; )
                t[arguments[n]] = $(t);
            return t.of = function(n, i) {
                return function(r) {
                    try {
                        var o = r.sourceEvent = fs.event;
                        r.target = e,
                        fs.event = r,
                        t[r.type].apply(n, i)
                    } finally {
                        fs.event = o
                    }
                }
            }
            ,
            t
        }
        function L(e) {
            return $s(e, Ls),
            e
        }
        function _(e) {
            return "function" == typeof e ? e : function() {
                return Bs(e, this)
            }
        }
        function R(e) {
            return "function" == typeof e ? e : function() {
                return Ds(e, this)
            }
        }
        function T(e, t) {
            function n() {
                this.removeAttribute(e)
            }
            function i() {
                this.removeAttributeNS(e.space, e.local)
            }
            function r() {
                this.setAttribute(e, t)
            }
            function o() {
                this.setAttributeNS(e.space, e.local, t)
            }
            function s() {
                var n = t.apply(this, arguments);
                null == n ? this.removeAttribute(e) : this.setAttribute(e, n)
            }
            function a() {
                var n = t.apply(this, arguments);
                null == n ? this.removeAttributeNS(e.space, e.local) : this.setAttributeNS(e.space, e.local, n)
            }
            return e = fs.ns.qualify(e),
            null == t ? e.local ? i : n : "function" == typeof t ? e.local ? a : s : e.local ? o : r
        }
        function I(e) {
            return e.trim().replace(/\s+/g, " ")
        }
        function O(e) {
            return new RegExp("(?:^|\\s+)" + fs.requote(e) + "(?:\\s+|$)","g")
        }
        function N(e) {
            return (e + "").trim().split(/^|\s+/)
        }
        function W(e, t) {
            function n() {
                for (var n = -1; ++n < r; )
                    e[n](this, t)
            }
            function i() {
                for (var n = -1, i = t.apply(this, arguments); ++n < r; )
                    e[n](this, i)
            }
            e = N(e).map(P);
            var r = e.length;
            return "function" == typeof t ? i : n
        }
        function P(e) {
            var t = O(e);
            return function(n, i) {
                if (r = n.classList)
                    return i ? r.add(e) : r.remove(e);
                var r = n.getAttribute("class") || "";
                i ? (t.lastIndex = 0,
                t.test(r) || n.setAttribute("class", I(r + " " + e))) : n.setAttribute("class", I(r.replace(t, " ")))
            }
        }
        function H(e, t, n) {
            function i() {
                this.style.removeProperty(e)
            }
            function r() {
                this.style.setProperty(e, t, n)
            }
            function o() {
                var i = t.apply(this, arguments);
                null == i ? this.style.removeProperty(e) : this.style.setProperty(e, i, n)
            }
            return null == t ? i : "function" == typeof t ? o : r
        }
        function z(e, t) {
            function n() {
                delete this[e]
            }
            function i() {
                this[e] = t
            }
            function r() {
                var n = t.apply(this, arguments);
                null == n ? delete this[e] : this[e] = n
            }
            return null == t ? n : "function" == typeof t ? r : i
        }
        function V(e) {
            function t() {
                var t = this.ownerDocument
                  , n = this.namespaceURI;
                return n === _s && t.documentElement.namespaceURI === _s ? t.createElement(e) : t.createElementNS(n, e)
            }
            function n() {
                return this.ownerDocument.createElementNS(e.space, e.local)
            }
            return "function" == typeof e ? e : (e = fs.ns.qualify(e)).local ? n : t
        }
        function U() {
            var e = this.parentNode;
            e && e.removeChild(this)
        }
        function K(e) {
            return {
                __data__: e
            }
        }
        function j(e) {
            return function() {
                return Ms(this, e)
            }
        }
        function q(e) {
            return arguments.length || (e = a),
            function(t, n) {
                return t && n ? e(t.__data__, n.__data__) : !t - !n
            }
        }
        function G(e, t) {
            for (var n = 0, i = e.length; n < i; n++)
                for (var r, o = e[n], s = 0, a = o.length; s < a; s++)
                    (r = o[s]) && t(r, s, n);
            return e
        }
        function Y(e) {
            return $s(e, Ts),
            e
        }
        function X(e) {
            var t, n;
            return function(i, r, o) {
                var s, a = e[o].update, l = a.length;
                for (o != n && (n = o,
                t = 0),
                r >= t && (t = r + 1); !(s = a[t]) && ++t < l; )
                    ;
                return s
            }
        }
        function Q(e, t, n) {
            function i() {
                var t = this[s];
                t && (this.removeEventListener(e, t, t.$),
                delete this[s])
            }
            function r() {
                var r = l(t, ps(arguments));
                i.call(this),
                this.addEventListener(e, this[s] = r, r.$ = n),
                r._ = t
            }
            function o() {
                var t, n = new RegExp("^__on([^.]+)" + fs.requote(e) + "$");
                for (var i in this)
                    if (t = i.match(n)) {
                        var r = this[i];
                        this.removeEventListener(t[1], r, r.$),
                        delete this[i]
                    }
            }
            var s = "__on" + e
              , a = e.indexOf(".")
              , l = Z;
            a > 0 && (e = e.slice(0, a));
            var c = Is.get(e);
            return c && (e = c,
            l = J),
            a ? t ? r : i : t ? S : o
        }
        function Z(e, t) {
            return function(n) {
                var i = fs.event;
                fs.event = n,
                t[0] = this.__data__;
                try {
                    e.apply(this, t)
                } finally {
                    fs.event = i
                }
            }
        }
        function J(e, t) {
            var n = Z(e, t);
            return function(e) {
                var t = this
                  , i = e.relatedTarget;
                i && (i === t || 8 & i.compareDocumentPosition(t)) || n.call(t, e)
            }
        }
        function ee(e) {
            var t = ".dragsuppress-" + ++Ns
              , n = "click" + t
              , i = fs.select(s(e)).on("touchmove" + t, B).on("dragstart" + t, B).on("selectstart" + t, B);
            if (null == Os && (Os = !("onselectstart"in e) && x(e.style, "userSelect")),
            Os) {
                var r = o(e).style
                  , a = r[Os];
                r[Os] = "none"
            }
            return function(e) {
                if (i.on(t, null),
                Os && (r[Os] = a),
                e) {
                    var o = function() {
                        i.on(n, null)
                    };
                    i.on(n, function() {
                        B(),
                        o()
                    }, !0),
                    setTimeout(o, 0)
                }
            }
        }
        function te(e, t) {
            t.changedTouches && (t = t.changedTouches[0]);
            var n = e.ownerSVGElement || e;
            if (n.createSVGPoint) {
                var i = n.createSVGPoint();
                if (Ws < 0) {
                    var r = s(e);
                    if (r.scrollX || r.scrollY) {
                        n = fs.select("body").append("svg").style({
                            position: "absolute",
                            top: 0,
                            left: 0,
                            margin: 0,
                            padding: 0,
                            border: "none"
                        }, "important");
                        var o = n[0][0].getScreenCTM();
                        Ws = !(o.f || o.e),
                        n.remove()
                    }
                }
                return Ws ? (i.x = t.pageX,
                i.y = t.pageY) : (i.x = t.clientX,
                i.y = t.clientY),
                i = i.matrixTransform(e.getScreenCTM().inverse()),
                [i.x, i.y]
            }
            var a = e.getBoundingClientRect();
            return [t.clientX - a.left - e.clientLeft, t.clientY - a.top - e.clientTop]
        }
        function ne() {
            return fs.event.changedTouches[0].identifier
        }
        function ie(e) {
            return e > 0 ? 1 : e < 0 ? -1 : 0
        }
        function re(e, t, n) {
            return (t[0] - e[0]) * (n[1] - e[1]) - (t[1] - e[1]) * (n[0] - e[0])
        }
        function oe(e) {
            return e > 1 ? 0 : e < -1 ? zs : Math.acos(e)
        }
        function se(e) {
            return e > 1 ? Ks : e < -1 ? -Ks : Math.asin(e)
        }
        function ae(e) {
            return ((e = Math.exp(e)) - 1 / e) / 2
        }
        function le(e) {
            return ((e = Math.exp(e)) + 1 / e) / 2
        }
        function ce(e) {
            return ((e = Math.exp(2 * e)) - 1) / (e + 1)
        }
        function ue(e) {
            return (e = Math.sin(e / 2)) * e
        }
        function he() {}
        function de(e, t, n) {
            return this instanceof de ? (this.h = +e,
            this.s = +t,
            void (this.l = +n)) : arguments.length < 2 ? e instanceof de ? new de(e.h,e.s,e.l) : Se("" + e, ke, de) : new de(e,t,n)
        }
        function fe(e, t, n) {
            function i(e) {
                return e > 360 ? e -= 360 : e < 0 && (e += 360),
                e < 60 ? o + (s - o) * e / 60 : e < 180 ? s : e < 240 ? o + (s - o) * (240 - e) / 60 : o
            }
            function r(e) {
                return Math.round(255 * i(e))
            }
            var o, s;
            return e = isNaN(e) ? 0 : (e %= 360) < 0 ? e + 360 : e,
            t = isNaN(t) ? 0 : t < 0 ? 0 : t > 1 ? 1 : t,
            n = n < 0 ? 0 : n > 1 ? 1 : n,
            s = n <= .5 ? n * (1 + t) : n + t - n * t,
            o = 2 * n - s,
            new be(r(e + 120),r(e),r(e - 120))
        }
        function ge(e, t, n) {
            return this instanceof ge ? (this.h = +e,
            this.c = +t,
            void (this.l = +n)) : arguments.length < 2 ? e instanceof ge ? new ge(e.h,e.c,e.l) : e instanceof me ? Ae(e.l, e.a, e.b) : Ae((e = $e((e = fs.rgb(e)).r, e.g, e.b)).l, e.a, e.b) : new ge(e,t,n)
        }
        function pe(e, t, n) {
            return isNaN(e) && (e = 0),
            isNaN(t) && (t = 0),
            new me(n,Math.cos(e *= js) * t,Math.sin(e) * t)
        }
        function me(e, t, n) {
            return this instanceof me ? (this.l = +e,
            this.a = +t,
            void (this.b = +n)) : arguments.length < 2 ? e instanceof me ? new me(e.l,e.a,e.b) : e instanceof ge ? pe(e.h, e.c, e.l) : $e((e = be(e)).r, e.g, e.b) : new me(e,t,n)
        }
        function ve(e, t, n) {
            var i = (e + 16) / 116
              , r = i + t / 500
              , o = i - n / 200;
            return r = we(r) * ta,
            i = we(i) * na,
            o = we(o) * ia,
            new be(ye(3.2404542 * r - 1.5371385 * i - .4985314 * o),ye(-.969266 * r + 1.8760108 * i + .041556 * o),ye(.0556434 * r - .2040259 * i + 1.0572252 * o))
        }
        function Ae(e, t, n) {
            return e > 0 ? new ge(Math.atan2(n, t) * qs,Math.sqrt(t * t + n * n),e) : new ge(NaN,NaN,e)
        }
        function we(e) {
            return e > .206893034 ? e * e * e : (e - 4 / 29) / 7.787037
        }
        function Ce(e) {
            return e > .008856 ? Math.pow(e, 1 / 3) : 7.787037 * e + 4 / 29
        }
        function ye(e) {
            return Math.round(255 * (e <= .00304 ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - .055))
        }
        function be(e, t, n) {
            return this instanceof be ? (this.r = ~~e,
            this.g = ~~t,
            void (this.b = ~~n)) : arguments.length < 2 ? e instanceof be ? new be(e.r,e.g,e.b) : Se("" + e, be, fe) : new be(e,t,n)
        }
        function Fe(e) {
            return new be(e >> 16,e >> 8 & 255,255 & e)
        }
        function Ee(e) {
            return Fe(e) + ""
        }
        function xe(e) {
            return e < 16 ? "0" + Math.max(0, e).toString(16) : Math.min(255, e).toString(16)
        }
        function Se(e, t, n) {
            var i, r, o, s = 0, a = 0, l = 0;
            if (i = /([a-z]+)\((.*)\)/.exec(e = e.toLowerCase()))
                switch (r = i[2].split(","),
                i[1]) {
                case "hsl":
                    return n(parseFloat(r[0]), parseFloat(r[1]) / 100, parseFloat(r[2]) / 100);
                case "rgb":
                    return t(De(r[0]), De(r[1]), De(r[2]))
                }
            return (o = sa.get(e)) ? t(o.r, o.g, o.b) : (null == e || "#" !== e.charAt(0) || isNaN(o = parseInt(e.slice(1), 16)) || (4 === e.length ? (s = (3840 & o) >> 4,
            s |= s >> 4,
            a = 240 & o,
            a |= a >> 4,
            l = 15 & o,
            l |= l << 4) : 7 === e.length && (s = (16711680 & o) >> 16,
            a = (65280 & o) >> 8,
            l = 255 & o)),
            t(s, a, l))
        }
        function ke(e, t, n) {
            var i, r, o = Math.min(e /= 255, t /= 255, n /= 255), s = Math.max(e, t, n), a = s - o, l = (s + o) / 2;
            return a ? (r = l < .5 ? a / (s + o) : a / (2 - s - o),
            i = e == s ? (t - n) / a + (t < n ? 6 : 0) : t == s ? (n - e) / a + 2 : (e - t) / a + 4,
            i *= 60) : (i = NaN,
            r = l > 0 && l < 1 ? 0 : i),
            new de(i,r,l)
        }
        function $e(e, t, n) {
            e = Be(e),
            t = Be(t),
            n = Be(n);
            var i = Ce((.4124564 * e + .3575761 * t + .1804375 * n) / ta)
              , r = Ce((.2126729 * e + .7151522 * t + .072175 * n) / na);
            return me(116 * r - 16, 500 * (i - r), 200 * (r - Ce((.0193339 * e + .119192 * t + .9503041 * n) / ia)))
        }
        function Be(e) {
            return (e /= 255) <= .04045 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4)
        }
        function De(e) {
            var t = parseFloat(e);
            return "%" === e.charAt(e.length - 1) ? Math.round(2.55 * t) : t
        }
        function Me(e) {
            return "function" == typeof e ? e : function() {
                return e
            }
        }
        function Le(e) {
            return function(t, n, i) {
                return 2 === arguments.length && "function" == typeof n && (i = n,
                n = null),
                _e(t, n, e, i)
            }
        }
        function _e(e, t, n, i) {
            function r() {
                var e, t = l.status;
                if (!t && Te(l) || t >= 200 && t < 300 || 304 === t) {
                    try {
                        e = n.call(o, l)
                    } catch (e) {
                        return void s.error.call(o, e)
                    }
                    s.load.call(o, e)
                } else
                    s.error.call(o, l)
            }
            var o = {}
              , s = fs.dispatch("beforesend", "progress", "load", "error")
              , a = {}
              , l = new XMLHttpRequest
              , c = null;
            return !this.XDomainRequest || "withCredentials"in l || !/^(http(s)?:)?\/\//.test(e) || (l = new XDomainRequest),
            "onload"in l ? l.onload = l.onerror = r : l.onreadystatechange = function() {
                l.readyState > 3 && r()
            }
            ,
            l.onprogress = function(e) {
                var t = fs.event;
                fs.event = e;
                try {
                    s.progress.call(o, l)
                } finally {
                    fs.event = t
                }
            }
            ,
            o.header = function(e, t) {
                return e = (e + "").toLowerCase(),
                arguments.length < 2 ? a[e] : (null == t ? delete a[e] : a[e] = t + "",
                o)
            }
            ,
            o.mimeType = function(e) {
                return arguments.length ? (t = null == e ? null : e + "",
                o) : t
            }
            ,
            o.responseType = function(e) {
                return arguments.length ? (c = e,
                o) : c
            }
            ,
            o.response = function(e) {
                return n = e,
                o
            }
            ,
            ["get", "post"].forEach(function(e) {
                o[e] = function() {
                    return o.send.apply(o, [e].concat(ps(arguments)))
                }
            }),
            o.send = function(n, i, r) {
                if (2 === arguments.length && "function" == typeof i && (r = i,
                i = null),
                l.open(n, e, !0),
                null == t || "accept"in a || (a.accept = t + ",*/*"),
                l.setRequestHeader)
                    for (var u in a)
                        l.setRequestHeader(u, a[u]);
                return null != t && l.overrideMimeType && l.overrideMimeType(t),
                null != c && (l.responseType = c),
                null != r && o.on("error", r).on("load", function(e) {
                    r(null, e)
                }),
                s.beforesend.call(o, l),
                l.send(null == i ? null : i),
                o
            }
            ,
            o.abort = function() {
                return l.abort(),
                o
            }
            ,
            fs.rebind(o, s, "on"),
            null == i ? o : o.get(Re(i))
        }
        function Re(e) {
            return 1 === e.length ? function(t, n) {
                e(null == t ? n : null)
            }
            : e
        }
        function Te(e) {
            var t = e.responseType;
            return t && "text" !== t ? e.response : e.responseText
        }
        function Ie(e, t, n) {
            var i = arguments.length;
            i < 2 && (t = 0),
            i < 3 && (n = Date.now());
            var r = n + t
              , o = {
                c: e,
                t: r,
                n: null
            };
            return la ? la.n = o : aa = o,
            la = o,
            ca || (ua = clearTimeout(ua),
            ca = 1,
            ha(Oe)),
            o
        }
        function Oe() {
            var e = Ne()
              , t = We() - e;
            t > 24 ? (isFinite(t) && (clearTimeout(ua),
            ua = setTimeout(Oe, t)),
            ca = 0) : (ca = 1,
            ha(Oe))
        }
        function Ne() {
            for (var e = Date.now(), t = aa; t; )
                e >= t.t && t.c(e - t.t) && (t.c = null),
                t = t.n;
            return e
        }
        function We() {
            for (var e, t = aa, n = 1 / 0; t; )
                t.c ? (t.t < n && (n = t.t),
                t = (e = t).n) : t = e ? e.n = t.n : aa = t.n;
            return la = e,
            n
        }
        function Pe(e, t) {
            return t - (e ? Math.ceil(Math.log(e) / Math.LN10) : 1)
        }
        function He(e, t) {
            var n = Math.pow(10, 3 * Fs(8 - t));
            return {
                scale: t > 8 ? function(e) {
                    return e / n
                }
                : function(e) {
                    return e * n
                }
                ,
                symbol: e
            }
        }
        function ze(e) {
            var t = e.decimal
              , n = e.thousands
              , i = e.grouping
              , r = e.currency
              , o = i && n ? function(e, t) {
                for (var r = e.length, o = [], s = 0, a = i[0], l = 0; r > 0 && a > 0 && (l + a + 1 > t && (a = Math.max(1, t - l)),
                o.push(e.substring(r -= a, r + a)),
                !((l += a + 1) > t)); )
                    a = i[s = (s + 1) % i.length];
                return o.reverse().join(n)
            }
            : F;
            return function(e) {
                var n = fa.exec(e)
                  , i = n[1] || " "
                  , s = n[2] || ">"
                  , a = n[3] || "-"
                  , l = n[4] || ""
                  , c = n[5]
                  , u = +n[6]
                  , h = n[7]
                  , d = n[8]
                  , f = n[9]
                  , g = 1
                  , p = ""
                  , m = ""
                  , v = !1
                  , A = !0;
                switch (d && (d = +d.substring(1)),
                (c || "0" === i && "=" === s) && (c = i = "0",
                s = "="),
                f) {
                case "n":
                    h = !0,
                    f = "g";
                    break;
                case "%":
                    g = 100,
                    m = "%",
                    f = "f";
                    break;
                case "p":
                    g = 100,
                    m = "%",
                    f = "r";
                    break;
                case "b":
                case "o":
                case "x":
                case "X":
                    "#" === l && (p = "0" + f.toLowerCase());
                case "c":
                    A = !1;
                case "d":
                    v = !0,
                    d = 0;
                    break;
                case "s":
                    g = -1,
                    f = "r"
                }
                "$" === l && (p = r[0],
                m = r[1]),
                "r" != f || d || (f = "g"),
                null != d && ("g" == f ? d = Math.max(1, Math.min(21, d)) : "e" != f && "f" != f || (d = Math.max(0, Math.min(20, d)))),
                f = ga.get(f) || Ve;
                var w = c && h;
                return function(e) {
                    var n = m;
                    if (v && e % 1)
                        return "";
                    var r = e < 0 || 0 === e && 1 / e < 0 ? (e = -e,
                    "-") : "-" === a ? "" : a;
                    if (g < 0) {
                        var l = fs.formatPrefix(e, d);
                        e = l.scale(e),
                        n = l.symbol + m
                    } else
                        e *= g;
                    e = f(e, d);
                    var C, y, b = e.lastIndexOf(".");
                    if (b < 0) {
                        var F = A ? e.lastIndexOf("e") : -1;
                        F < 0 ? (C = e,
                        y = "") : (C = e.substring(0, F),
                        y = e.substring(F))
                    } else
                        C = e.substring(0, b),
                        y = t + e.substring(b + 1);
                    !c && h && (C = o(C, 1 / 0));
                    var E = p.length + C.length + y.length + (w ? 0 : r.length)
                      , x = E < u ? new Array(E = u - E + 1).join(i) : "";
                    return w && (C = o(x + C, x.length ? u - y.length : 1 / 0)),
                    r += p,
                    e = C + y,
                    ("<" === s ? r + e + x : ">" === s ? x + r + e : "^" === s ? x.substring(0, E >>= 1) + r + e + x.substring(E) : r + (w ? e : x + e)) + n
                }
            }
        }
        function Ve(e) {
            return e + ""
        }
        function Ue() {
            this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0])
        }
        function Ke(e, t, n) {
            function i(t) {
                var n = e(t)
                  , i = o(n, 1);
                return t - n < i - t ? n : i
            }
            function r(n) {
                return t(n = e(new ma(n - 1)), 1),
                n
            }
            function o(e, n) {
                return t(e = new ma(+e), n),
                e
            }
            function s(e, i, o) {
                var s = r(e)
                  , a = [];
                if (o > 1)
                    for (; s < i; )
                        n(s) % o || a.push(new Date(+s)),
                        t(s, 1);
                else
                    for (; s < i; )
                        a.push(new Date(+s)),
                        t(s, 1);
                return a
            }
            function a(e, t, n) {
                try {
                    ma = Ue;
                    var i = new Ue;
                    return i._ = e,
                    s(i, t, n)
                } finally {
                    ma = Date
                }
            }
            e.floor = e,
            e.round = i,
            e.ceil = r,
            e.offset = o,
            e.range = s;
            var l = e.utc = je(e);
            return l.floor = l,
            l.round = je(i),
            l.ceil = je(r),
            l.offset = je(o),
            l.range = a,
            e
        }
        function je(e) {
            return function(t, n) {
                try {
                    ma = Ue;
                    var i = new Ue;
                    return i._ = t,
                    e(i, n)._
                } finally {
                    ma = Date
                }
            }
        }
        function qe(e) {
            function t(e) {
                function t(t) {
                    for (var n, r, o, s = [], a = -1, l = 0; ++a < i; )
                        37 === e.charCodeAt(a) && (s.push(e.slice(l, a)),
                        null != (r = Aa[n = e.charAt(++a)]) && (n = e.charAt(++a)),
                        (o = $[n]) && (n = o(t, null == r ? "e" === n ? " " : "0" : r)),
                        s.push(n),
                        l = a + 1);
                    return s.push(e.slice(l, a)),
                    s.join("")
                }
                var i = e.length;
                return t.parse = function(t) {
                    var i = {
                        y: 1900,
                        m: 0,
                        d: 1,
                        H: 0,
                        M: 0,
                        S: 0,
                        L: 0,
                        Z: null
                    };
                    if (n(i, e, t, 0) != t.length)
                        return null;
                    "p"in i && (i.H = i.H % 12 + 12 * i.p);
                    var r = null != i.Z && ma !== Ue
                      , o = new (r ? Ue : ma);
                    return "j"in i ? o.setFullYear(i.y, 0, i.j) : "W"in i || "U"in i ? ("w"in i || (i.w = "W"in i ? 1 : 0),
                    o.setFullYear(i.y, 0, 1),
                    o.setFullYear(i.y, 0, "W"in i ? (i.w + 6) % 7 + 7 * i.W - (o.getDay() + 5) % 7 : i.w + 7 * i.U - (o.getDay() + 6) % 7)) : o.setFullYear(i.y, i.m, i.d),
                    o.setHours(i.H + (i.Z / 100 | 0), i.M + i.Z % 100, i.S, i.L),
                    r ? o._ : o
                }
                ,
                t.toString = function() {
                    return e
                }
                ,
                t
            }
            function n(e, t, n, i) {
                for (var r, o, s, a = 0, l = t.length, c = n.length; a < l; ) {
                    if (i >= c)
                        return -1;
                    if (37 === (r = t.charCodeAt(a++))) {
                        if (s = t.charAt(a++),
                        !(o = B[s in Aa ? t.charAt(a++) : s]) || (i = o(e, n, i)) < 0)
                            return -1
                    } else if (r != n.charCodeAt(i++))
                        return -1
                }
                return i
            }
            function i(e, t, n) {
                b.lastIndex = 0;
                var i = b.exec(t.slice(n));
                return i ? (e.w = F.get(i[0].toLowerCase()),
                n + i[0].length) : -1
            }
            function r(e, t, n) {
                C.lastIndex = 0;
                var i = C.exec(t.slice(n));
                return i ? (e.w = y.get(i[0].toLowerCase()),
                n + i[0].length) : -1
            }
            function o(e, t, n) {
                S.lastIndex = 0;
                var i = S.exec(t.slice(n));
                return i ? (e.m = k.get(i[0].toLowerCase()),
                n + i[0].length) : -1
            }
            function s(e, t, n) {
                E.lastIndex = 0;
                var i = E.exec(t.slice(n));
                return i ? (e.m = x.get(i[0].toLowerCase()),
                n + i[0].length) : -1
            }
            function a(e, t, i) {
                return n(e, $.c.toString(), t, i)
            }
            function l(e, t, i) {
                return n(e, $.x.toString(), t, i)
            }
            function c(e, t, i) {
                return n(e, $.X.toString(), t, i)
            }
            function u(e, t, n) {
                var i = w.get(t.slice(n, n += 2).toLowerCase());
                return null == i ? -1 : (e.p = i,
                n)
            }
            var h = e.dateTime
              , d = e.date
              , f = e.time
              , g = e.periods
              , p = e.days
              , m = e.shortDays
              , v = e.months
              , A = e.shortMonths;
            t.utc = function(e) {
                function n(e) {
                    try {
                        ma = Ue;
                        var t = new ma;
                        return t._ = e,
                        i(t)
                    } finally {
                        ma = Date
                    }
                }
                var i = t(e);
                return n.parse = function(e) {
                    try {
                        ma = Ue;
                        var t = i.parse(e);
                        return t && t._
                    } finally {
                        ma = Date
                    }
                }
                ,
                n.toString = i.toString,
                n
            }
            ,
            t.multi = t.utc.multi = ft;
            var w = fs.map()
              , C = Ye(p)
              , y = Xe(p)
              , b = Ye(m)
              , F = Xe(m)
              , E = Ye(v)
              , x = Xe(v)
              , S = Ye(A)
              , k = Xe(A);
            g.forEach(function(e, t) {
                w.set(e.toLowerCase(), t)
            });
            var $ = {
                a: function(e) {
                    return m[e.getDay()]
                },
                A: function(e) {
                    return p[e.getDay()]
                },
                b: function(e) {
                    return A[e.getMonth()]
                },
                B: function(e) {
                    return v[e.getMonth()]
                },
                c: t(h),
                d: function(e, t) {
                    return Ge(e.getDate(), t, 2)
                },
                e: function(e, t) {
                    return Ge(e.getDate(), t, 2)
                },
                H: function(e, t) {
                    return Ge(e.getHours(), t, 2)
                },
                I: function(e, t) {
                    return Ge(e.getHours() % 12 || 12, t, 2)
                },
                j: function(e, t) {
                    return Ge(1 + pa.dayOfYear(e), t, 3)
                },
                L: function(e, t) {
                    return Ge(e.getMilliseconds(), t, 3)
                },
                m: function(e, t) {
                    return Ge(e.getMonth() + 1, t, 2)
                },
                M: function(e, t) {
                    return Ge(e.getMinutes(), t, 2)
                },
                p: function(e) {
                    return g[+(e.getHours() >= 12)]
                },
                S: function(e, t) {
                    return Ge(e.getSeconds(), t, 2)
                },
                U: function(e, t) {
                    return Ge(pa.sundayOfYear(e), t, 2)
                },
                w: function(e) {
                    return e.getDay()
                },
                W: function(e, t) {
                    return Ge(pa.mondayOfYear(e), t, 2)
                },
                x: t(d),
                X: t(f),
                y: function(e, t) {
                    return Ge(e.getFullYear() % 100, t, 2)
                },
                Y: function(e, t) {
                    return Ge(e.getFullYear() % 1e4, t, 4)
                },
                Z: ht,
                "%": function() {
                    return "%"
                }
            }
              , B = {
                a: i,
                A: r,
                b: o,
                B: s,
                c: a,
                d: ot,
                e: ot,
                H: at,
                I: at,
                j: st,
                L: ut,
                m: rt,
                M: lt,
                p: u,
                S: ct,
                U: Ze,
                w: Qe,
                W: Je,
                x: l,
                X: c,
                y: tt,
                Y: et,
                Z: nt,
                "%": dt
            };
            return t
        }
        function Ge(e, t, n) {
            var i = e < 0 ? "-" : ""
              , r = (i ? -e : e) + ""
              , o = r.length;
            return i + (o < n ? new Array(n - o + 1).join(t) + r : r)
        }
        function Ye(e) {
            return new RegExp("^(?:" + e.map(fs.requote).join("|") + ")","i")
        }
        function Xe(e) {
            for (var t = new g, n = -1, i = e.length; ++n < i; )
                t.set(e[n].toLowerCase(), n);
            return t
        }
        function Qe(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 1));
            return i ? (e.w = +i[0],
            n + i[0].length) : -1
        }
        function Ze(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n));
            return i ? (e.U = +i[0],
            n + i[0].length) : -1
        }
        function Je(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n));
            return i ? (e.W = +i[0],
            n + i[0].length) : -1
        }
        function et(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 4));
            return i ? (e.y = +i[0],
            n + i[0].length) : -1
        }
        function tt(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 2));
            return i ? (e.y = it(+i[0]),
            n + i[0].length) : -1
        }
        function nt(e, t, n) {
            return /^[+-]\d{4}$/.test(t = t.slice(n, n + 5)) ? (e.Z = -t,
            n + 5) : -1
        }
        function it(e) {
            return e + (e > 68 ? 1900 : 2e3)
        }
        function rt(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 2));
            return i ? (e.m = i[0] - 1,
            n + i[0].length) : -1
        }
        function ot(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 2));
            return i ? (e.d = +i[0],
            n + i[0].length) : -1
        }
        function st(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 3));
            return i ? (e.j = +i[0],
            n + i[0].length) : -1
        }
        function at(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 2));
            return i ? (e.H = +i[0],
            n + i[0].length) : -1
        }
        function lt(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 2));
            return i ? (e.M = +i[0],
            n + i[0].length) : -1
        }
        function ct(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 2));
            return i ? (e.S = +i[0],
            n + i[0].length) : -1
        }
        function ut(e, t, n) {
            wa.lastIndex = 0;
            var i = wa.exec(t.slice(n, n + 3));
            return i ? (e.L = +i[0],
            n + i[0].length) : -1
        }
        function ht(e) {
            var t = e.getTimezoneOffset()
              , n = t > 0 ? "-" : "+"
              , i = Fs(t) / 60 | 0
              , r = Fs(t) % 60;
            return n + Ge(i, "0", 2) + Ge(r, "0", 2)
        }
        function dt(e, t, n) {
            Ca.lastIndex = 0;
            var i = Ca.exec(t.slice(n, n + 1));
            return i ? n + i[0].length : -1
        }
        function ft(e) {
            for (var t = e.length, n = -1; ++n < t; )
                e[n][0] = this(e[n][0]);
            return function(t) {
                for (var n = 0, i = e[n]; !i[1](t); )
                    i = e[++n];
                return i[0](t)
            }
        }
        function gt() {}
        function pt(e, t, n) {
            var i = n.s = e + t
              , r = i - e
              , o = i - r;
            n.t = e - o + (t - r)
        }
        function mt(e, t) {
            e && Ea.hasOwnProperty(e.type) && Ea[e.type](e, t)
        }
        function vt(e, t, n) {
            var i, r = -1, o = e.length - n;
            for (t.lineStart(); ++r < o; )
                i = e[r],
                t.point(i[0], i[1], i[2]);
            t.lineEnd()
        }
        function At(e, t) {
            var n = -1
              , i = e.length;
            for (t.polygonStart(); ++n < i; )
                vt(e[n], t, 1);
            t.polygonEnd()
        }
        function wt() {
            function e(e, t) {
                e *= js,
                t = t * js / 2 + zs / 4;
                var n = e - i
                  , s = n >= 0 ? 1 : -1
                  , a = s * n
                  , l = Math.cos(t)
                  , c = Math.sin(t)
                  , u = o * c
                  , h = r * l + u * Math.cos(a)
                  , d = u * s * Math.sin(a);
                Sa.add(Math.atan2(d, h)),
                i = e,
                r = l,
                o = c
            }
            var t, n, i, r, o;
            ka.point = function(s, a) {
                ka.point = e,
                i = (t = s) * js,
                r = Math.cos(a = (n = a) * js / 2 + zs / 4),
                o = Math.sin(a)
            }
            ,
            ka.lineEnd = function() {
                e(t, n)
            }
        }
        function Ct(e) {
            var t = e[0]
              , n = e[1]
              , i = Math.cos(n);
            return [i * Math.cos(t), i * Math.sin(t), Math.sin(n)]
        }
        function yt(e, t) {
            return e[0] * t[0] + e[1] * t[1] + e[2] * t[2]
        }
        function bt(e, t) {
            return [e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0]]
        }
        function Ft(e, t) {
            e[0] += t[0],
            e[1] += t[1],
            e[2] += t[2]
        }
        function Et(e, t) {
            return [e[0] * t, e[1] * t, e[2] * t]
        }
        function xt(e) {
            var t = Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
            e[0] /= t,
            e[1] /= t,
            e[2] /= t
        }
        function St(e) {
            return [Math.atan2(e[1], e[0]), se(e[2])]
        }
        function kt(e, t) {
            return Fs(e[0] - t[0]) < Ps && Fs(e[1] - t[1]) < Ps
        }
        function $t(e, t) {
            e *= js;
            var n = Math.cos(t *= js);
            Bt(n * Math.cos(e), n * Math.sin(e), Math.sin(t))
        }
        function Bt(e, t, n) {
            ++$a,
            Da += (e - Da) / $a,
            Ma += (t - Ma) / $a,
            La += (n - La) / $a
        }
        function Dt() {
            function e(e, r) {
                e *= js;
                var o = Math.cos(r *= js)
                  , s = o * Math.cos(e)
                  , a = o * Math.sin(e)
                  , l = Math.sin(r)
                  , c = Math.atan2(Math.sqrt((c = n * l - i * a) * c + (c = i * s - t * l) * c + (c = t * a - n * s) * c), t * s + n * a + i * l);
                Ba += c,
                _a += c * (t + (t = s)),
                Ra += c * (n + (n = a)),
                Ta += c * (i + (i = l)),
                Bt(t, n, i)
            }
            var t, n, i;
            Wa.point = function(r, o) {
                r *= js;
                var s = Math.cos(o *= js);
                t = s * Math.cos(r),
                n = s * Math.sin(r),
                i = Math.sin(o),
                Wa.point = e,
                Bt(t, n, i)
            }
        }
        function Mt() {
            Wa.point = $t
        }
        function Lt() {
            function e(e, t) {
                e *= js;
                var n = Math.cos(t *= js)
                  , s = n * Math.cos(e)
                  , a = n * Math.sin(e)
                  , l = Math.sin(t)
                  , c = r * l - o * a
                  , u = o * s - i * l
                  , h = i * a - r * s
                  , d = Math.sqrt(c * c + u * u + h * h)
                  , f = i * s + r * a + o * l
                  , g = d && -oe(f) / d
                  , p = Math.atan2(d, f);
                Ia += g * c,
                Oa += g * u,
                Na += g * h,
                Ba += p,
                _a += p * (i + (i = s)),
                Ra += p * (r + (r = a)),
                Ta += p * (o + (o = l)),
                Bt(i, r, o)
            }
            var t, n, i, r, o;
            Wa.point = function(s, a) {
                t = s,
                n = a,
                Wa.point = e,
                s *= js;
                var l = Math.cos(a *= js);
                i = l * Math.cos(s),
                r = l * Math.sin(s),
                o = Math.sin(a),
                Bt(i, r, o)
            }
            ,
            Wa.lineEnd = function() {
                e(t, n),
                Wa.lineEnd = Mt,
                Wa.point = $t
            }
        }
        function _t(e, t) {
            function n(n, i) {
                return n = e(n, i),
                t(n[0], n[1])
            }
            return e.invert && t.invert && (n.invert = function(n, i) {
                return (n = t.invert(n, i)) && e.invert(n[0], n[1])
            }
            ),
            n
        }
        function Rt() {
            return !0
        }
        function Tt(e, t, n, i, r) {
            var o = []
              , s = [];
            if (e.forEach(function(e) {
                if (!((t = e.length - 1) <= 0)) {
                    var t, n = e[0], i = e[t];
                    if (kt(n, i)) {
                        r.lineStart();
                        for (var a = 0; a < t; ++a)
                            r.point((n = e[a])[0], n[1]);
                        return void r.lineEnd()
                    }
                    var l = new Ot(n,e,null,!0)
                      , c = new Ot(n,null,l,!1);
                    l.o = c,
                    o.push(l),
                    s.push(c),
                    l = new Ot(i,e,null,!1),
                    c = new Ot(i,null,l,!0),
                    l.o = c,
                    o.push(l),
                    s.push(c)
                }
            }),
            s.sort(t),
            It(o),
            It(s),
            o.length) {
                for (var a = 0, l = n, c = s.length; a < c; ++a)
                    s[a].e = l = !l;
                for (var u, h, d = o[0]; ; ) {
                    for (var f = d, g = !0; f.v; )
                        if ((f = f.n) === d)
                            return;
                    u = f.z,
                    r.lineStart();
                    do {
                        if (f.v = f.o.v = !0,
                        f.e) {
                            if (g)
                                for (var a = 0, c = u.length; a < c; ++a)
                                    r.point((h = u[a])[0], h[1]);
                            else
                                i(f.x, f.n.x, 1, r);
                            f = f.n
                        } else {
                            if (g) {
                                u = f.p.z;
                                for (var a = u.length - 1; a >= 0; --a)
                                    r.point((h = u[a])[0], h[1])
                            } else
                                i(f.x, f.p.x, -1, r);
                            f = f.p
                        }
                        f = f.o,
                        u = f.z,
                        g = !g
                    } while (!f.v);
                    r.lineEnd()
                }
            }
        }
        function It(e) {
            if (t = e.length) {
                for (var t, n, i = 0, r = e[0]; ++i < t; )
                    r.n = n = e[i],
                    n.p = r,
                    r = n;
                r.n = n = e[0],
                n.p = r
            }
        }
        function Ot(e, t, n, i) {
            this.x = e,
            this.z = t,
            this.o = n,
            this.e = i,
            this.v = !1,
            this.n = this.p = null
        }
        function Nt(e, t, n, i) {
            return function(r, o) {
                function s(t, n) {
                    var i = r(t, n);
                    e(t = i[0], n = i[1]) && o.point(t, n)
                }
                function a(e, t) {
                    var n = r(e, t);
                    m.point(n[0], n[1])
                }
                function l() {
                    A.point = a,
                    m.lineStart()
                }
                function c() {
                    A.point = s,
                    m.lineEnd()
                }
                function u(e, t) {
                    p.push([e, t]);
                    var n = r(e, t);
                    C.point(n[0], n[1])
                }
                function h() {
                    C.lineStart(),
                    p = []
                }
                function d() {
                    u(p[0][0], p[0][1]),
                    C.lineEnd();
                    var e, t = C.clean(), n = w.buffer(), i = n.length;
                    if (p.pop(),
                    g.push(p),
                    p = null,
                    i)
                        if (1 & t) {
                            e = n[0];
                            var r, i = e.length - 1, s = -1;
                            if (i > 0) {
                                for (y || (o.polygonStart(),
                                y = !0),
                                o.lineStart(); ++s < i; )
                                    o.point((r = e[s])[0], r[1]);
                                o.lineEnd()
                            }
                        } else
                            i > 1 && 2 & t && n.push(n.pop().concat(n.shift())),
                            f.push(n.filter(Wt))
                }
                var f, g, p, m = t(o), v = r.invert(i[0], i[1]), A = {
                    point: s,
                    lineStart: l,
                    lineEnd: c,
                    polygonStart: function() {
                        A.point = u,
                        A.lineStart = h,
                        A.lineEnd = d,
                        f = [],
                        g = []
                    },
                    polygonEnd: function() {
                        A.point = s,
                        A.lineStart = l,
                        A.lineEnd = c,
                        f = fs.merge(f);
                        var e = Kt(v, g);
                        f.length ? (y || (o.polygonStart(),
                        y = !0),
                        Tt(f, Ht, e, n, o)) : e && (y || (o.polygonStart(),
                        y = !0),
                        o.lineStart(),
                        n(null, null, 1, o),
                        o.lineEnd()),
                        y && (o.polygonEnd(),
                        y = !1),
                        f = g = null
                    },
                    sphere: function() {
                        o.polygonStart(),
                        o.lineStart(),
                        n(null, null, 1, o),
                        o.lineEnd(),
                        o.polygonEnd()
                    }
                }, w = Pt(), C = t(w), y = !1;
                return A
            }
        }
        function Wt(e) {
            return e.length > 1
        }
        function Pt() {
            var e, t = [];
            return {
                lineStart: function() {
                    t.push(e = [])
                },
                point: function(t, n) {
                    e.push([t, n])
                },
                lineEnd: S,
                buffer: function() {
                    var n = t;
                    return t = [],
                    e = null,
                    n
                },
                rejoin: function() {
                    t.length > 1 && t.push(t.pop().concat(t.shift()))
                }
            }
        }
        function Ht(e, t) {
            return ((e = e.x)[0] < 0 ? e[1] - Ks - Ps : Ks - e[1]) - ((t = t.x)[0] < 0 ? t[1] - Ks - Ps : Ks - t[1])
        }
        function zt(e) {
            var t, n = NaN, i = NaN, r = NaN;
            return {
                lineStart: function() {
                    e.lineStart(),
                    t = 1
                },
                point: function(o, s) {
                    var a = o > 0 ? zs : -zs
                      , l = Fs(o - n);
                    Fs(l - zs) < Ps ? (e.point(n, i = (i + s) / 2 > 0 ? Ks : -Ks),
                    e.point(r, i),
                    e.lineEnd(),
                    e.lineStart(),
                    e.point(a, i),
                    e.point(o, i),
                    t = 0) : r !== a && l >= zs && (Fs(n - r) < Ps && (n -= r * Ps),
                    Fs(o - a) < Ps && (o -= a * Ps),
                    i = Vt(n, i, o, s),
                    e.point(r, i),
                    e.lineEnd(),
                    e.lineStart(),
                    e.point(a, i),
                    t = 0),
                    e.point(n = o, i = s),
                    r = a
                },
                lineEnd: function() {
                    e.lineEnd(),
                    n = i = NaN
                },
                clean: function() {
                    return 2 - t
                }
            }
        }
        function Vt(e, t, n, i) {
            var r, o, s = Math.sin(e - n);
            return Fs(s) > Ps ? Math.atan((Math.sin(t) * (o = Math.cos(i)) * Math.sin(n) - Math.sin(i) * (r = Math.cos(t)) * Math.sin(e)) / (r * o * s)) : (t + i) / 2
        }
        function Ut(e, t, n, i) {
            var r;
            if (null == e)
                r = n * Ks,
                i.point(-zs, r),
                i.point(0, r),
                i.point(zs, r),
                i.point(zs, 0),
                i.point(zs, -r),
                i.point(0, -r),
                i.point(-zs, -r),
                i.point(-zs, 0),
                i.point(-zs, r);
            else if (Fs(e[0] - t[0]) > Ps) {
                var o = e[0] < t[0] ? zs : -zs;
                r = n * o / 2,
                i.point(-o, r),
                i.point(0, r),
                i.point(o, r)
            } else
                i.point(t[0], t[1])
        }
        function Kt(e, t) {
            var n = e[0]
              , i = e[1]
              , r = [Math.sin(n), -Math.cos(n), 0]
              , o = 0
              , s = 0;
            Sa.reset();
            for (var a = 0, l = t.length; a < l; ++a) {
                var c = t[a]
                  , u = c.length;
                if (u)
                    for (var h = c[0], d = h[0], f = h[1] / 2 + zs / 4, g = Math.sin(f), p = Math.cos(f), m = 1; ; ) {
                        m === u && (m = 0),
                        e = c[m];
                        var v = e[0]
                          , A = e[1] / 2 + zs / 4
                          , w = Math.sin(A)
                          , C = Math.cos(A)
                          , y = v - d
                          , b = y >= 0 ? 1 : -1
                          , F = b * y
                          , E = F > zs
                          , x = g * w;
                        if (Sa.add(Math.atan2(x * b * Math.sin(F), p * C + x * Math.cos(F))),
                        o += E ? y + b * Vs : y,
                        E ^ d >= n ^ v >= n) {
                            var S = bt(Ct(h), Ct(e));
                            xt(S);
                            var k = bt(r, S);
                            xt(k);
                            var $ = (E ^ y >= 0 ? -1 : 1) * se(k[2]);
                            (i > $ || i === $ && (S[0] || S[1])) && (s += E ^ y >= 0 ? 1 : -1)
                        }
                        if (!m++)
                            break;
                        d = v,
                        g = w,
                        p = C,
                        h = e
                    }
            }
            return (o < -Ps || o < Ps && Sa < -Ps) ^ 1 & s
        }
        function jt(e) {
            function t(e, t) {
                return Math.cos(e) * Math.cos(t) > o
            }
            function n(e) {
                var n, o, l, c, u;
                return {
                    lineStart: function() {
                        c = l = !1,
                        u = 1
                    },
                    point: function(h, d) {
                        var f, g = [h, d], p = t(h, d), m = s ? p ? 0 : r(h, d) : p ? r(h + (h < 0 ? zs : -zs), d) : 0;
                        if (!n && (c = l = p) && e.lineStart(),
                        p !== l && (f = i(n, g),
                        (kt(n, f) || kt(g, f)) && (g[0] += Ps,
                        g[1] += Ps,
                        p = t(g[0], g[1]))),
                        p !== l)
                            u = 0,
                            p ? (e.lineStart(),
                            f = i(g, n),
                            e.point(f[0], f[1])) : (f = i(n, g),
                            e.point(f[0], f[1]),
                            e.lineEnd()),
                            n = f;
                        else if (a && n && s ^ p) {
                            var v;
                            m & o || !(v = i(g, n, !0)) || (u = 0,
                            s ? (e.lineStart(),
                            e.point(v[0][0], v[0][1]),
                            e.point(v[1][0], v[1][1]),
                            e.lineEnd()) : (e.point(v[1][0], v[1][1]),
                            e.lineEnd(),
                            e.lineStart(),
                            e.point(v[0][0], v[0][1])))
                        }
                        !p || n && kt(n, g) || e.point(g[0], g[1]),
                        n = g,
                        l = p,
                        o = m
                    },
                    lineEnd: function() {
                        l && e.lineEnd(),
                        n = null
                    },
                    clean: function() {
                        return u | (c && l) << 1
                    }
                }
            }
            function i(e, t, n) {
                var i = Ct(e)
                  , r = Ct(t)
                  , s = [1, 0, 0]
                  , a = bt(i, r)
                  , l = yt(a, a)
                  , c = a[0]
                  , u = l - c * c;
                if (!u)
                    return !n && e;
                var h = o * l / u
                  , d = -o * c / u
                  , f = bt(s, a)
                  , g = Et(s, h);
                Ft(g, Et(a, d));
                var p = f
                  , m = yt(g, p)
                  , v = yt(p, p)
                  , A = m * m - v * (yt(g, g) - 1);
                if (!(A < 0)) {
                    var w = Math.sqrt(A)
                      , C = Et(p, (-m - w) / v);
                    if (Ft(C, g),
                    C = St(C),
                    !n)
                        return C;
                    var y, b = e[0], F = t[0], E = e[1], x = t[1];
                    F < b && (y = b,
                    b = F,
                    F = y);
                    var S = F - b
                      , k = Fs(S - zs) < Ps
                      , $ = k || S < Ps;
                    if (!k && x < E && (y = E,
                    E = x,
                    x = y),
                    $ ? k ? E + x > 0 ^ C[1] < (Fs(C[0] - b) < Ps ? E : x) : E <= C[1] && C[1] <= x : S > zs ^ (b <= C[0] && C[0] <= F)) {
                        var B = Et(p, (-m + w) / v);
                        return Ft(B, g),
                        [C, St(B)]
                    }
                }
            }
            function r(t, n) {
                var i = s ? e : zs - e
                  , r = 0;
                return t < -i ? r |= 1 : t > i && (r |= 2),
                n < -i ? r |= 4 : n > i && (r |= 8),
                r
            }
            var o = Math.cos(e)
              , s = o > 0
              , a = Fs(o) > Ps;
            return Nt(t, n, Cn(e, 6 * js), s ? [0, -e] : [-zs, e - zs])
        }
        function qt(e, t, n, i) {
            return function(r) {
                var o, s = r.a, a = r.b, l = s.x, c = s.y, u = a.x, h = a.y, d = 0, f = 1, g = u - l, p = h - c;
                if (o = e - l,
                g || !(o > 0)) {
                    if (o /= g,
                    g < 0) {
                        if (o < d)
                            return;
                        o < f && (f = o)
                    } else if (g > 0) {
                        if (o > f)
                            return;
                        o > d && (d = o)
                    }
                    if (o = n - l,
                    g || !(o < 0)) {
                        if (o /= g,
                        g < 0) {
                            if (o > f)
                                return;
                            o > d && (d = o)
                        } else if (g > 0) {
                            if (o < d)
                                return;
                            o < f && (f = o)
                        }
                        if (o = t - c,
                        p || !(o > 0)) {
                            if (o /= p,
                            p < 0) {
                                if (o < d)
                                    return;
                                o < f && (f = o)
                            } else if (p > 0) {
                                if (o > f)
                                    return;
                                o > d && (d = o)
                            }
                            if (o = i - c,
                            p || !(o < 0)) {
                                if (o /= p,
                                p < 0) {
                                    if (o > f)
                                        return;
                                    o > d && (d = o)
                                } else if (p > 0) {
                                    if (o < d)
                                        return;
                                    o < f && (f = o)
                                }
                                return d > 0 && (r.a = {
                                    x: l + d * g,
                                    y: c + d * p
                                }),
                                f < 1 && (r.b = {
                                    x: l + f * g,
                                    y: c + f * p
                                }),
                                r
                            }
                        }
                    }
                }
            }
        }
        function Gt(e, t, n, i) {
            function r(i, r) {
                return Fs(i[0] - e) < Ps ? r > 0 ? 0 : 3 : Fs(i[0] - n) < Ps ? r > 0 ? 2 : 1 : Fs(i[1] - t) < Ps ? r > 0 ? 1 : 0 : r > 0 ? 3 : 2
            }
            function o(e, t) {
                return s(e.x, t.x)
            }
            function s(e, t) {
                var n = r(e, 1)
                  , i = r(t, 1);
                return n !== i ? n - i : 0 === n ? t[1] - e[1] : 1 === n ? e[0] - t[0] : 2 === n ? e[1] - t[1] : t[0] - e[0]
            }
            return function(a) {
                function l(e) {
                    for (var t = 0, n = m.length, i = e[1], r = 0; r < n; ++r)
                        for (var o, s = 1, a = m[r], l = a.length, c = a[0]; s < l; ++s)
                            o = a[s],
                            c[1] <= i ? o[1] > i && re(c, o, e) > 0 && ++t : o[1] <= i && re(c, o, e) < 0 && --t,
                            c = o;
                    return 0 !== t
                }
                function c(o, a, l, c) {
                    var u = 0
                      , h = 0;
                    if (null == o || (u = r(o, l)) !== (h = r(a, l)) || s(o, a) < 0 ^ l > 0)
                        do {
                            c.point(0 === u || 3 === u ? e : n, u > 1 ? i : t)
                        } while ((u = (u + l + 4) % 4) !== h);
                    else
                        c.point(a[0], a[1])
                }
                function u(r, o) {
                    return e <= r && r <= n && t <= o && o <= i
                }
                function h(e, t) {
                    u(e, t) && a.point(e, t)
                }
                function d() {
                    B.point = g,
                    m && m.push(v = []),
                    E = !0,
                    F = !1,
                    y = b = NaN
                }
                function f() {
                    p && (g(A, w),
                    C && F && k.rejoin(),
                    p.push(k.buffer())),
                    B.point = h,
                    F && a.lineEnd()
                }
                function g(e, t) {
                    e = Math.max(-Ha, Math.min(Ha, e)),
                    t = Math.max(-Ha, Math.min(Ha, t));
                    var n = u(e, t);
                    if (m && v.push([e, t]),
                    E)
                        A = e,
                        w = t,
                        C = n,
                        E = !1,
                        n && (a.lineStart(),
                        a.point(e, t));
                    else if (n && F)
                        a.point(e, t);
                    else {
                        var i = {
                            a: {
                                x: y,
                                y: b
                            },
                            b: {
                                x: e,
                                y: t
                            }
                        };
                        $(i) ? (F || (a.lineStart(),
                        a.point(i.a.x, i.a.y)),
                        a.point(i.b.x, i.b.y),
                        n || a.lineEnd(),
                        x = !1) : n && (a.lineStart(),
                        a.point(e, t),
                        x = !1)
                    }
                    y = e,
                    b = t,
                    F = n
                }
                var p, m, v, A, w, C, y, b, F, E, x, S = a, k = Pt(), $ = qt(e, t, n, i), B = {
                    point: h,
                    lineStart: d,
                    lineEnd: f,
                    polygonStart: function() {
                        a = k,
                        p = [],
                        m = [],
                        x = !0
                    },
                    polygonEnd: function() {
                        a = S,
                        p = fs.merge(p);
                        var t = l([e, i])
                          , n = x && t
                          , r = p.length;
                        (n || r) && (a.polygonStart(),
                        n && (a.lineStart(),
                        c(null, null, 1, a),
                        a.lineEnd()),
                        r && Tt(p, o, t, c, a),
                        a.polygonEnd()),
                        p = m = v = null
                    }
                };
                return B
            }
        }
        function Yt(e) {
            var t = 0
              , n = zs / 3
              , i = dn(e)
              , r = i(t, n);
            return r.parallels = function(e) {
                return arguments.length ? i(t = e[0] * zs / 180, n = e[1] * zs / 180) : [t / zs * 180, n / zs * 180]
            }
            ,
            r
        }
        function Xt(e, t) {
            function n(e, t) {
                var n = Math.sqrt(o - 2 * r * Math.sin(t)) / r;
                return [n * Math.sin(e *= r), s - n * Math.cos(e)]
            }
            var i = Math.sin(e)
              , r = (i + Math.sin(t)) / 2
              , o = 1 + i * (2 * r - i)
              , s = Math.sqrt(o) / r;
            return n.invert = function(e, t) {
                var n = s - t;
                return [Math.atan2(e, n) / r, se((o - (e * e + n * n) * r * r) / (2 * r))]
            }
            ,
            n
        }
        function Qt() {
            function e(e, t) {
                Va += r * e - i * t,
                i = e,
                r = t
            }
            var t, n, i, r;
            Ga.point = function(o, s) {
                Ga.point = e,
                t = i = o,
                n = r = s
            }
            ,
            Ga.lineEnd = function() {
                e(t, n)
            }
        }
        function Zt(e, t) {
            e < Ua && (Ua = e),
            e > ja && (ja = e),
            t < Ka && (Ka = t),
            t > qa && (qa = t)
        }
        function Jt() {
            function e(e, t) {
                s.push("M", e, ",", t, o)
            }
            function t(e, t) {
                s.push("M", e, ",", t),
                a.point = n
            }
            function n(e, t) {
                s.push("L", e, ",", t)
            }
            function i() {
                a.point = e
            }
            function r() {
                s.push("Z")
            }
            var o = en(4.5)
              , s = []
              , a = {
                point: e,
                lineStart: function() {
                    a.point = t
                },
                lineEnd: i,
                polygonStart: function() {
                    a.lineEnd = r
                },
                polygonEnd: function() {
                    a.lineEnd = i,
                    a.point = e
                },
                pointRadius: function(e) {
                    return o = en(e),
                    a
                },
                result: function() {
                    if (s.length) {
                        var e = s.join("");
                        return s = [],
                        e
                    }
                }
            };
            return a
        }
        function en(e) {
            return "m0," + e + "a" + e + "," + e + " 0 1,1 0," + -2 * e + "a" + e + "," + e + " 0 1,1 0," + 2 * e + "z"
        }
        function tn(e, t) {
            Da += e,
            Ma += t,
            ++La
        }
        function nn() {
            function e(e, i) {
                var r = e - t
                  , o = i - n
                  , s = Math.sqrt(r * r + o * o);
                _a += s * (t + e) / 2,
                Ra += s * (n + i) / 2,
                Ta += s,
                tn(t = e, n = i)
            }
            var t, n;
            Xa.point = function(i, r) {
                Xa.point = e,
                tn(t = i, n = r)
            }
        }
        function rn() {
            Xa.point = tn
        }
        function on() {
            function e(e, t) {
                var n = e - i
                  , o = t - r
                  , s = Math.sqrt(n * n + o * o);
                _a += s * (i + e) / 2,
                Ra += s * (r + t) / 2,
                Ta += s,
                s = r * e - i * t,
                Ia += s * (i + e),
                Oa += s * (r + t),
                Na += 3 * s,
                tn(i = e, r = t)
            }
            var t, n, i, r;
            Xa.point = function(o, s) {
                Xa.point = e,
                tn(t = i = o, n = r = s)
            }
            ,
            Xa.lineEnd = function() {
                e(t, n)
            }
        }
        function sn(e) {
            function t(t, n) {
                e.moveTo(t + s, n),
                e.arc(t, n, s, 0, Vs)
            }
            function n(t, n) {
                e.moveTo(t, n),
                a.point = i
            }
            function i(t, n) {
                e.lineTo(t, n)
            }
            function r() {
                a.point = t
            }
            function o() {
                e.closePath()
            }
            var s = 4.5
              , a = {
                point: t,
                lineStart: function() {
                    a.point = n
                },
                lineEnd: r,
                polygonStart: function() {
                    a.lineEnd = o
                },
                polygonEnd: function() {
                    a.lineEnd = r,
                    a.point = t
                },
                pointRadius: function(e) {
                    return s = e,
                    a
                },
                result: S
            };
            return a
        }
        function an(e) {
            function t(e) {
                return (a ? i : n)(e)
            }
            function n(t) {
                return un(t, function(n, i) {
                    n = e(n, i),
                    t.point(n[0], n[1])
                })
            }
            function i(t) {
                function n(n, i) {
                    n = e(n, i),
                    t.point(n[0], n[1])
                }
                function i() {
                    w = NaN,
                    E.point = o,
                    t.lineStart()
                }
                function o(n, i) {
                    var o = Ct([n, i])
                      , s = e(n, i);
                    r(w, C, A, y, b, F, w = s[0], C = s[1], A = n, y = o[0], b = o[1], F = o[2], a, t),
                    t.point(w, C)
                }
                function s() {
                    E.point = n,
                    t.lineEnd()
                }
                function l() {
                    i(),
                    E.point = c,
                    E.lineEnd = u
                }
                function c(e, t) {
                    o(h = e, d = t),
                    f = w,
                    g = C,
                    p = y,
                    m = b,
                    v = F,
                    E.point = o
                }
                function u() {
                    r(w, C, A, y, b, F, f, g, h, p, m, v, a, t),
                    E.lineEnd = s,
                    s()
                }
                var h, d, f, g, p, m, v, A, w, C, y, b, F, E = {
                    point: n,
                    lineStart: i,
                    lineEnd: s,
                    polygonStart: function() {
                        t.polygonStart(),
                        E.lineStart = l
                    },
                    polygonEnd: function() {
                        t.polygonEnd(),
                        E.lineStart = i
                    }
                };
                return E
            }
            function r(t, n, i, a, l, c, u, h, d, f, g, p, m, v) {
                var A = u - t
                  , w = h - n
                  , C = A * A + w * w;
                if (C > 4 * o && m--) {
                    var y = a + f
                      , b = l + g
                      , F = c + p
                      , E = Math.sqrt(y * y + b * b + F * F)
                      , x = Math.asin(F /= E)
                      , S = Fs(Fs(F) - 1) < Ps || Fs(i - d) < Ps ? (i + d) / 2 : Math.atan2(b, y)
                      , k = e(S, x)
                      , $ = k[0]
                      , B = k[1]
                      , D = $ - t
                      , M = B - n
                      , L = w * D - A * M;
                    (L * L / C > o || Fs((A * D + w * M) / C - .5) > .3 || a * f + l * g + c * p < s) && (r(t, n, i, a, l, c, $, B, S, y /= E, b /= E, F, m, v),
                    v.point($, B),
                    r($, B, S, y, b, F, u, h, d, f, g, p, m, v))
                }
            }
            var o = .5
              , s = Math.cos(30 * js)
              , a = 16;
            return t.precision = function(e) {
                return arguments.length ? (a = (o = e * e) > 0 && 16,
                t) : Math.sqrt(o)
            }
            ,
            t
        }
        function ln(e) {
            var t = an(function(t, n) {
                return e([t * qs, n * qs])
            });
            return function(e) {
                return fn(t(e))
            }
        }
        function cn(e) {
            this.stream = e
        }
        function un(e, t) {
            return {
                point: t,
                sphere: function() {
                    e.sphere()
                },
                lineStart: function() {
                    e.lineStart()
                },
                lineEnd: function() {
                    e.lineEnd()
                },
                polygonStart: function() {
                    e.polygonStart()
                },
                polygonEnd: function() {
                    e.polygonEnd()
                }
            }
        }
        function hn(e) {
            return dn(function() {
                return e
            })()
        }
        function dn(e) {
            function t(e) {
                return e = a(e[0] * js, e[1] * js),
                [e[0] * d + l, c - e[1] * d]
            }
            function n(e) {
                return (e = a.invert((e[0] - l) / d, (c - e[1]) / d)) && [e[0] * qs, e[1] * qs]
            }
            function i() {
                a = _t(s = mn(v, A, w), o);
                var e = o(p, m);
                return l = f - e[0] * d,
                c = g + e[1] * d,
                r()
            }
            function r() {
                return u && (u.valid = !1,
                u = null),
                t
            }
            var o, s, a, l, c, u, h = an(function(e, t) {
                return e = o(e, t),
                [e[0] * d + l, c - e[1] * d]
            }), d = 150, f = 480, g = 250, p = 0, m = 0, v = 0, A = 0, w = 0, C = Pa, y = F, b = null, E = null;
            return t.stream = function(e) {
                return u && (u.valid = !1),
                u = fn(C(s, h(y(e)))),
                u.valid = !0,
                u
            }
            ,
            t.clipAngle = function(e) {
                return arguments.length ? (C = null == e ? (b = e,
                Pa) : jt((b = +e) * js),
                r()) : b
            }
            ,
            t.clipExtent = function(e) {
                return arguments.length ? (E = e,
                y = e ? Gt(e[0][0], e[0][1], e[1][0], e[1][1]) : F,
                r()) : E
            }
            ,
            t.scale = function(e) {
                return arguments.length ? (d = +e,
                i()) : d
            }
            ,
            t.translate = function(e) {
                return arguments.length ? (f = +e[0],
                g = +e[1],
                i()) : [f, g]
            }
            ,
            t.center = function(e) {
                return arguments.length ? (p = e[0] % 360 * js,
                m = e[1] % 360 * js,
                i()) : [p * qs, m * qs]
            }
            ,
            t.rotate = function(e) {
                return arguments.length ? (v = e[0] % 360 * js,
                A = e[1] % 360 * js,
                w = e.length > 2 ? e[2] % 360 * js : 0,
                i()) : [v * qs, A * qs, w * qs]
            }
            ,
            fs.rebind(t, h, "precision"),
            function() {
                return o = e.apply(this, arguments),
                t.invert = o.invert && n,
                i()
            }
        }
        function fn(e) {
            return un(e, function(t, n) {
                e.point(t * js, n * js)
            })
        }
        function gn(e, t) {
            return [e, t]
        }
        function pn(e, t) {
            return [e > zs ? e - Vs : e < -zs ? e + Vs : e, t]
        }
        function mn(e, t, n) {
            return e ? t || n ? _t(An(e), wn(t, n)) : An(e) : t || n ? wn(t, n) : pn
        }
        function vn(e) {
            return function(t, n) {
                return t += e,
                [t > zs ? t - Vs : t < -zs ? t + Vs : t, n]
            }
        }
        function An(e) {
            var t = vn(e);
            return t.invert = vn(-e),
            t
        }
        function wn(e, t) {
            function n(e, t) {
                var n = Math.cos(t)
                  , a = Math.cos(e) * n
                  , l = Math.sin(e) * n
                  , c = Math.sin(t)
                  , u = c * i + a * r;
                return [Math.atan2(l * o - u * s, a * i - c * r), se(u * o + l * s)]
            }
            var i = Math.cos(e)
              , r = Math.sin(e)
              , o = Math.cos(t)
              , s = Math.sin(t);
            return n.invert = function(e, t) {
                var n = Math.cos(t)
                  , a = Math.cos(e) * n
                  , l = Math.sin(e) * n
                  , c = Math.sin(t)
                  , u = c * o - l * s;
                return [Math.atan2(l * o + c * s, a * i + u * r), se(u * i - a * r)]
            }
            ,
            n
        }
        function Cn(e, t) {
            var n = Math.cos(e)
              , i = Math.sin(e);
            return function(r, o, s, a) {
                var l = s * t;
                null != r ? (r = yn(n, r),
                o = yn(n, o),
                (s > 0 ? r < o : r > o) && (r += s * Vs)) : (r = e + s * Vs,
                o = e - .5 * l);
                for (var c, u = r; s > 0 ? u > o : u < o; u -= l)
                    a.point((c = St([n, -i * Math.cos(u), -i * Math.sin(u)]))[0], c[1])
            }
        }
        function yn(e, t) {
            var n = Ct(t);
            n[0] -= e,
            xt(n);
            var i = oe(-n[1]);
            return ((-n[2] < 0 ? -i : i) + 2 * Math.PI - Ps) % (2 * Math.PI)
        }
        function bn(e, t, n) {
            var i = fs.range(e, t - Ps, n).concat(t);
            return function(e) {
                return i.map(function(t) {
                    return [e, t]
                })
            }
        }
        function Fn(e, t, n) {
            var i = fs.range(e, t - Ps, n).concat(t);
            return function(e) {
                return i.map(function(t) {
                    return [t, e]
                })
            }
        }
        function En(e) {
            return e.source
        }
        function xn(e) {
            return e.target
        }
        function Sn(e, t, n, i) {
            var r = Math.cos(t)
              , o = Math.sin(t)
              , s = Math.cos(i)
              , a = Math.sin(i)
              , l = r * Math.cos(e)
              , c = r * Math.sin(e)
              , u = s * Math.cos(n)
              , h = s * Math.sin(n)
              , d = 2 * Math.asin(Math.sqrt(ue(i - t) + r * s * ue(n - e)))
              , f = 1 / Math.sin(d)
              , g = d ? function(e) {
                var t = Math.sin(e *= d) * f
                  , n = Math.sin(d - e) * f
                  , i = n * l + t * u
                  , r = n * c + t * h
                  , s = n * o + t * a;
                return [Math.atan2(r, i) * qs, Math.atan2(s, Math.sqrt(i * i + r * r)) * qs]
            }
            : function() {
                return [e * qs, t * qs]
            }
            ;
            return g.distance = d,
            g
        }
        function kn() {
            function e(e, r) {
                var o = Math.sin(r *= js)
                  , s = Math.cos(r)
                  , a = Fs((e *= js) - t)
                  , l = Math.cos(a);
                Qa += Math.atan2(Math.sqrt((a = s * Math.sin(a)) * a + (a = i * o - n * s * l) * a), n * o + i * s * l),
                t = e,
                n = o,
                i = s
            }
            var t, n, i;
            Za.point = function(r, o) {
                t = r * js,
                n = Math.sin(o *= js),
                i = Math.cos(o),
                Za.point = e
            }
            ,
            Za.lineEnd = function() {
                Za.point = Za.lineEnd = S
            }
        }
        function $n(e, t) {
            function n(t, n) {
                var i = Math.cos(t)
                  , r = Math.cos(n)
                  , o = e(i * r);
                return [o * r * Math.sin(t), o * Math.sin(n)]
            }
            return n.invert = function(e, n) {
                var i = Math.sqrt(e * e + n * n)
                  , r = t(i)
                  , o = Math.sin(r)
                  , s = Math.cos(r);
                return [Math.atan2(e * o, i * s), Math.asin(i && n * o / i)]
            }
            ,
            n
        }
        function Bn(e, t) {
            function n(e, t) {
                s > 0 ? t < -Ks + Ps && (t = -Ks + Ps) : t > Ks - Ps && (t = Ks - Ps);
                var n = s / Math.pow(r(t), o);
                return [n * Math.sin(o * e), s - n * Math.cos(o * e)]
            }
            var i = Math.cos(e)
              , r = function(e) {
                return Math.tan(zs / 4 + e / 2)
            }
              , o = e === t ? Math.sin(e) : Math.log(i / Math.cos(t)) / Math.log(r(t) / r(e))
              , s = i * Math.pow(r(e), o) / o;
            return o ? (n.invert = function(e, t) {
                var n = s - t
                  , i = ie(o) * Math.sqrt(e * e + n * n);
                return [Math.atan2(e, n) / o, 2 * Math.atan(Math.pow(s / i, 1 / o)) - Ks]
            }
            ,
            n) : Mn
        }
        function Dn(e, t) {
            function n(e, t) {
                var n = o - t;
                return [n * Math.sin(r * e), o - n * Math.cos(r * e)]
            }
            var i = Math.cos(e)
              , r = e === t ? Math.sin(e) : (i - Math.cos(t)) / (t - e)
              , o = i / r + e;
            return Fs(r) < Ps ? gn : (n.invert = function(e, t) {
                var n = o - t;
                return [Math.atan2(e, n) / r, o - ie(r) * Math.sqrt(e * e + n * n)]
            }
            ,
            n)
        }
        function Mn(e, t) {
            return [e, Math.log(Math.tan(zs / 4 + t / 2))]
        }
        function Ln(e) {
            var t, n = hn(e), i = n.scale, r = n.translate, o = n.clipExtent;
            return n.scale = function() {
                var e = i.apply(n, arguments);
                return e === n ? t ? n.clipExtent(null) : n : e
            }
            ,
            n.translate = function() {
                var e = r.apply(n, arguments);
                return e === n ? t ? n.clipExtent(null) : n : e
            }
            ,
            n.clipExtent = function(e) {
                var s = o.apply(n, arguments);
                if (s === n) {
                    if (t = null == e) {
                        var a = zs * i()
                          , l = r();
                        o([[l[0] - a, l[1] - a], [l[0] + a, l[1] + a]])
                    }
                } else
                    t && (s = null);
                return s
            }
            ,
            n.clipExtent(null)
        }
        function _n(e, t) {
            return [Math.log(Math.tan(zs / 4 + t / 2)), -e]
        }
        function Rn(e) {
            return e[0]
        }
        function Tn(e) {
            return e[1]
        }
        function In(e) {
            for (var t = e.length, n = [0, 1], i = 2, r = 2; r < t; r++) {
                for (; i > 1 && re(e[n[i - 2]], e[n[i - 1]], e[r]) <= 0; )
                    --i;
                n[i++] = r
            }
            return n.slice(0, i)
        }
        function On(e, t) {
            return e[0] - t[0] || e[1] - t[1]
        }
        function Nn(e, t, n) {
            return (n[0] - t[0]) * (e[1] - t[1]) < (n[1] - t[1]) * (e[0] - t[0])
        }
        function Wn(e, t, n, i) {
            var r = e[0]
              , o = n[0]
              , s = t[0] - r
              , a = i[0] - o
              , l = e[1]
              , c = n[1]
              , u = t[1] - l
              , h = i[1] - c
              , d = (a * (l - c) - h * (r - o)) / (h * s - a * u);
            return [r + d * s, l + d * u]
        }
        function Pn(e) {
            var t = e[0]
              , n = e[e.length - 1];
            return !(t[0] - n[0] || t[1] - n[1])
        }
        function Hn() {
            li(this),
            this.edge = this.site = this.circle = null
        }
        function zn(e) {
            var t = ul.pop() || new Hn;
            return t.site = e,
            t
        }
        function Vn(e) {
            Jn(e),
            al.remove(e),
            ul.push(e),
            li(e)
        }
        function Un(e) {
            var t = e.circle
              , n = t.x
              , i = t.cy
              , r = {
                x: n,
                y: i
            }
              , o = e.P
              , s = e.N
              , a = [e];
            Vn(e);
            for (var l = o; l.circle && Fs(n - l.circle.x) < Ps && Fs(i - l.circle.cy) < Ps; )
                o = l.P,
                a.unshift(l),
                Vn(l),
                l = o;
            a.unshift(l),
            Jn(l);
            for (var c = s; c.circle && Fs(n - c.circle.x) < Ps && Fs(i - c.circle.cy) < Ps; )
                s = c.N,
                a.push(c),
                Vn(c),
                c = s;
            a.push(c),
            Jn(c);
            var u, h = a.length;
            for (u = 1; u < h; ++u)
                c = a[u],
                l = a[u - 1],
                oi(c.edge, l.site, c.site, r);
            l = a[0],
            c = a[h - 1],
            c.edge = ii(l.site, c.site, null, r),
            Zn(l),
            Zn(c)
        }
        function Kn(e) {
            for (var t, n, i, r, o = e.x, s = e.y, a = al._; a; )
                if ((i = jn(a, s) - o) > Ps)
                    a = a.L;
                else {
                    if (!((r = o - qn(a, s)) > Ps)) {
                        i > -Ps ? (t = a.P,
                        n = a) : r > -Ps ? (t = a,
                        n = a.N) : t = n = a;
                        break
                    }
                    if (!a.R) {
                        t = a;
                        break
                    }
                    a = a.R
                }
            var l = zn(e);
            if (al.insert(t, l),
            t || n) {
                if (t === n)
                    return Jn(t),
                    n = zn(t.site),
                    al.insert(l, n),
                    l.edge = n.edge = ii(t.site, l.site),
                    Zn(t),
                    void Zn(n);
                if (!n)
                    return void (l.edge = ii(t.site, l.site));
                Jn(t),
                Jn(n);
                var c = t.site
                  , u = c.x
                  , h = c.y
                  , d = e.x - u
                  , f = e.y - h
                  , g = n.site
                  , p = g.x - u
                  , m = g.y - h
                  , v = 2 * (d * m - f * p)
                  , A = d * d + f * f
                  , w = p * p + m * m
                  , C = {
                    x: (m * A - f * w) / v + u,
                    y: (d * w - p * A) / v + h
                };
                oi(n.edge, c, g, C),
                l.edge = ii(c, e, null, C),
                n.edge = ii(e, g, null, C),
                Zn(t),
                Zn(n)
            }
        }
        function jn(e, t) {
            var n = e.site
              , i = n.x
              , r = n.y
              , o = r - t;
            if (!o)
                return i;
            var s = e.P;
            if (!s)
                return -1 / 0;
            n = s.site;
            var a = n.x
              , l = n.y
              , c = l - t;
            if (!c)
                return a;
            var u = a - i
              , h = 1 / o - 1 / c
              , d = u / c;
            return h ? (-d + Math.sqrt(d * d - 2 * h * (u * u / (-2 * c) - l + c / 2 + r - o / 2))) / h + i : (i + a) / 2
        }
        function qn(e, t) {
            var n = e.N;
            if (n)
                return jn(n, t);
            var i = e.site;
            return i.y === t ? i.x : 1 / 0
        }
        function Gn(e) {
            this.site = e,
            this.edges = []
        }
        function Yn(e) {
            for (var t, n, i, r, o, s, a, l, c, u, h = e[0][0], d = e[1][0], f = e[0][1], g = e[1][1], p = sl, m = p.length; m--; )
                if ((o = p[m]) && o.prepare())
                    for (a = o.edges,
                    l = a.length,
                    s = 0; s < l; )
                        u = a[s].end(),
                        i = u.x,
                        r = u.y,
                        c = a[++s % l].start(),
                        t = c.x,
                        n = c.y,
                        (Fs(i - t) > Ps || Fs(r - n) > Ps) && (a.splice(s, 0, new si(ri(o.site, u, Fs(i - h) < Ps && g - r > Ps ? {
                            x: h,
                            y: Fs(t - h) < Ps ? n : g
                        } : Fs(r - g) < Ps && d - i > Ps ? {
                            x: Fs(n - g) < Ps ? t : d,
                            y: g
                        } : Fs(i - d) < Ps && r - f > Ps ? {
                            x: d,
                            y: Fs(t - d) < Ps ? n : f
                        } : Fs(r - f) < Ps && i - h > Ps ? {
                            x: Fs(n - f) < Ps ? t : h,
                            y: f
                        } : null),o.site,null)),
                        ++l)
        }
        function Xn(e, t) {
            return t.angle - e.angle
        }
        function Qn() {
            li(this),
            this.x = this.y = this.arc = this.site = this.cy = null
        }
        function Zn(e) {
            var t = e.P
              , n = e.N;
            if (t && n) {
                var i = t.site
                  , r = e.site
                  , o = n.site;
                if (i !== o) {
                    var s = r.x
                      , a = r.y
                      , l = i.x - s
                      , c = i.y - a
                      , u = o.x - s
                      , h = o.y - a
                      , d = 2 * (l * h - c * u);
                    if (!(d >= -Hs)) {
                        var f = l * l + c * c
                          , g = u * u + h * h
                          , p = (h * f - c * g) / d
                          , m = (l * g - u * f) / d
                          , h = m + a
                          , v = hl.pop() || new Qn;
                        v.arc = e,
                        v.site = r,
                        v.x = p + s,
                        v.y = h + Math.sqrt(p * p + m * m),
                        v.cy = h,
                        e.circle = v;
                        for (var A = null, w = cl._; w; )
                            if (v.y < w.y || v.y === w.y && v.x <= w.x) {
                                if (!w.L) {
                                    A = w.P;
                                    break
                                }
                                w = w.L
                            } else {
                                if (!w.R) {
                                    A = w;
                                    break
                                }
                                w = w.R
                            }
                        cl.insert(A, v),
                        A || (ll = v)
                    }
                }
            }
        }
        function Jn(e) {
            var t = e.circle;
            t && (t.P || (ll = t.N),
            cl.remove(t),
            hl.push(t),
            li(t),
            e.circle = null)
        }
        function ei(e) {
            for (var t, n = ol, i = qt(e[0][0], e[0][1], e[1][0], e[1][1]), r = n.length; r--; )
                t = n[r],
                (!ti(t, e) || !i(t) || Fs(t.a.x - t.b.x) < Ps && Fs(t.a.y - t.b.y) < Ps) && (t.a = t.b = null,
                n.splice(r, 1))
        }
        function ti(e, t) {
            var n = e.b;
            if (n)
                return !0;
            var i, r, o = e.a, s = t[0][0], a = t[1][0], l = t[0][1], c = t[1][1], u = e.l, h = e.r, d = u.x, f = u.y, g = h.x, p = h.y, m = (d + g) / 2, v = (f + p) / 2;
            if (p === f) {
                if (m < s || m >= a)
                    return;
                if (d > g) {
                    if (o) {
                        if (o.y >= c)
                            return
                    } else
                        o = {
                            x: m,
                            y: l
                        };
                    n = {
                        x: m,
                        y: c
                    }
                } else {
                    if (o) {
                        if (o.y < l)
                            return
                    } else
                        o = {
                            x: m,
                            y: c
                        };
                    n = {
                        x: m,
                        y: l
                    }
                }
            } else if (i = (d - g) / (p - f),
            r = v - i * m,
            i < -1 || i > 1)
                if (d > g) {
                    if (o) {
                        if (o.y >= c)
                            return
                    } else
                        o = {
                            x: (l - r) / i,
                            y: l
                        };
                    n = {
                        x: (c - r) / i,
                        y: c
                    }
                } else {
                    if (o) {
                        if (o.y < l)
                            return
                    } else
                        o = {
                            x: (c - r) / i,
                            y: c
                        };
                    n = {
                        x: (l - r) / i,
                        y: l
                    }
                }
            else if (f < p) {
                if (o) {
                    if (o.x >= a)
                        return
                } else
                    o = {
                        x: s,
                        y: i * s + r
                    };
                n = {
                    x: a,
                    y: i * a + r
                }
            } else {
                if (o) {
                    if (o.x < s)
                        return
                } else
                    o = {
                        x: a,
                        y: i * a + r
                    };
                n = {
                    x: s,
                    y: i * s + r
                }
            }
            return e.a = o,
            e.b = n,
            !0
        }
        function ni(e, t) {
            this.l = e,
            this.r = t,
            this.a = this.b = null
        }
        function ii(e, t, n, i) {
            var r = new ni(e,t);
            return ol.push(r),
            n && oi(r, e, t, n),
            i && oi(r, t, e, i),
            sl[e.i].edges.push(new si(r,e,t)),
            sl[t.i].edges.push(new si(r,t,e)),
            r
        }
        function ri(e, t, n) {
            var i = new ni(e,null);
            return i.a = t,
            i.b = n,
            ol.push(i),
            i
        }
        function oi(e, t, n, i) {
            e.a || e.b ? e.l === n ? e.b = i : e.a = i : (e.a = i,
            e.l = t,
            e.r = n)
        }
        function si(e, t, n) {
            var i = e.a
              , r = e.b;
            this.edge = e,
            this.site = t,
            this.angle = n ? Math.atan2(n.y - t.y, n.x - t.x) : e.l === t ? Math.atan2(r.x - i.x, i.y - r.y) : Math.atan2(i.x - r.x, r.y - i.y)
        }
        function ai() {
            this._ = null
        }
        function li(e) {
            e.U = e.C = e.L = e.R = e.P = e.N = null
        }
        function ci(e, t) {
            var n = t
              , i = t.R
              , r = n.U;
            r ? r.L === n ? r.L = i : r.R = i : e._ = i,
            i.U = r,
            n.U = i,
            n.R = i.L,
            n.R && (n.R.U = n),
            i.L = n
        }
        function ui(e, t) {
            var n = t
              , i = t.L
              , r = n.U;
            r ? r.L === n ? r.L = i : r.R = i : e._ = i,
            i.U = r,
            n.U = i,
            n.L = i.R,
            n.L && (n.L.U = n),
            i.R = n
        }
        function hi(e) {
            for (; e.L; )
                e = e.L;
            return e
        }
        function di(e, t) {
            var n, i, r, o = e.sort(fi).pop();
            for (ol = [],
            sl = new Array(e.length),
            al = new ai,
            cl = new ai; ; )
                if (r = ll,
                o && (!r || o.y < r.y || o.y === r.y && o.x < r.x))
                    o.x === n && o.y === i || (sl[o.i] = new Gn(o),
                    Kn(o),
                    n = o.x,
                    i = o.y),
                    o = e.pop();
                else {
                    if (!r)
                        break;
                    Un(r.arc)
                }
            t && (ei(t),
            Yn(t));
            var s = {
                cells: sl,
                edges: ol
            };
            return al = cl = ol = sl = null,
            s
        }
        function fi(e, t) {
            return t.y - e.y || t.x - e.x
        }
        function gi(e, t, n) {
            return (e.x - n.x) * (t.y - e.y) - (e.x - t.x) * (n.y - e.y)
        }
        function pi(e) {
            return e.x
        }
        function mi(e) {
            return e.y
        }
        function vi() {
            return {
                leaf: !0,
                nodes: [],
                point: null,
                x: null,
                y: null
            }
        }
        function Ai(e, t, n, i, r, o) {
            if (!e(t, n, i, r, o)) {
                var s = .5 * (n + r)
                  , a = .5 * (i + o)
                  , l = t.nodes;
                l[0] && Ai(e, l[0], n, i, s, a),
                l[1] && Ai(e, l[1], s, i, r, a),
                l[2] && Ai(e, l[2], n, a, s, o),
                l[3] && Ai(e, l[3], s, a, r, o)
            }
        }
        function wi(e, t, n, i, r, o, s) {
            var a, l = 1 / 0;
            return function e(c, u, h, d, f) {
                if (!(u > o || h > s || d < i || f < r)) {
                    if (g = c.point) {
                        var g, p = t - c.x, m = n - c.y, v = p * p + m * m;
                        if (v < l) {
                            var A = Math.sqrt(l = v);
                            i = t - A,
                            r = n - A,
                            o = t + A,
                            s = n + A,
                            a = g
                        }
                    }
                    for (var w = c.nodes, C = .5 * (u + d), y = .5 * (h + f), b = t >= C, F = n >= y, E = F << 1 | b, x = E + 4; E < x; ++E)
                        if (c = w[3 & E])
                            switch (3 & E) {
                            case 0:
                                e(c, u, h, C, y);
                                break;
                            case 1:
                                e(c, C, h, d, y);
                                break;
                            case 2:
                                e(c, u, y, C, f);
                                break;
                            case 3:
                                e(c, C, y, d, f)
                            }
                }
            }(e, i, r, o, s),
            a
        }
        function Ci(e, t) {
            e = fs.rgb(e),
            t = fs.rgb(t);
            var n = e.r
              , i = e.g
              , r = e.b
              , o = t.r - n
              , s = t.g - i
              , a = t.b - r;
            return function(e) {
                return "#" + xe(Math.round(n + o * e)) + xe(Math.round(i + s * e)) + xe(Math.round(r + a * e))
            }
        }
        function yi(e, t) {
            var n, i = {}, r = {};
            for (n in e)
                n in t ? i[n] = Ei(e[n], t[n]) : r[n] = e[n];
            for (n in t)
                n in e || (r[n] = t[n]);
            return function(e) {
                for (n in i)
                    r[n] = i[n](e);
                return r
            }
        }
        function bi(e, t) {
            return e = +e,
            t = +t,
            function(n) {
                return e * (1 - n) + t * n
            }
        }
        function Fi(e, t) {
            var n, i, r, o = fl.lastIndex = gl.lastIndex = 0, s = -1, a = [], l = [];
            for (e += "",
            t += ""; (n = fl.exec(e)) && (i = gl.exec(t)); )
                (r = i.index) > o && (r = t.slice(o, r),
                a[s] ? a[s] += r : a[++s] = r),
                (n = n[0]) === (i = i[0]) ? a[s] ? a[s] += i : a[++s] = i : (a[++s] = null,
                l.push({
                    i: s,
                    x: bi(n, i)
                })),
                o = gl.lastIndex;
            return o < t.length && (r = t.slice(o),
            a[s] ? a[s] += r : a[++s] = r),
            a.length < 2 ? l[0] ? (t = l[0].x,
            function(e) {
                return t(e) + ""
            }
            ) : function() {
                return t
            }
            : (t = l.length,
            function(e) {
                for (var n, i = 0; i < t; ++i)
                    a[(n = l[i]).i] = n.x(e);
                return a.join("")
            }
            )
        }
        function Ei(e, t) {
            for (var n, i = fs.interpolators.length; --i >= 0 && !(n = fs.interpolators[i](e, t)); )
                ;
            return n
        }
        function xi(e, t) {
            var n, i = [], r = [], o = e.length, s = t.length, a = Math.min(e.length, t.length);
            for (n = 0; n < a; ++n)
                i.push(Ei(e[n], t[n]));
            for (; n < o; ++n)
                r[n] = e[n];
            for (; n < s; ++n)
                r[n] = t[n];
            return function(e) {
                for (n = 0; n < a; ++n)
                    r[n] = i[n](e);
                return r
            }
        }
        function Si(e) {
            return function(t) {
                return t <= 0 ? 0 : t >= 1 ? 1 : e(t)
            }
        }
        function ki(e) {
            return function(t) {
                return 1 - e(1 - t)
            }
        }
        function $i(e) {
            return function(t) {
                return .5 * (t < .5 ? e(2 * t) : 2 - e(2 - 2 * t))
            }
        }
        function Bi(e) {
            return e * e
        }
        function Di(e) {
            return e * e * e
        }
        function Mi(e) {
            if (e <= 0)
                return 0;
            if (e >= 1)
                return 1;
            var t = e * e
              , n = t * e;
            return 4 * (e < .5 ? n : 3 * (e - t) + n - .75)
        }
        function Li(e) {
            return function(t) {
                return Math.pow(t, e)
            }
        }
        function _i(e) {
            return 1 - Math.cos(e * Ks)
        }
        function Ri(e) {
            return Math.pow(2, 10 * (e - 1))
        }
        function Ti(e) {
            return 1 - Math.sqrt(1 - e * e)
        }
        function Ii(e, t) {
            var n;
            return arguments.length < 2 && (t = .45),
            arguments.length ? n = t / Vs * Math.asin(1 / e) : (e = 1,
            n = t / 4),
            function(i) {
                return 1 + e * Math.pow(2, -10 * i) * Math.sin((i - n) * Vs / t)
            }
        }
        function Oi(e) {
            return e || (e = 1.70158),
            function(t) {
                return t * t * ((e + 1) * t - e)
            }
        }
        function Ni(e) {
            return e < 1 / 2.75 ? 7.5625 * e * e : e < 2 / 2.75 ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : e < 2.5 / 2.75 ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375
        }
        function Wi(e, t) {
            e = fs.hcl(e),
            t = fs.hcl(t);
            var n = e.h
              , i = e.c
              , r = e.l
              , o = t.h - n
              , s = t.c - i
              , a = t.l - r;
            return isNaN(s) && (s = 0,
            i = isNaN(i) ? t.c : i),
            isNaN(o) ? (o = 0,
            n = isNaN(n) ? t.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360),
            function(e) {
                return pe(n + o * e, i + s * e, r + a * e) + ""
            }
        }
        function Pi(e, t) {
            e = fs.hsl(e),
            t = fs.hsl(t);
            var n = e.h
              , i = e.s
              , r = e.l
              , o = t.h - n
              , s = t.s - i
              , a = t.l - r;
            return isNaN(s) && (s = 0,
            i = isNaN(i) ? t.s : i),
            isNaN(o) ? (o = 0,
            n = isNaN(n) ? t.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360),
            function(e) {
                return fe(n + o * e, i + s * e, r + a * e) + ""
            }
        }
        function Hi(e, t) {
            e = fs.lab(e),
            t = fs.lab(t);
            var n = e.l
              , i = e.a
              , r = e.b
              , o = t.l - n
              , s = t.a - i
              , a = t.b - r;
            return function(e) {
                return ve(n + o * e, i + s * e, r + a * e) + ""
            }
        }
        function zi(e, t) {
            return t -= e,
            function(n) {
                return Math.round(e + t * n)
            }
        }
        function Vi(e) {
            var t = [e.a, e.b]
              , n = [e.c, e.d]
              , i = Ki(t)
              , r = Ui(t, n)
              , o = Ki(ji(n, t, -r)) || 0;
            t[0] * n[1] < n[0] * t[1] && (t[0] *= -1,
            t[1] *= -1,
            i *= -1,
            r *= -1),
            this.rotate = (i ? Math.atan2(t[1], t[0]) : Math.atan2(-n[0], n[1])) * qs,
            this.translate = [e.e, e.f],
            this.scale = [i, o],
            this.skew = o ? Math.atan2(r, o) * qs : 0
        }
        function Ui(e, t) {
            return e[0] * t[0] + e[1] * t[1]
        }
        function Ki(e) {
            var t = Math.sqrt(Ui(e, e));
            return t && (e[0] /= t,
            e[1] /= t),
            t
        }
        function ji(e, t, n) {
            return e[0] += n * t[0],
            e[1] += n * t[1],
            e
        }
        function qi(e) {
            return e.length ? e.pop() + "," : ""
        }
        function Gi(e, t, n, i) {
            if (e[0] !== t[0] || e[1] !== t[1]) {
                var r = n.push("translate(", null, ",", null, ")");
                i.push({
                    i: r - 4,
                    x: bi(e[0], t[0])
                }, {
                    i: r - 2,
                    x: bi(e[1], t[1])
                })
            } else
                (t[0] || t[1]) && n.push("translate(" + t + ")")
        }
        function Yi(e, t, n, i) {
            e !== t ? (e - t > 180 ? t += 360 : t - e > 180 && (e += 360),
            i.push({
                i: n.push(qi(n) + "rotate(", null, ")") - 2,
                x: bi(e, t)
            })) : t && n.push(qi(n) + "rotate(" + t + ")")
        }
        function Xi(e, t, n, i) {
            e !== t ? i.push({
                i: n.push(qi(n) + "skewX(", null, ")") - 2,
                x: bi(e, t)
            }) : t && n.push(qi(n) + "skewX(" + t + ")")
        }
        function Qi(e, t, n, i) {
            if (e[0] !== t[0] || e[1] !== t[1]) {
                var r = n.push(qi(n) + "scale(", null, ",", null, ")");
                i.push({
                    i: r - 4,
                    x: bi(e[0], t[0])
                }, {
                    i: r - 2,
                    x: bi(e[1], t[1])
                })
            } else
                1 === t[0] && 1 === t[1] || n.push(qi(n) + "scale(" + t + ")")
        }
        function Zi(e, t) {
            var n = []
              , i = [];
            return e = fs.transform(e),
            t = fs.transform(t),
            Gi(e.translate, t.translate, n, i),
            Yi(e.rotate, t.rotate, n, i),
            Xi(e.skew, t.skew, n, i),
            Qi(e.scale, t.scale, n, i),
            e = t = null,
            function(e) {
                for (var t, r = -1, o = i.length; ++r < o; )
                    n[(t = i[r]).i] = t.x(e);
                return n.join("")
            }
        }
        function Ji(e, t) {
            return t = (t -= e = +e) || 1 / t,
            function(n) {
                return (n - e) / t
            }
        }
        function er(e, t) {
            return t = (t -= e = +e) || 1 / t,
            function(n) {
                return Math.max(0, Math.min(1, (n - e) / t))
            }
        }
        function tr(e) {
            for (var t = e.source, n = e.target, i = ir(t, n), r = [t]; t !== i; )
                t = t.parent,
                r.push(t);
            for (var o = r.length; n !== i; )
                r.splice(o, 0, n),
                n = n.parent;
            return r
        }
        function nr(e) {
            for (var t = [], n = e.parent; null != n; )
                t.push(e),
                e = n,
                n = n.parent;
            return t.push(e),
            t
        }
        function ir(e, t) {
            if (e === t)
                return e;
            for (var n = nr(e), i = nr(t), r = n.pop(), o = i.pop(), s = null; r === o; )
                s = r,
                r = n.pop(),
                o = i.pop();
            return s
        }
        function rr(e) {
            e.fixed |= 2
        }
        function or(e) {
            e.fixed &= -7
        }
        function sr(e) {
            e.fixed |= 4,
            e.px = e.x,
            e.py = e.y
        }
        function ar(e) {
            e.fixed &= -5
        }
        function lr(e, t, n) {
            var i = 0
              , r = 0;
            if (e.charge = 0,
            !e.leaf)
                for (var o, s = e.nodes, a = s.length, l = -1; ++l < a; )
                    null != (o = s[l]) && (lr(o, t, n),
                    e.charge += o.charge,
                    i += o.charge * o.cx,
                    r += o.charge * o.cy);
            if (e.point) {
                e.leaf || (e.point.x += Math.random() - .5,
                e.point.y += Math.random() - .5);
                var c = t * n[e.point.index];
                e.charge += e.pointCharge = c,
                i += c * e.point.x,
                r += c * e.point.y
            }
            e.cx = i / e.charge,
            e.cy = r / e.charge
        }
        function cr(e, t) {
            return fs.rebind(e, t, "sort", "children", "value"),
            e.nodes = e,
            e.links = pr,
            e
        }
        function ur(e, t) {
            for (var n = [e]; null != (e = n.pop()); )
                if (t(e),
                (r = e.children) && (i = r.length))
                    for (var i, r; --i >= 0; )
                        n.push(r[i])
        }
        function hr(e, t) {
            for (var n = [e], i = []; null != (e = n.pop()); )
                if (i.push(e),
                (o = e.children) && (r = o.length))
                    for (var r, o, s = -1; ++s < r; )
                        n.push(o[s]);
            for (; null != (e = i.pop()); )
                t(e)
        }
        function dr(e) {
            return e.children
        }
        function fr(e) {
            return e.value
        }
        function gr(e, t) {
            return t.value - e.value
        }
        function pr(e) {
            return fs.merge(e.map(function(e) {
                return (e.children || []).map(function(t) {
                    return {
                        source: e,
                        target: t
                    }
                })
            }))
        }
        function mr(e) {
            return e.x
        }
        function vr(e) {
            return e.y
        }
        function Ar(e, t, n) {
            e.y0 = t,
            e.y = n
        }
        function wr(e) {
            return fs.range(e.length)
        }
        function Cr(e) {
            for (var t = -1, n = e[0].length, i = []; ++t < n; )
                i[t] = 0;
            return i
        }
        function yr(e) {
            for (var t, n = 1, i = 0, r = e[0][1], o = e.length; n < o; ++n)
                (t = e[n][1]) > r && (i = n,
                r = t);
            return i
        }
        function br(e) {
            return e.reduce(Fr, 0)
        }
        function Fr(e, t) {
            return e + t[1]
        }
        function Er(e, t) {
            return xr(e, Math.ceil(Math.log(t.length) / Math.LN2 + 1))
        }
        function xr(e, t) {
            for (var n = -1, i = +e[0], r = (e[1] - i) / t, o = []; ++n <= t; )
                o[n] = r * n + i;
            return o
        }
        function Sr(e) {
            return [fs.min(e), fs.max(e)]
        }
        function kr(e, t) {
            return e.value - t.value
        }
        function $r(e, t) {
            var n = e._pack_next;
            e._pack_next = t,
            t._pack_prev = e,
            t._pack_next = n,
            n._pack_prev = t
        }
        function Br(e, t) {
            e._pack_next = t,
            t._pack_prev = e
        }
        function Dr(e, t) {
            var n = t.x - e.x
              , i = t.y - e.y
              , r = e.r + t.r;
            return .999 * r * r > n * n + i * i
        }
        function Mr(e) {
            function t(e) {
                u = Math.min(e.x - e.r, u),
                h = Math.max(e.x + e.r, h),
                d = Math.min(e.y - e.r, d),
                f = Math.max(e.y + e.r, f)
            }
            if ((n = e.children) && (c = n.length)) {
                var n, i, r, o, s, a, l, c, u = 1 / 0, h = -1 / 0, d = 1 / 0, f = -1 / 0;
                if (n.forEach(Lr),
                i = n[0],
                i.x = -i.r,
                i.y = 0,
                t(i),
                c > 1 && (r = n[1],
                r.x = r.r,
                r.y = 0,
                t(r),
                c > 2))
                    for (o = n[2],
                    Tr(i, r, o),
                    t(o),
                    $r(i, o),
                    i._pack_prev = o,
                    $r(o, r),
                    r = i._pack_next,
                    s = 3; s < c; s++) {
                        Tr(i, r, o = n[s]);
                        var g = 0
                          , p = 1
                          , m = 1;
                        for (a = r._pack_next; a !== r; a = a._pack_next,
                        p++)
                            if (Dr(a, o)) {
                                g = 1;
                                break
                            }
                        if (1 == g)
                            for (l = i._pack_prev; l !== a._pack_prev && !Dr(l, o); l = l._pack_prev,
                            m++)
                                ;
                        g ? (p < m || p == m && r.r < i.r ? Br(i, r = a) : Br(i = l, r),
                        s--) : ($r(i, o),
                        r = o,
                        t(o))
                    }
                var v = (u + h) / 2
                  , A = (d + f) / 2
                  , w = 0;
                for (s = 0; s < c; s++)
                    o = n[s],
                    o.x -= v,
                    o.y -= A,
                    w = Math.max(w, o.r + Math.sqrt(o.x * o.x + o.y * o.y));
                e.r = w,
                n.forEach(_r)
            }
        }
        function Lr(e) {
            e._pack_next = e._pack_prev = e
        }
        function _r(e) {
            delete e._pack_next,
            delete e._pack_prev
        }
        function Rr(e, t, n, i) {
            var r = e.children;
            if (e.x = t += i * e.x,
            e.y = n += i * e.y,
            e.r *= i,
            r)
                for (var o = -1, s = r.length; ++o < s; )
                    Rr(r[o], t, n, i)
        }
        function Tr(e, t, n) {
            var i = e.r + n.r
              , r = t.x - e.x
              , o = t.y - e.y;
            if (i && (r || o)) {
                var s = t.r + n.r
                  , a = r * r + o * o;
                s *= s,
                i *= i;
                var l = .5 + (i - s) / (2 * a)
                  , c = Math.sqrt(Math.max(0, 2 * s * (i + a) - (i -= a) * i - s * s)) / (2 * a);
                n.x = e.x + l * r + c * o,
                n.y = e.y + l * o - c * r
            } else
                n.x = e.x + i,
                n.y = e.y
        }
        function Ir(e, t) {
            return e.parent == t.parent ? 1 : 2
        }
        function Or(e) {
            var t = e.children;
            return t.length ? t[0] : e.t
        }
        function Nr(e) {
            var t, n = e.children;
            return (t = n.length) ? n[t - 1] : e.t
        }
        function Wr(e, t, n) {
            var i = n / (t.i - e.i);
            t.c -= i,
            t.s += n,
            e.c += i,
            t.z += n,
            t.m += n
        }
        function Pr(e) {
            for (var t, n = 0, i = 0, r = e.children, o = r.length; --o >= 0; )
                t = r[o],
                t.z += n,
                t.m += n,
                n += t.s + (i += t.c)
        }
        function Hr(e, t, n) {
            return e.a.parent === t.parent ? e.a : n
        }
        function zr(e) {
            return 1 + fs.max(e, function(e) {
                return e.y
            })
        }
        function Vr(e) {
            return e.reduce(function(e, t) {
                return e + t.x
            }, 0) / e.length
        }
        function Ur(e) {
            var t = e.children;
            return t && t.length ? Ur(t[0]) : e
        }
        function Kr(e) {
            var t, n = e.children;
            return n && (t = n.length) ? Kr(n[t - 1]) : e
        }
        function jr(e) {
            return {
                x: e.x,
                y: e.y,
                dx: e.dx,
                dy: e.dy
            }
        }
        function qr(e, t) {
            var n = e.x + t[3]
              , i = e.y + t[0]
              , r = e.dx - t[1] - t[3]
              , o = e.dy - t[0] - t[2];
            return r < 0 && (n += r / 2,
            r = 0),
            o < 0 && (i += o / 2,
            o = 0),
            {
                x: n,
                y: i,
                dx: r,
                dy: o
            }
        }
        function Gr(e) {
            var t = e[0]
              , n = e[e.length - 1];
            return t < n ? [t, n] : [n, t]
        }
        function Yr(e) {
            return e.rangeExtent ? e.rangeExtent() : Gr(e.range())
        }
        function Xr(e, t, n, i) {
            var r = n(e[0], e[1])
              , o = i(t[0], t[1]);
            return function(e) {
                return o(r(e))
            }
        }
        function Qr(e, t) {
            var n, i = 0, r = e.length - 1, o = e[i], s = e[r];
            return s < o && (n = i,
            i = r,
            r = n,
            n = o,
            o = s,
            s = n),
            e[i] = t.floor(o),
            e[r] = t.ceil(s),
            e
        }
        function Zr(e) {
            return e ? {
                floor: function(t) {
                    return Math.floor(t / e) * e
                },
                ceil: function(t) {
                    return Math.ceil(t / e) * e
                }
            } : xl
        }
        function Jr(e, t, n, i) {
            var r = []
              , o = []
              , s = 0
              , a = Math.min(e.length, t.length) - 1;
            for (e[a] < e[0] && (e = e.slice().reverse(),
            t = t.slice().reverse()); ++s <= a; )
                r.push(n(e[s - 1], e[s])),
                o.push(i(t[s - 1], t[s]));
            return function(t) {
                var n = fs.bisect(e, t, 1, a) - 1;
                return o[n](r[n](t))
            }
        }
        function eo(e, t, n, i) {
            function r() {
                var r = Math.min(e.length, t.length) > 2 ? Jr : Xr
                  , l = i ? er : Ji;
                return s = r(e, t, l, n),
                a = r(t, e, l, Ei),
                o
            }
            function o(e) {
                return s(e)
            }
            var s, a;
            return o.invert = function(e) {
                return a(e)
            }
            ,
            o.domain = function(t) {
                return arguments.length ? (e = t.map(Number),
                r()) : e
            }
            ,
            o.range = function(e) {
                return arguments.length ? (t = e,
                r()) : t
            }
            ,
            o.rangeRound = function(e) {
                return o.range(e).interpolate(zi)
            }
            ,
            o.clamp = function(e) {
                return arguments.length ? (i = e,
                r()) : i
            }
            ,
            o.interpolate = function(e) {
                return arguments.length ? (n = e,
                r()) : n
            }
            ,
            o.ticks = function(t) {
                return ro(e, t)
            }
            ,
            o.tickFormat = function(t, n) {
                return oo(e, t, n)
            }
            ,
            o.nice = function(t) {
                return no(e, t),
                r()
            }
            ,
            o.copy = function() {
                return eo(e, t, n, i)
            }
            ,
            r()
        }
        function to(e, t) {
            return fs.rebind(e, t, "range", "rangeRound", "interpolate", "clamp")
        }
        function no(e, t) {
            return Qr(e, Zr(io(e, t)[2])),
            Qr(e, Zr(io(e, t)[2])),
            e
        }
        function io(e, t) {
            null == t && (t = 10);
            var n = Gr(e)
              , i = n[1] - n[0]
              , r = Math.pow(10, Math.floor(Math.log(i / t) / Math.LN10))
              , o = t / i * r;
            return o <= .15 ? r *= 10 : o <= .35 ? r *= 5 : o <= .75 && (r *= 2),
            n[0] = Math.ceil(n[0] / r) * r,
            n[1] = Math.floor(n[1] / r) * r + .5 * r,
            n[2] = r,
            n
        }
        function ro(e, t) {
            return fs.range.apply(fs, io(e, t))
        }
        function oo(e, t, n) {
            var i = io(e, t);
            if (n) {
                var r = fa.exec(n);
                if (r.shift(),
                "s" === r[8]) {
                    var o = fs.formatPrefix(Math.max(Fs(i[0]), Fs(i[1])));
                    return r[7] || (r[7] = "." + so(o.scale(i[2]))),
                    r[8] = "f",
                    n = fs.format(r.join("")),
                    function(e) {
                        return n(o.scale(e)) + o.symbol
                    }
                }
                r[7] || (r[7] = "." + ao(r[8], i)),
                n = r.join("")
            } else
                n = ",." + so(i[2]) + "f";
            return fs.format(n)
        }
        function so(e) {
            return -Math.floor(Math.log(e) / Math.LN10 + .01)
        }
        function ao(e, t) {
            var n = so(t[2]);
            return e in Sl ? Math.abs(n - so(Math.max(Fs(t[0]), Fs(t[1])))) + +("e" !== e) : n - 2 * ("%" === e)
        }
        function lo(e, t, n, i) {
            function r(e) {
                return (n ? Math.log(e < 0 ? 0 : e) : -Math.log(e > 0 ? 0 : -e)) / Math.log(t)
            }
            function o(e) {
                return n ? Math.pow(t, e) : -Math.pow(t, -e)
            }
            function s(t) {
                return e(r(t))
            }
            return s.invert = function(t) {
                return o(e.invert(t))
            }
            ,
            s.domain = function(t) {
                return arguments.length ? (n = t[0] >= 0,
                e.domain((i = t.map(Number)).map(r)),
                s) : i
            }
            ,
            s.base = function(n) {
                return arguments.length ? (t = +n,
                e.domain(i.map(r)),
                s) : t
            }
            ,
            s.nice = function() {
                var t = Qr(i.map(r), n ? Math : $l);
                return e.domain(t),
                i = t.map(o),
                s
            }
            ,
            s.ticks = function() {
                var e = Gr(i)
                  , s = []
                  , a = e[0]
                  , l = e[1]
                  , c = Math.floor(r(a))
                  , u = Math.ceil(r(l))
                  , h = t % 1 ? 2 : t;
                if (isFinite(u - c)) {
                    if (n) {
                        for (; c < u; c++)
                            for (var d = 1; d < h; d++)
                                s.push(o(c) * d);
                        s.push(o(c))
                    } else
                        for (s.push(o(c)); c++ < u; )
                            for (var d = h - 1; d > 0; d--)
                                s.push(o(c) * d);
                    for (c = 0; s[c] < a; c++)
                        ;
                    for (u = s.length; s[u - 1] > l; u--)
                        ;
                    s = s.slice(c, u)
                }
                return s
            }
            ,
            s.tickFormat = function(e, n) {
                if (!arguments.length)
                    return kl;
                arguments.length < 2 ? n = kl : "function" != typeof n && (n = fs.format(n));
                var i = Math.max(1, t * e / s.ticks().length);
                return function(e) {
                    var s = e / o(Math.round(r(e)));
                    return s * t < t - .5 && (s *= t),
                    s <= i ? n(e) : ""
                }
            }
            ,
            s.copy = function() {
                return lo(e.copy(), t, n, i)
            }
            ,
            to(s, e)
        }
        function co(e, t, n) {
            function i(t) {
                return e(r(t))
            }
            var r = uo(t)
              , o = uo(1 / t);
            return i.invert = function(t) {
                return o(e.invert(t))
            }
            ,
            i.domain = function(t) {
                return arguments.length ? (e.domain((n = t.map(Number)).map(r)),
                i) : n
            }
            ,
            i.ticks = function(e) {
                return ro(n, e)
            }
            ,
            i.tickFormat = function(e, t) {
                return oo(n, e, t)
            }
            ,
            i.nice = function(e) {
                return i.domain(no(n, e))
            }
            ,
            i.exponent = function(s) {
                return arguments.length ? (r = uo(t = s),
                o = uo(1 / t),
                e.domain(n.map(r)),
                i) : t
            }
            ,
            i.copy = function() {
                return co(e.copy(), t, n)
            }
            ,
            to(i, e)
        }
        function uo(e) {
            return function(t) {
                return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e)
            }
        }
        function ho(e, t) {
            function n(n) {
                return o[((r.get(n) || ("range" === t.t ? r.set(n, e.push(n)) : NaN)) - 1) % o.length]
            }
            function i(t, n) {
                return fs.range(e.length).map(function(e) {
                    return t + n * e
                })
            }
            var r, o, s;
            return n.domain = function(i) {
                if (!arguments.length)
                    return e;
                e = [],
                r = new g;
                for (var o, s = -1, a = i.length; ++s < a; )
                    r.has(o = i[s]) || r.set(o, e.push(o));
                return n[t.t].apply(n, t.a)
            }
            ,
            n.range = function(e) {
                return arguments.length ? (o = e,
                s = 0,
                t = {
                    t: "range",
                    a: arguments
                },
                n) : o
            }
            ,
            n.rangePoints = function(r, a) {
                arguments.length < 2 && (a = 0);
                var l = r[0]
                  , c = r[1]
                  , u = e.length < 2 ? (l = (l + c) / 2,
                0) : (c - l) / (e.length - 1 + a);
                return o = i(l + u * a / 2, u),
                s = 0,
                t = {
                    t: "rangePoints",
                    a: arguments
                },
                n
            }
            ,
            n.rangeRoundPoints = function(r, a) {
                arguments.length < 2 && (a = 0);
                var l = r[0]
                  , c = r[1]
                  , u = e.length < 2 ? (l = c = Math.round((l + c) / 2),
                0) : (c - l) / (e.length - 1 + a) | 0;
                return o = i(l + Math.round(u * a / 2 + (c - l - (e.length - 1 + a) * u) / 2), u),
                s = 0,
                t = {
                    t: "rangeRoundPoints",
                    a: arguments
                },
                n
            }
            ,
            n.rangeBands = function(r, a, l) {
                arguments.length < 2 && (a = 0),
                arguments.length < 3 && (l = a);
                var c = r[1] < r[0]
                  , u = r[c - 0]
                  , h = r[1 - c]
                  , d = (h - u) / (e.length - a + 2 * l);
                return o = i(u + d * l, d),
                c && o.reverse(),
                s = d * (1 - a),
                t = {
                    t: "rangeBands",
                    a: arguments
                },
                n
            }
            ,
            n.rangeRoundBands = function(r, a, l) {
                arguments.length < 2 && (a = 0),
                arguments.length < 3 && (l = a);
                var c = r[1] < r[0]
                  , u = r[c - 0]
                  , h = r[1 - c]
                  , d = Math.floor((h - u) / (e.length - a + 2 * l));
                return o = i(u + Math.round((h - u - (e.length - a) * d) / 2), d),
                c && o.reverse(),
                s = Math.round(d * (1 - a)),
                t = {
                    t: "rangeRoundBands",
                    a: arguments
                },
                n
            }
            ,
            n.rangeBand = function() {
                return s
            }
            ,
            n.rangeExtent = function() {
                return Gr(t.a[0])
            }
            ,
            n.copy = function() {
                return ho(e, t)
            }
            ,
            n.domain(e)
        }
        function fo(e, t) {
            function n() {
                var n = 0
                  , o = t.length;
                for (r = []; ++n < o; )
                    r[n - 1] = fs.quantile(e, n / o);
                return i
            }
            function i(e) {
                if (!isNaN(e = +e))
                    return t[fs.bisect(r, e)]
            }
            var r;
            return i.domain = function(t) {
                return arguments.length ? (e = t.map(l).filter(c).sort(a),
                n()) : e
            }
            ,
            i.range = function(e) {
                return arguments.length ? (t = e,
                n()) : t
            }
            ,
            i.quantiles = function() {
                return r
            }
            ,
            i.invertExtent = function(n) {
                return n = t.indexOf(n),
                n < 0 ? [NaN, NaN] : [n > 0 ? r[n - 1] : e[0], n < r.length ? r[n] : e[e.length - 1]]
            }
            ,
            i.copy = function() {
                return fo(e, t)
            }
            ,
            n()
        }
        function go(e, t, n) {
            function i(t) {
                return n[Math.max(0, Math.min(s, Math.floor(o * (t - e))))]
            }
            function r() {
                return o = n.length / (t - e),
                s = n.length - 1,
                i
            }
            var o, s;
            return i.domain = function(n) {
                return arguments.length ? (e = +n[0],
                t = +n[n.length - 1],
                r()) : [e, t]
            }
            ,
            i.range = function(e) {
                return arguments.length ? (n = e,
                r()) : n
            }
            ,
            i.invertExtent = function(t) {
                return t = n.indexOf(t),
                t = t < 0 ? NaN : t / o + e,
                [t, t + 1 / o]
            }
            ,
            i.copy = function() {
                return go(e, t, n)
            }
            ,
            r()
        }
        function po(e, t) {
            function n(n) {
                if (n <= n)
                    return t[fs.bisect(e, n)]
            }
            return n.domain = function(t) {
                return arguments.length ? (e = t,
                n) : e
            }
            ,
            n.range = function(e) {
                return arguments.length ? (t = e,
                n) : t
            }
            ,
            n.invertExtent = function(n) {
                return n = t.indexOf(n),
                [e[n - 1], e[n]]
            }
            ,
            n.copy = function() {
                return po(e, t)
            }
            ,
            n
        }
        function mo(e) {
            function t(e) {
                return +e
            }
            return t.invert = t,
            t.domain = t.range = function(n) {
                return arguments.length ? (e = n.map(t),
                t) : e
            }
            ,
            t.ticks = function(t) {
                return ro(e, t)
            }
            ,
            t.tickFormat = function(t, n) {
                return oo(e, t, n)
            }
            ,
            t.copy = function() {
                return mo(e)
            }
            ,
            t
        }
        function vo() {
            return 0
        }
        function Ao(e) {
            return e.innerRadius
        }
        function wo(e) {
            return e.outerRadius
        }
        function Co(e) {
            return e.startAngle
        }
        function yo(e) {
            return e.endAngle
        }
        function bo(e) {
            return e && e.padAngle
        }
        function Fo(e, t, n, i) {
            return (e - n) * t - (t - i) * e > 0 ? 0 : 1
        }
        function Eo(e, t, n, i, r) {
            var o = e[0] - t[0]
              , s = e[1] - t[1]
              , a = (r ? i : -i) / Math.sqrt(o * o + s * s)
              , l = a * s
              , c = -a * o
              , u = e[0] + l
              , h = e[1] + c
              , d = t[0] + l
              , f = t[1] + c
              , g = (u + d) / 2
              , p = (h + f) / 2
              , m = d - u
              , v = f - h
              , A = m * m + v * v
              , w = n - i
              , C = u * f - d * h
              , y = (v < 0 ? -1 : 1) * Math.sqrt(Math.max(0, w * w * A - C * C))
              , b = (C * v - m * y) / A
              , F = (-C * m - v * y) / A
              , E = (C * v + m * y) / A
              , x = (-C * m + v * y) / A
              , S = b - g
              , k = F - p
              , $ = E - g
              , B = x - p;
            return S * S + k * k > $ * $ + B * B && (b = E,
            F = x),
            [[b - l, F - c], [b * n / w, F * n / w]]
        }
        function xo(e) {
            function t(t) {
                function s() {
                    c.push("M", o(e(u), a))
                }
                for (var l, c = [], u = [], h = -1, d = t.length, f = Me(n), g = Me(i); ++h < d; )
                    r.call(this, l = t[h], h) ? u.push([+f.call(this, l, h), +g.call(this, l, h)]) : u.length && (s(),
                    u = []);
                return u.length && s(),
                c.length ? c.join("") : null
            }
            var n = Rn
              , i = Tn
              , r = Rt
              , o = So
              , s = o.key
              , a = .7;
            return t.x = function(e) {
                return arguments.length ? (n = e,
                t) : n
            }
            ,
            t.y = function(e) {
                return arguments.length ? (i = e,
                t) : i
            }
            ,
            t.defined = function(e) {
                return arguments.length ? (r = e,
                t) : r
            }
            ,
            t.interpolate = function(e) {
                return arguments.length ? (s = "function" == typeof e ? o = e : (o = Rl.get(e) || So).key,
                t) : s
            }
            ,
            t.tension = function(e) {
                return arguments.length ? (a = e,
                t) : a
            }
            ,
            t
        }
        function So(e) {
            return e.length > 1 ? e.join("L") : e + "Z"
        }
        function ko(e) {
            return e.join("L") + "Z"
        }
        function $o(e) {
            for (var t = 0, n = e.length, i = e[0], r = [i[0], ",", i[1]]; ++t < n; )
                r.push("H", (i[0] + (i = e[t])[0]) / 2, "V", i[1]);
            return n > 1 && r.push("H", i[0]),
            r.join("")
        }
        function Bo(e) {
            for (var t = 0, n = e.length, i = e[0], r = [i[0], ",", i[1]]; ++t < n; )
                r.push("V", (i = e[t])[1], "H", i[0]);
            return r.join("")
        }
        function Do(e) {
            for (var t = 0, n = e.length, i = e[0], r = [i[0], ",", i[1]]; ++t < n; )
                r.push("H", (i = e[t])[0], "V", i[1]);
            return r.join("")
        }
        function Mo(e, t) {
            return e.length < 4 ? So(e) : e[1] + Ro(e.slice(1, -1), To(e, t))
        }
        function Lo(e, t) {
            return e.length < 3 ? ko(e) : e[0] + Ro((e.push(e[0]),
            e), To([e[e.length - 2]].concat(e, [e[1]]), t))
        }
        function _o(e, t) {
            return e.length < 3 ? So(e) : e[0] + Ro(e, To(e, t))
        }
        function Ro(e, t) {
            if (t.length < 1 || e.length != t.length && e.length != t.length + 2)
                return So(e);
            var n = e.length != t.length
              , i = ""
              , r = e[0]
              , o = e[1]
              , s = t[0]
              , a = s
              , l = 1;
            if (n && (i += "Q" + (o[0] - 2 * s[0] / 3) + "," + (o[1] - 2 * s[1] / 3) + "," + o[0] + "," + o[1],
            r = e[1],
            l = 2),
            t.length > 1) {
                a = t[1],
                o = e[l],
                l++,
                i += "C" + (r[0] + s[0]) + "," + (r[1] + s[1]) + "," + (o[0] - a[0]) + "," + (o[1] - a[1]) + "," + o[0] + "," + o[1];
                for (var c = 2; c < t.length; c++,
                l++)
                    o = e[l],
                    a = t[c],
                    i += "S" + (o[0] - a[0]) + "," + (o[1] - a[1]) + "," + o[0] + "," + o[1]
            }
            if (n) {
                var u = e[l];
                i += "Q" + (o[0] + 2 * a[0] / 3) + "," + (o[1] + 2 * a[1] / 3) + "," + u[0] + "," + u[1]
            }
            return i
        }
        function To(e, t) {
            for (var n, i = [], r = (1 - t) / 2, o = e[0], s = e[1], a = 1, l = e.length; ++a < l; )
                n = o,
                o = s,
                s = e[a],
                i.push([r * (s[0] - n[0]), r * (s[1] - n[1])]);
            return i
        }
        function Io(e) {
            if (e.length < 3)
                return So(e);
            var t = 1
              , n = e.length
              , i = e[0]
              , r = i[0]
              , o = i[1]
              , s = [r, r, r, (i = e[1])[0]]
              , a = [o, o, o, i[1]]
              , l = [r, ",", o, "L", Po(Ol, s), ",", Po(Ol, a)];
            for (e.push(e[n - 1]); ++t <= n; )
                i = e[t],
                s.shift(),
                s.push(i[0]),
                a.shift(),
                a.push(i[1]),
                Ho(l, s, a);
            return e.pop(),
            l.push("L", i),
            l.join("")
        }
        function Oo(e) {
            if (e.length < 4)
                return So(e);
            for (var t, n = [], i = -1, r = e.length, o = [0], s = [0]; ++i < 3; )
                t = e[i],
                o.push(t[0]),
                s.push(t[1]);
            for (n.push(Po(Ol, o) + "," + Po(Ol, s)),
            --i; ++i < r; )
                t = e[i],
                o.shift(),
                o.push(t[0]),
                s.shift(),
                s.push(t[1]),
                Ho(n, o, s);
            return n.join("")
        }
        function No(e) {
            for (var t, n, i = -1, r = e.length, o = r + 4, s = [], a = []; ++i < 4; )
                n = e[i % r],
                s.push(n[0]),
                a.push(n[1]);
            for (t = [Po(Ol, s), ",", Po(Ol, a)],
            --i; ++i < o; )
                n = e[i % r],
                s.shift(),
                s.push(n[0]),
                a.shift(),
                a.push(n[1]),
                Ho(t, s, a);
            return t.join("")
        }
        function Wo(e, t) {
            var n = e.length - 1;
            if (n)
                for (var i, r, o = e[0][0], s = e[0][1], a = e[n][0] - o, l = e[n][1] - s, c = -1; ++c <= n; )
                    i = e[c],
                    r = c / n,
                    i[0] = t * i[0] + (1 - t) * (o + r * a),
                    i[1] = t * i[1] + (1 - t) * (s + r * l);
            return Io(e)
        }
        function Po(e, t) {
            return e[0] * t[0] + e[1] * t[1] + e[2] * t[2] + e[3] * t[3]
        }
        function Ho(e, t, n) {
            e.push("C", Po(Tl, t), ",", Po(Tl, n), ",", Po(Il, t), ",", Po(Il, n), ",", Po(Ol, t), ",", Po(Ol, n))
        }
        function zo(e, t) {
            return (t[1] - e[1]) / (t[0] - e[0])
        }
        function Vo(e) {
            for (var t = 0, n = e.length - 1, i = [], r = e[0], o = e[1], s = i[0] = zo(r, o); ++t < n; )
                i[t] = (s + (s = zo(r = o, o = e[t + 1]))) / 2;
            return i[t] = s,
            i
        }
        function Uo(e) {
            for (var t, n, i, r, o = [], s = Vo(e), a = -1, l = e.length - 1; ++a < l; )
                t = zo(e[a], e[a + 1]),
                Fs(t) < Ps ? s[a] = s[a + 1] = 0 : (n = s[a] / t,
                i = s[a + 1] / t,
                (r = n * n + i * i) > 9 && (r = 3 * t / Math.sqrt(r),
                s[a] = r * n,
                s[a + 1] = r * i));
            for (a = -1; ++a <= l; )
                r = (e[Math.min(l, a + 1)][0] - e[Math.max(0, a - 1)][0]) / (6 * (1 + s[a] * s[a])),
                o.push([r || 0, s[a] * r || 0]);
            return o
        }
        function Ko(e) {
            return e.length < 3 ? So(e) : e[0] + Ro(e, Uo(e))
        }
        function jo(e) {
            for (var t, n, i, r = -1, o = e.length; ++r < o; )
                t = e[r],
                n = t[0],
                i = t[1] - Ks,
                t[0] = n * Math.cos(i),
                t[1] = n * Math.sin(i);
            return e
        }
        function qo(e) {
            function t(t) {
                function l() {
                    p.push("M", a(e(v), h), u, c(e(m.reverse()), h), "Z")
                }
                for (var d, f, g, p = [], m = [], v = [], A = -1, w = t.length, C = Me(n), y = Me(r), b = n === i ? function() {
                    return f
                }
                : Me(i), F = r === o ? function() {
                    return g
                }
                : Me(o); ++A < w; )
                    s.call(this, d = t[A], A) ? (m.push([f = +C.call(this, d, A), g = +y.call(this, d, A)]),
                    v.push([+b.call(this, d, A), +F.call(this, d, A)])) : m.length && (l(),
                    m = [],
                    v = []);
                return m.length && l(),
                p.length ? p.join("") : null
            }
            var n = Rn
              , i = Rn
              , r = 0
              , o = Tn
              , s = Rt
              , a = So
              , l = a.key
              , c = a
              , u = "L"
              , h = .7;
            return t.x = function(e) {
                return arguments.length ? (n = i = e,
                t) : i
            }
            ,
            t.x0 = function(e) {
                return arguments.length ? (n = e,
                t) : n
            }
            ,
            t.x1 = function(e) {
                return arguments.length ? (i = e,
                t) : i
            }
            ,
            t.y = function(e) {
                return arguments.length ? (r = o = e,
                t) : o
            }
            ,
            t.y0 = function(e) {
                return arguments.length ? (r = e,
                t) : r
            }
            ,
            t.y1 = function(e) {
                return arguments.length ? (o = e,
                t) : o
            }
            ,
            t.defined = function(e) {
                return arguments.length ? (s = e,
                t) : s
            }
            ,
            t.interpolate = function(e) {
                return arguments.length ? (l = "function" == typeof e ? a = e : (a = Rl.get(e) || So).key,
                c = a.reverse || a,
                u = a.closed ? "M" : "L",
                t) : l
            }
            ,
            t.tension = function(e) {
                return arguments.length ? (h = e,
                t) : h
            }
            ,
            t
        }
        function Go(e) {
            return e.radius
        }
        function Yo(e) {
            return [e.x, e.y]
        }
        function Xo(e) {
            return function() {
                var t = e.apply(this, arguments)
                  , n = t[0]
                  , i = t[1] - Ks;
                return [n * Math.cos(i), n * Math.sin(i)]
            }
        }
        function Qo() {
            return 64
        }
        function Zo() {
            return "circle"
        }
        function Jo(e) {
            var t = Math.sqrt(e / zs);
            return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z"
        }
        function es(e) {
            return function() {
                var t, n, i;
                (t = this[e]) && (i = t[n = t.active]) && (i.timer.c = null,
                i.timer.t = NaN,
                --t.count ? delete t[n] : delete this[e],
                t.active += .5,
                i.event && i.event.interrupt.call(this, this.__data__, i.index))
            }
        }
        function ts(e, t, n) {
            return $s(e, Ul),
            e.namespace = t,
            e.id = n,
            e
        }
        function ns(e, t, n, i) {
            var r = e.id
              , o = e.namespace;
            return G(e, "function" == typeof n ? function(e, s, a) {
                e[o][r].tween.set(t, i(n.call(e, e.__data__, s, a)))
            }
            : (n = i(n),
            function(e) {
                e[o][r].tween.set(t, n)
            }
            ))
        }
        function is(e) {
            return null == e && (e = ""),
            function() {
                this.textContent = e
            }
        }
        function rs(e) {
            return null == e ? "__transition__" : "__transition_" + e + "__"
        }
        function os(e, t, n, i, r) {
            function o(e) {
                var t = p.delay;
                if (c.t = t + l,
                t <= e)
                    return s(e - t);
                c.c = s
            }
            function s(n) {
                var r = f.active
                  , o = f[r];
                o && (o.timer.c = null,
                o.timer.t = NaN,
                --f.count,
                delete f[r],
                o.event && o.event.interrupt.call(e, e.__data__, o.index));
                for (var s in f)
                    if (+s < i) {
                        var g = f[s];
                        g.timer.c = null,
                        g.timer.t = NaN,
                        --f.count,
                        delete f[s]
                    }
                c.c = a,
                Ie(function() {
                    return c.c && a(n || 1) && (c.c = null,
                    c.t = NaN),
                    1
                }, 0, l),
                f.active = i,
                p.event && p.event.start.call(e, e.__data__, t),
                d = [],
                p.tween.forEach(function(n, i) {
                    (i = i.call(e, e.__data__, t)) && d.push(i)
                }),
                h = p.ease,
                u = p.duration
            }
            function a(r) {
                for (var o = r / u, s = h(o), a = d.length; a > 0; )
                    d[--a].call(e, s);
                if (o >= 1)
                    return p.event && p.event.end.call(e, e.__data__, t),
                    --f.count ? delete f[i] : delete e[n],
                    1
            }
            var l, c, u, h, d, f = e[n] || (e[n] = {
                active: 0,
                count: 0
            }), p = f[i];
            p || (l = r.time,
            c = Ie(o, 0, l),
            p = f[i] = {
                tween: new g,
                time: l,
                timer: c,
                delay: r.delay,
                duration: r.duration,
                ease: r.ease,
                index: t
            },
            r = null,
            ++f.count)
        }
        function ss(e, t, n) {
            e.attr("transform", function(e) {
                var i = t(e);
                return "translate(" + (isFinite(i) ? i : n(e)) + ",0)"
            })
        }
        function as(e, t, n) {
            e.attr("transform", function(e) {
                var i = t(e);
                return "translate(0," + (isFinite(i) ? i : n(e)) + ")"
            })
        }
        function ls(e) {
            return e.toISOString()
        }
        function cs(e, t, n) {
            function i(t) {
                return e(t)
            }
            function r(e, n) {
                var i = e[1] - e[0]
                  , r = i / n
                  , o = fs.bisect(Jl, r);
                return o == Jl.length ? [t.year, io(e.map(function(e) {
                    return e / 31536e6
                }), n)[2]] : o ? t[r / Jl[o - 1] < Jl[o] / r ? o - 1 : o] : [nc, io(e, n)[2]]
            }
            return i.invert = function(t) {
                return us(e.invert(t))
            }
            ,
            i.domain = function(t) {
                return arguments.length ? (e.domain(t),
                i) : e.domain().map(us)
            }
            ,
            i.nice = function(e, t) {
                function n(n) {
                    return !isNaN(n) && !e.range(n, us(+n + 1), t).length
                }
                var o = i.domain()
                  , s = Gr(o)
                  , a = null == e ? r(s, 10) : "number" == typeof e && r(s, e);
                return a && (e = a[0],
                t = a[1]),
                i.domain(Qr(o, t > 1 ? {
                    floor: function(t) {
                        for (; n(t = e.floor(t)); )
                            t = us(t - 1);
                        return t
                    },
                    ceil: function(t) {
                        for (; n(t = e.ceil(t)); )
                            t = us(+t + 1);
                        return t
                    }
                } : e))
            }
            ,
            i.ticks = function(e, t) {
                var n = Gr(i.domain())
                  , o = null == e ? r(n, 10) : "number" == typeof e ? r(n, e) : !e.range && [{
                    range: e
                }, t];
                return o && (e = o[0],
                t = o[1]),
                e.range(n[0], us(+n[1] + 1), t < 1 ? 1 : t)
            }
            ,
            i.tickFormat = function() {
                return n
            }
            ,
            i.copy = function() {
                return cs(e.copy(), t, n)
            }
            ,
            to(i, e)
        }
        function us(e) {
            return new Date(e)
        }
        function hs(e) {
            return JSON.parse(e.responseText)
        }
        function ds(e) {
            var t = ms.createRange();
            return t.selectNode(ms.body),
            t.createContextualFragment(e.responseText)
        }
        var fs = {
            version: "3.5.17"
        }
          , gs = [].slice
          , ps = function(e) {
            return gs.call(e)
        }
          , ms = this.document;
        if (ms)
            try {
                ps(ms.documentElement.childNodes)[0].nodeType
            } catch (e) {
                ps = function(e) {
                    for (var t = e.length, n = new Array(t); t--; )
                        n[t] = e[t];
                    return n
                }
            }
        if (Date.now || (Date.now = function() {
            return +new Date
        }
        ),
        ms)
            try {
                ms.createElement("DIV").style.setProperty("opacity", 0, "")
            } catch (e) {
                var vs = this.Element.prototype
                  , As = vs.setAttribute
                  , ws = vs.setAttributeNS
                  , Cs = this.CSSStyleDeclaration.prototype
                  , ys = Cs.setProperty;
                vs.setAttribute = function(e, t) {
                    As.call(this, e, t + "")
                }
                ,
                vs.setAttributeNS = function(e, t, n) {
                    ws.call(this, e, t, n + "")
                }
                ,
                Cs.setProperty = function(e, t, n) {
                    ys.call(this, e, t + "", n)
                }
            }
        fs.ascending = a,
        fs.descending = function(e, t) {
            return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
        }
        ,
        fs.min = function(e, t) {
            var n, i, r = -1, o = e.length;
            if (1 === arguments.length) {
                for (; ++r < o; )
                    if (null != (i = e[r]) && i >= i) {
                        n = i;
                        break
                    }
                for (; ++r < o; )
                    null != (i = e[r]) && n > i && (n = i)
            } else {
                for (; ++r < o; )
                    if (null != (i = t.call(e, e[r], r)) && i >= i) {
                        n = i;
                        break
                    }
                for (; ++r < o; )
                    null != (i = t.call(e, e[r], r)) && n > i && (n = i)
            }
            return n
        }
        ,
        fs.max = function(e, t) {
            var n, i, r = -1, o = e.length;
            if (1 === arguments.length) {
                for (; ++r < o; )
                    if (null != (i = e[r]) && i >= i) {
                        n = i;
                        break
                    }
                for (; ++r < o; )
                    null != (i = e[r]) && i > n && (n = i)
            } else {
                for (; ++r < o; )
                    if (null != (i = t.call(e, e[r], r)) && i >= i) {
                        n = i;
                        break
                    }
                for (; ++r < o; )
                    null != (i = t.call(e, e[r], r)) && i > n && (n = i)
            }
            return n
        }
        ,
        fs.extent = function(e, t) {
            var n, i, r, o = -1, s = e.length;
            if (1 === arguments.length) {
                for (; ++o < s; )
                    if (null != (i = e[o]) && i >= i) {
                        n = r = i;
                        break
                    }
                for (; ++o < s; )
                    null != (i = e[o]) && (n > i && (n = i),
                    r < i && (r = i))
            } else {
                for (; ++o < s; )
                    if (null != (i = t.call(e, e[o], o)) && i >= i) {
                        n = r = i;
                        break
                    }
                for (; ++o < s; )
                    null != (i = t.call(e, e[o], o)) && (n > i && (n = i),
                    r < i && (r = i))
            }
            return [n, r]
        }
        ,
        fs.sum = function(e, t) {
            var n, i = 0, r = e.length, o = -1;
            if (1 === arguments.length)
                for (; ++o < r; )
                    c(n = +e[o]) && (i += n);
            else
                for (; ++o < r; )
                    c(n = +t.call(e, e[o], o)) && (i += n);
            return i
        }
        ,
        fs.mean = function(e, t) {
            var n, i = 0, r = e.length, o = -1, s = r;
            if (1 === arguments.length)
                for (; ++o < r; )
                    c(n = l(e[o])) ? i += n : --s;
            else
                for (; ++o < r; )
                    c(n = l(t.call(e, e[o], o))) ? i += n : --s;
            if (s)
                return i / s
        }
        ,
        fs.quantile = function(e, t) {
            var n = (e.length - 1) * t + 1
              , i = Math.floor(n)
              , r = +e[i - 1]
              , o = n - i;
            return o ? r + o * (e[i] - r) : r
        }
        ,
        fs.median = function(e, t) {
            var n, i = [], r = e.length, o = -1;
            if (1 === arguments.length)
                for (; ++o < r; )
                    c(n = l(e[o])) && i.push(n);
            else
                for (; ++o < r; )
                    c(n = l(t.call(e, e[o], o))) && i.push(n);
            if (i.length)
                return fs.quantile(i.sort(a), .5)
        }
        ,
        fs.variance = function(e, t) {
            var n, i, r = e.length, o = 0, s = 0, a = -1, u = 0;
            if (1 === arguments.length)
                for (; ++a < r; )
                    c(n = l(e[a])) && (i = n - o,
                    o += i / ++u,
                    s += i * (n - o));
            else
                for (; ++a < r; )
                    c(n = l(t.call(e, e[a], a))) && (i = n - o,
                    o += i / ++u,
                    s += i * (n - o));
            if (u > 1)
                return s / (u - 1)
        }
        ,
        fs.deviation = function() {
            var e = fs.variance.apply(this, arguments);
            return e ? Math.sqrt(e) : e
        }
        ;
        var bs = u(a);
        fs.bisectLeft = bs.left,
        fs.bisect = fs.bisectRight = bs.right,
        fs.bisector = function(e) {
            return u(1 === e.length ? function(t, n) {
                return a(e(t), n)
            }
            : e)
        }
        ,
        fs.shuffle = function(e, t, n) {
            (o = arguments.length) < 3 && (n = e.length,
            o < 2 && (t = 0));
            for (var i, r, o = n - t; o; )
                r = Math.random() * o-- | 0,
                i = e[o + t],
                e[o + t] = e[r + t],
                e[r + t] = i;
            return e
        }
        ,
        fs.permute = function(e, t) {
            for (var n = t.length, i = new Array(n); n--; )
                i[n] = e[t[n]];
            return i
        }
        ,
        fs.pairs = function(e) {
            for (var t = 0, n = e.length - 1, i = e[0], r = new Array(n < 0 ? 0 : n); t < n; )
                r[t] = [i, i = e[++t]];
            return r
        }
        ,
        fs.transpose = function(e) {
            if (!(r = e.length))
                return [];
            for (var t = -1, n = fs.min(e, h), i = new Array(n); ++t < n; )
                for (var r, o = -1, s = i[t] = new Array(r); ++o < r; )
                    s[o] = e[o][t];
            return i
        }
        ,
        fs.zip = function() {
            return fs.transpose(arguments)
        }
        ,
        fs.keys = function(e) {
            var t = [];
            for (var n in e)
                t.push(n);
            return t
        }
        ,
        fs.values = function(e) {
            var t = [];
            for (var n in e)
                t.push(e[n]);
            return t
        }
        ,
        fs.entries = function(e) {
            var t = [];
            for (var n in e)
                t.push({
                    key: n,
                    value: e[n]
                });
            return t
        }
        ,
        fs.merge = function(e) {
            for (var t, n, i, r = e.length, o = -1, s = 0; ++o < r; )
                s += e[o].length;
            for (n = new Array(s); --r >= 0; )
                for (i = e[r],
                t = i.length; --t >= 0; )
                    n[--s] = i[t];
            return n
        }
        ;
        var Fs = Math.abs;
        fs.range = function(e, t, n) {
            if (arguments.length < 3 && (n = 1,
            arguments.length < 2 && (t = e,
            e = 0)),
            (t - e) / n == 1 / 0)
                throw new Error("infinite range");
            var i, r = [], o = d(Fs(n)), s = -1;
            if (e *= o,
            t *= o,
            n *= o,
            n < 0)
                for (; (i = e + n * ++s) > t; )
                    r.push(i / o);
            else
                for (; (i = e + n * ++s) < t; )
                    r.push(i / o);
            return r
        }
        ,
        fs.map = function(e, t) {
            var n = new g;
            if (e instanceof g)
                e.forEach(function(e, t) {
                    n.set(e, t)
                });
            else if (Array.isArray(e)) {
                var i, r = -1, o = e.length;
                if (1 === arguments.length)
                    for (; ++r < o; )
                        n.set(r, e[r]);
                else
                    for (; ++r < o; )
                        n.set(t.call(e, i = e[r], r), i)
            } else
                for (var s in e)
                    n.set(s, e[s]);
            return n
        }
        ;
        var Es = "__proto__"
          , xs = "\0";
        f(g, {
            has: v,
            get: function(e) {
                return this._[p(e)]
            },
            set: function(e, t) {
                return this._[p(e)] = t
            },
            remove: A,
            keys: w,
            values: function() {
                var e = [];
                for (var t in this._)
                    e.push(this._[t]);
                return e
            },
            entries: function() {
                var e = [];
                for (var t in this._)
                    e.push({
                        key: m(t),
                        value: this._[t]
                    });
                return e
            },
            size: C,
            empty: y,
            forEach: function(e) {
                for (var t in this._)
                    e.call(this, m(t), this._[t])
            }
        }),
        fs.nest = function() {
            function e(t, s, a) {
                if (a >= o.length)
                    return i ? i.call(r, s) : n ? s.sort(n) : s;
                for (var l, c, u, h, d = -1, f = s.length, p = o[a++], m = new g; ++d < f; )
                    (h = m.get(l = p(c = s[d]))) ? h.push(c) : m.set(l, [c]);
                return t ? (c = t(),
                u = function(n, i) {
                    c.set(n, e(t, i, a))
                }
                ) : (c = {},
                u = function(n, i) {
                    c[n] = e(t, i, a)
                }
                ),
                m.forEach(u),
                c
            }
            function t(e, n) {
                if (n >= o.length)
                    return e;
                var i = []
                  , r = s[n++];
                return e.forEach(function(e, r) {
                    i.push({
                        key: e,
                        values: t(r, n)
                    })
                }),
                r ? i.sort(function(e, t) {
                    return r(e.key, t.key)
                }) : i
            }
            var n, i, r = {}, o = [], s = [];
            return r.map = function(t, n) {
                return e(n, t, 0)
            }
            ,
            r.entries = function(n) {
                return t(e(fs.map, n, 0), 0)
            }
            ,
            r.key = function(e) {
                return o.push(e),
                r
            }
            ,
            r.sortKeys = function(e) {
                return s[o.length - 1] = e,
                r
            }
            ,
            r.sortValues = function(e) {
                return n = e,
                r
            }
            ,
            r.rollup = function(e) {
                return i = e,
                r
            }
            ,
            r
        }
        ,
        fs.set = function(e) {
            var t = new b;
            if (e)
                for (var n = 0, i = e.length; n < i; ++n)
                    t.add(e[n]);
            return t
        }
        ,
        f(b, {
            has: v,
            add: function(e) {
                return this._[p(e += "")] = !0,
                e
            },
            remove: A,
            values: w,
            size: C,
            empty: y,
            forEach: function(e) {
                for (var t in this._)
                    e.call(this, m(t))
            }
        }),
        fs.behavior = {},
        fs.rebind = function(e, t) {
            for (var n, i = 1, r = arguments.length; ++i < r; )
                e[n = arguments[i]] = E(e, t, t[n]);
            return e
        }
        ;
        var Ss = ["webkit", "ms", "moz", "Moz", "o", "O"];
        fs.dispatch = function() {
            for (var e = new k, t = -1, n = arguments.length; ++t < n; )
                e[arguments[t]] = $(e);
            return e
        }
        ,
        k.prototype.on = function(e, t) {
            var n = e.indexOf(".")
              , i = "";
            if (n >= 0 && (i = e.slice(n + 1),
            e = e.slice(0, n)),
            e)
                return arguments.length < 2 ? this[e].on(i) : this[e].on(i, t);
            if (2 === arguments.length) {
                if (null == t)
                    for (e in this)
                        this.hasOwnProperty(e) && this[e].on(i, null);
                return this
            }
        }
        ,
        fs.event = null,
        fs.requote = function(e) {
            return e.replace(ks, "\\$&")
        }
        ;
        var ks = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g
          , $s = {}.__proto__ ? function(e, t) {
            e.__proto__ = t
        }
        : function(e, t) {
            for (var n in t)
                e[n] = t[n]
        }
          , Bs = function(e, t) {
            return t.querySelector(e)
        }
          , Ds = function(e, t) {
            return t.querySelectorAll(e)
        }
          , Ms = function(e, t) {
            var n = e.matches || e[x(e, "matchesSelector")];
            return (Ms = function(e, t) {
                return n.call(e, t)
            }
            )(e, t)
        };
        "function" == typeof Sizzle && (Bs = function(e, t) {
            return Sizzle(e, t)[0] || null
        }
        ,
        Ds = Sizzle,
        Ms = Sizzle.matchesSelector),
        fs.selection = function() {
            return fs.select(ms.documentElement)
        }
        ;
        var Ls = fs.selection.prototype = [];
        Ls.select = function(e) {
            var t, n, i, r, o = [];
            e = _(e);
            for (var s = -1, a = this.length; ++s < a; ) {
                o.push(t = []),
                t.parentNode = (i = this[s]).parentNode;
                for (var l = -1, c = i.length; ++l < c; )
                    (r = i[l]) ? (t.push(n = e.call(r, r.__data__, l, s)),
                    n && "__data__"in r && (n.__data__ = r.__data__)) : t.push(null)
            }
            return L(o)
        }
        ,
        Ls.selectAll = function(e) {
            var t, n, i = [];
            e = R(e);
            for (var r = -1, o = this.length; ++r < o; )
                for (var s = this[r], a = -1, l = s.length; ++a < l; )
                    (n = s[a]) && (i.push(t = ps(e.call(n, n.__data__, a, r))),
                    t.parentNode = n);
            return L(i)
        }
        ;
        var _s = "http://www.w3.org/1999/xhtml"
          , Rs = {
            svg: "http://www.w3.org/2000/svg",
            xhtml: _s,
            xlink: "http://www.w3.org/1999/xlink",
            xml: "http://www.w3.org/XML/1998/namespace",
            xmlns: "http://www.w3.org/2000/xmlns/"
        };
        fs.ns = {
            prefix: Rs,
            qualify: function(e) {
                var t = e.indexOf(":")
                  , n = e;
                return t >= 0 && "xmlns" !== (n = e.slice(0, t)) && (e = e.slice(t + 1)),
                Rs.hasOwnProperty(n) ? {
                    space: Rs[n],
                    local: e
                } : e
            }
        },
        Ls.attr = function(e, t) {
            if (arguments.length < 2) {
                if ("string" == typeof e) {
                    var n = this.node();
                    return e = fs.ns.qualify(e),
                    e.local ? n.getAttributeNS(e.space, e.local) : n.getAttribute(e)
                }
                for (t in e)
                    this.each(T(t, e[t]));
                return this
            }
            return this.each(T(e, t))
        }
        ,
        Ls.classed = function(e, t) {
            if (arguments.length < 2) {
                if ("string" == typeof e) {
                    var n = this.node()
                      , i = (e = N(e)).length
                      , r = -1;
                    if (t = n.classList) {
                        for (; ++r < i; )
                            if (!t.contains(e[r]))
                                return !1
                    } else
                        for (t = n.getAttribute("class"); ++r < i; )
                            if (!O(e[r]).test(t))
                                return !1;
                    return !0
                }
                for (t in e)
                    this.each(W(t, e[t]));
                return this
            }
            return this.each(W(e, t))
        }
        ,
        Ls.style = function(e, t, n) {
            var i = arguments.length;
            if (i < 3) {
                if ("string" != typeof e) {
                    i < 2 && (t = "");
                    for (n in e)
                        this.each(H(n, e[n], t));
                    return this
                }
                if (i < 2) {
                    var r = this.node();
                    return s(r).getComputedStyle(r, null).getPropertyValue(e)
                }
                n = ""
            }
            return this.each(H(e, t, n))
        }
        ,
        Ls.property = function(e, t) {
            if (arguments.length < 2) {
                if ("string" == typeof e)
                    return this.node()[e];
                for (t in e)
                    this.each(z(t, e[t]));
                return this
            }
            return this.each(z(e, t))
        }
        ,
        Ls.text = function(e) {
            return arguments.length ? this.each("function" == typeof e ? function() {
                var t = e.apply(this, arguments);
                this.textContent = null == t ? "" : t
            }
            : null == e ? function() {
                this.textContent = ""
            }
            : function() {
                this.textContent = e
            }
            ) : this.node().textContent
        }
        ,
        Ls.html = function(e) {
            return arguments.length ? this.each("function" == typeof e ? function() {
                var t = e.apply(this, arguments);
                this.innerHTML = null == t ? "" : t
            }
            : null == e ? function() {
                this.innerHTML = ""
            }
            : function() {
                this.innerHTML = e
            }
            ) : this.node().innerHTML
        }
        ,
        Ls.append = function(e) {
            return e = V(e),
            this.select(function() {
                return this.appendChild(e.apply(this, arguments))
            })
        }
        ,
        Ls.insert = function(e, t) {
            return e = V(e),
            t = _(t),
            this.select(function() {
                return this.insertBefore(e.apply(this, arguments), t.apply(this, arguments) || null)
            })
        }
        ,
        Ls.remove = function() {
            return this.each(U)
        }
        ,
        Ls.data = function(e, t) {
            function n(e, n) {
                var i, r, o, s = e.length, u = n.length, h = Math.min(s, u), d = new Array(u), f = new Array(u), p = new Array(s);
                if (t) {
                    var m, v = new g, A = new Array(s);
                    for (i = -1; ++i < s; )
                        (r = e[i]) && (v.has(m = t.call(r, r.__data__, i)) ? p[i] = r : v.set(m, r),
                        A[i] = m);
                    for (i = -1; ++i < u; )
                        (r = v.get(m = t.call(n, o = n[i], i))) ? !0 !== r && (d[i] = r,
                        r.__data__ = o) : f[i] = K(o),
                        v.set(m, !0);
                    for (i = -1; ++i < s; )
                        i in A && !0 !== v.get(A[i]) && (p[i] = e[i])
                } else {
                    for (i = -1; ++i < h; )
                        r = e[i],
                        o = n[i],
                        r ? (r.__data__ = o,
                        d[i] = r) : f[i] = K(o);
                    for (; i < u; ++i)
                        f[i] = K(n[i]);
                    for (; i < s; ++i)
                        p[i] = e[i]
                }
                f.update = d,
                f.parentNode = d.parentNode = p.parentNode = e.parentNode,
                a.push(f),
                l.push(d),
                c.push(p)
            }
            var i, r, o = -1, s = this.length;
            if (!arguments.length) {
                for (e = new Array(s = (i = this[0]).length); ++o < s; )
                    (r = i[o]) && (e[o] = r.__data__);
                return e
            }
            var a = Y([])
              , l = L([])
              , c = L([]);
            if ("function" == typeof e)
                for (; ++o < s; )
                    n(i = this[o], e.call(i, i.parentNode.__data__, o));
            else
                for (; ++o < s; )
                    n(i = this[o], e);
            return l.enter = function() {
                return a
            }
            ,
            l.exit = function() {
                return c
            }
            ,
            l
        }
        ,
        Ls.datum = function(e) {
            return arguments.length ? this.property("__data__", e) : this.property("__data__")
        }
        ,
        Ls.filter = function(e) {
            var t, n, i, r = [];
            "function" != typeof e && (e = j(e));
            for (var o = 0, s = this.length; o < s; o++) {
                r.push(t = []),
                t.parentNode = (n = this[o]).parentNode;
                for (var a = 0, l = n.length; a < l; a++)
                    (i = n[a]) && e.call(i, i.__data__, a, o) && t.push(i)
            }
            return L(r)
        }
        ,
        Ls.order = function() {
            for (var e = -1, t = this.length; ++e < t; )
                for (var n, i = this[e], r = i.length - 1, o = i[r]; --r >= 0; )
                    (n = i[r]) && (o && o !== n.nextSibling && o.parentNode.insertBefore(n, o),
                    o = n);
            return this
        }
        ,
        Ls.sort = function(e) {
            e = q.apply(this, arguments);
            for (var t = -1, n = this.length; ++t < n; )
                this[t].sort(e);
            return this.order()
        }
        ,
        Ls.each = function(e) {
            return G(this, function(t, n, i) {
                e.call(t, t.__data__, n, i)
            })
        }
        ,
        Ls.call = function(e) {
            var t = ps(arguments);
            return e.apply(t[0] = this, t),
            this
        }
        ,
        Ls.empty = function() {
            return !this.node()
        }
        ,
        Ls.node = function() {
            for (var e = 0, t = this.length; e < t; e++)
                for (var n = this[e], i = 0, r = n.length; i < r; i++) {
                    var o = n[i];
                    if (o)
                        return o
                }
            return null
        }
        ,
        Ls.size = function() {
            var e = 0;
            return G(this, function() {
                ++e
            }),
            e
        }
        ;
        var Ts = [];
        fs.selection.enter = Y,
        fs.selection.enter.prototype = Ts,
        Ts.append = Ls.append,
        Ts.empty = Ls.empty,
        Ts.node = Ls.node,
        Ts.call = Ls.call,
        Ts.size = Ls.size,
        Ts.select = function(e) {
            for (var t, n, i, r, o, s = [], a = -1, l = this.length; ++a < l; ) {
                i = (r = this[a]).update,
                s.push(t = []),
                t.parentNode = r.parentNode;
                for (var c = -1, u = r.length; ++c < u; )
                    (o = r[c]) ? (t.push(i[c] = n = e.call(r.parentNode, o.__data__, c, a)),
                    n.__data__ = o.__data__) : t.push(null)
            }
            return L(s)
        }
        ,
        Ts.insert = function(e, t) {
            return arguments.length < 2 && (t = X(this)),
            Ls.insert.call(this, e, t)
        }
        ,
        fs.select = function(e) {
            var t;
            return "string" == typeof e ? (t = [Bs(e, ms)],
            t.parentNode = ms.documentElement) : (t = [e],
            t.parentNode = o(e)),
            L([t])
        }
        ,
        fs.selectAll = function(e) {
            var t;
            return "string" == typeof e ? (t = ps(Ds(e, ms)),
            t.parentNode = ms.documentElement) : (t = ps(e),
            t.parentNode = null),
            L([t])
        }
        ,
        Ls.on = function(e, t, n) {
            var i = arguments.length;
            if (i < 3) {
                if ("string" != typeof e) {
                    i < 2 && (t = !1);
                    for (n in e)
                        this.each(Q(n, e[n], t));
                    return this
                }
                if (i < 2)
                    return (i = this.node()["__on" + e]) && i._;
                n = !1
            }
            return this.each(Q(e, t, n))
        }
        ;
        var Is = fs.map({
            mouseenter: "mouseover",
            mouseleave: "mouseout"
        });
        ms && Is.forEach(function(e) {
            "on" + e in ms && Is.remove(e)
        });
        var Os, Ns = 0;
        fs.mouse = function(e) {
            return te(e, D())
        }
        ;
        var Ws = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
        fs.touch = function(e, t, n) {
            if (arguments.length < 3 && (n = t,
            t = D().changedTouches),
            t)
                for (var i, r = 0, o = t.length; r < o; ++r)
                    if ((i = t[r]).identifier === n)
                        return te(e, i)
        }
        ,
        fs.behavior.drag = function() {
            function e() {
                this.on("mousedown.drag", r).on("touchstart.drag", o)
            }
            function t(e, t, r, o, s) {
                return function() {
                    function a() {
                        var e, n, i = t(d, p);
                        i && (e = i[0] - w[0],
                        n = i[1] - w[1],
                        g |= e | n,
                        w = i,
                        f({
                            type: "drag",
                            x: i[0] + c[0],
                            y: i[1] + c[1],
                            dx: e,
                            dy: n
                        }))
                    }
                    function l() {
                        t(d, p) && (v.on(o + m, null).on(s + m, null),
                        A(g),
                        f({
                            type: "dragend"
                        }))
                    }
                    var c, u = this, h = fs.event.target.correspondingElement || fs.event.target, d = u.parentNode, f = n.of(u, arguments), g = 0, p = e(), m = ".drag" + (null == p ? "" : "-" + p), v = fs.select(r(h)).on(o + m, a).on(s + m, l), A = ee(h), w = t(d, p);
                    i ? (c = i.apply(u, arguments),
                    c = [c.x - w[0], c.y - w[1]]) : c = [0, 0],
                    f({
                        type: "dragstart"
                    })
                }
            }
            var n = M(e, "drag", "dragstart", "dragend")
              , i = null
              , r = t(S, fs.mouse, s, "mousemove", "mouseup")
              , o = t(ne, fs.touch, F, "touchmove", "touchend");
            return e.origin = function(t) {
                return arguments.length ? (i = t,
                e) : i
            }
            ,
            fs.rebind(e, n, "on")
        }
        ,
        fs.touches = function(e, t) {
            return arguments.length < 2 && (t = D().touches),
            t ? ps(t).map(function(t) {
                var n = te(e, t);
                return n.identifier = t.identifier,
                n
            }) : []
        }
        ;
        var Ps = 1e-6
          , Hs = Ps * Ps
          , zs = Math.PI
          , Vs = 2 * zs
          , Us = Vs - Ps
          , Ks = zs / 2
          , js = zs / 180
          , qs = 180 / zs
          , Gs = Math.SQRT2;
        fs.interpolateZoom = function(e, t) {
            var n, i, r = e[0], o = e[1], s = e[2], a = t[0], l = t[1], c = t[2], u = a - r, h = l - o, d = u * u + h * h;
            if (d < Hs)
                i = Math.log(c / s) / Gs,
                n = function(e) {
                    return [r + e * u, o + e * h, s * Math.exp(Gs * e * i)]
                }
                ;
            else {
                var f = Math.sqrt(d)
                  , g = (c * c - s * s + 4 * d) / (2 * s * 2 * f)
                  , p = (c * c - s * s - 4 * d) / (2 * c * 2 * f)
                  , m = Math.log(Math.sqrt(g * g + 1) - g)
                  , v = Math.log(Math.sqrt(p * p + 1) - p);
                i = (v - m) / Gs,
                n = function(e) {
                    var t = e * i
                      , n = le(m)
                      , a = s / (2 * f) * (n * ce(Gs * t + m) - ae(m));
                    return [r + a * u, o + a * h, s * n / le(Gs * t + m)]
                }
            }
            return n.duration = 1e3 * i,
            n
        }
        ,
        fs.behavior.zoom = function() {
            function e(e) {
                e.on(D, h).on(Xs + ".zoom", f).on("dblclick.zoom", g).on(R, d)
            }
            function t(e) {
                return [(e[0] - E.x) / E.k, (e[1] - E.y) / E.k]
            }
            function n(e) {
                return [e[0] * E.k + E.x, e[1] * E.k + E.y]
            }
            function i(e) {
                E.k = Math.max(S[0], Math.min(S[1], e))
            }
            function r(e, t) {
                t = n(t),
                E.x += e[0] - t[0],
                E.y += e[1] - t[1]
            }
            function o(t, n, o, s) {
                t.__chart__ = {
                    x: E.x,
                    y: E.y,
                    k: E.k
                },
                i(Math.pow(2, s)),
                r(m = n, o),
                t = fs.select(t),
                k > 0 && (t = t.transition().duration(k)),
                t.call(e.event)
            }
            function a() {
                y && y.domain(C.range().map(function(e) {
                    return (e - E.x) / E.k
                }).map(C.invert)),
                F && F.domain(b.range().map(function(e) {
                    return (e - E.y) / E.k
                }).map(b.invert))
            }
            function l(e) {
                $++ || e({
                    type: "zoomstart"
                })
            }
            function c(e) {
                a(),
                e({
                    type: "zoom",
                    scale: E.k,
                    translate: [E.x, E.y]
                })
            }
            function u(e) {
                --$ || (e({
                    type: "zoomend"
                }),
                m = null)
            }
            function h() {
                function e() {
                    a = 1,
                    r(fs.mouse(i), d),
                    c(o)
                }
                function n() {
                    h.on(L, null).on(_, null),
                    f(a),
                    u(o)
                }
                var i = this
                  , o = T.of(i, arguments)
                  , a = 0
                  , h = fs.select(s(i)).on(L, e).on(_, n)
                  , d = t(fs.mouse(i))
                  , f = ee(i);
                Vl.call(i),
                l(o)
            }
            function d() {
                function e() {
                    var e = fs.touches(g);
                    return f = E.k,
                    e.forEach(function(e) {
                        e.identifier in m && (m[e.identifier] = t(e))
                    }),
                    e
                }
                function n() {
                    var t = fs.event.target;
                    fs.select(t).on(C, s).on(y, a),
                    b.push(t);
                    for (var n = fs.event.changedTouches, i = 0, r = n.length; i < r; ++i)
                        m[n[i].identifier] = null;
                    var l = e()
                      , c = Date.now();
                    if (1 === l.length) {
                        if (c - w < 500) {
                            var u = l[0];
                            o(g, u, m[u.identifier], Math.floor(Math.log(E.k) / Math.LN2) + 1),
                            B()
                        }
                        w = c
                    } else if (l.length > 1) {
                        var u = l[0]
                          , h = l[1]
                          , d = u[0] - h[0]
                          , f = u[1] - h[1];
                        v = d * d + f * f
                    }
                }
                function s() {
                    var e, t, n, o, s = fs.touches(g);
                    Vl.call(g);
                    for (var a = 0, l = s.length; a < l; ++a,
                    o = null)
                        if (n = s[a],
                        o = m[n.identifier]) {
                            if (t)
                                break;
                            e = n,
                            t = o
                        }
                    if (o) {
                        var u = (u = n[0] - e[0]) * u + (u = n[1] - e[1]) * u
                          , h = v && Math.sqrt(u / v);
                        e = [(e[0] + n[0]) / 2, (e[1] + n[1]) / 2],
                        t = [(t[0] + o[0]) / 2, (t[1] + o[1]) / 2],
                        i(h * f)
                    }
                    w = null,
                    r(e, t),
                    c(p)
                }
                function a() {
                    if (fs.event.touches.length) {
                        for (var t = fs.event.changedTouches, n = 0, i = t.length; n < i; ++n)
                            delete m[t[n].identifier];
                        for (var r in m)
                            return void e()
                    }
                    fs.selectAll(b).on(A, null),
                    F.on(D, h).on(R, d),
                    x(),
                    u(p)
                }
                var f, g = this, p = T.of(g, arguments), m = {}, v = 0, A = ".zoom-" + fs.event.changedTouches[0].identifier, C = "touchmove" + A, y = "touchend" + A, b = [], F = fs.select(g), x = ee(g);
                n(),
                l(p),
                F.on(D, null).on(R, n)
            }
            function f() {
                var e = T.of(this, arguments);
                A ? clearTimeout(A) : (Vl.call(this),
                p = t(m = v || fs.mouse(this)),
                l(e)),
                A = setTimeout(function() {
                    A = null,
                    u(e)
                }, 50),
                B(),
                i(Math.pow(2, .002 * Ys()) * E.k),
                r(m, p),
                c(e)
            }
            function g() {
                var e = fs.mouse(this)
                  , n = Math.log(E.k) / Math.LN2;
                o(this, e, t(e), fs.event.shiftKey ? Math.ceil(n) - 1 : Math.floor(n) + 1)
            }
            var p, m, v, A, w, C, y, b, F, E = {
                x: 0,
                y: 0,
                k: 1
            }, x = [960, 500], S = Qs, k = 250, $ = 0, D = "mousedown.zoom", L = "mousemove.zoom", _ = "mouseup.zoom", R = "touchstart.zoom", T = M(e, "zoomstart", "zoom", "zoomend");
            return Xs || (Xs = "onwheel"in ms ? (Ys = function() {
                return -fs.event.deltaY * (fs.event.deltaMode ? 120 : 1)
            }
            ,
            "wheel") : "onmousewheel"in ms ? (Ys = function() {
                return fs.event.wheelDelta
            }
            ,
            "mousewheel") : (Ys = function() {
                return -fs.event.detail
            }
            ,
            "MozMousePixelScroll")),
            e.event = function(e) {
                e.each(function() {
                    var e = T.of(this, arguments)
                      , t = E;
                    Hl ? fs.select(this).transition().each("start.zoom", function() {
                        E = this.__chart__ || {
                            x: 0,
                            y: 0,
                            k: 1
                        },
                        l(e)
                    }).tween("zoom:zoom", function() {
                        var n = x[0]
                          , i = x[1]
                          , r = m ? m[0] : n / 2
                          , o = m ? m[1] : i / 2
                          , s = fs.interpolateZoom([(r - E.x) / E.k, (o - E.y) / E.k, n / E.k], [(r - t.x) / t.k, (o - t.y) / t.k, n / t.k]);
                        return function(t) {
                            var i = s(t)
                              , a = n / i[2];
                            this.__chart__ = E = {
                                x: r - i[0] * a,
                                y: o - i[1] * a,
                                k: a
                            },
                            c(e)
                        }
                    }).each("interrupt.zoom", function() {
                        u(e)
                    }).each("end.zoom", function() {
                        u(e)
                    }) : (this.__chart__ = E,
                    l(e),
                    c(e),
                    u(e))
                })
            }
            ,
            e.translate = function(t) {
                return arguments.length ? (E = {
                    x: +t[0],
                    y: +t[1],
                    k: E.k
                },
                a(),
                e) : [E.x, E.y]
            }
            ,
            e.scale = function(t) {
                return arguments.length ? (E = {
                    x: E.x,
                    y: E.y,
                    k: null
                },
                i(+t),
                a(),
                e) : E.k
            }
            ,
            e.scaleExtent = function(t) {
                return arguments.length ? (S = null == t ? Qs : [+t[0], +t[1]],
                e) : S
            }
            ,
            e.center = function(t) {
                return arguments.length ? (v = t && [+t[0], +t[1]],
                e) : v
            }
            ,
            e.size = function(t) {
                return arguments.length ? (x = t && [+t[0], +t[1]],
                e) : x
            }
            ,
            e.duration = function(t) {
                return arguments.length ? (k = +t,
                e) : k
            }
            ,
            e.x = function(t) {
                return arguments.length ? (y = t,
                C = t.copy(),
                E = {
                    x: 0,
                    y: 0,
                    k: 1
                },
                e) : y
            }
            ,
            e.y = function(t) {
                return arguments.length ? (F = t,
                b = t.copy(),
                E = {
                    x: 0,
                    y: 0,
                    k: 1
                },
                e) : F
            }
            ,
            fs.rebind(e, T, "on")
        }
        ;
        var Ys, Xs, Qs = [0, 1 / 0];
        fs.color = he,
        he.prototype.toString = function() {
            return this.rgb() + ""
        }
        ,
        fs.hsl = de;
        var Zs = de.prototype = new he;
        Zs.brighter = function(e) {
            return e = Math.pow(.7, arguments.length ? e : 1),
            new de(this.h,this.s,this.l / e)
        }
        ,
        Zs.darker = function(e) {
            return e = Math.pow(.7, arguments.length ? e : 1),
            new de(this.h,this.s,e * this.l)
        }
        ,
        Zs.rgb = function() {
            return fe(this.h, this.s, this.l)
        }
        ,
        fs.hcl = ge;
        var Js = ge.prototype = new he;
        Js.brighter = function(e) {
            return new ge(this.h,this.c,Math.min(100, this.l + ea * (arguments.length ? e : 1)))
        }
        ,
        Js.darker = function(e) {
            return new ge(this.h,this.c,Math.max(0, this.l - ea * (arguments.length ? e : 1)))
        }
        ,
        Js.rgb = function() {
            return pe(this.h, this.c, this.l).rgb()
        }
        ,
        fs.lab = me;
        var ea = 18
          , ta = .95047
          , na = 1
          , ia = 1.08883
          , ra = me.prototype = new he;
        ra.brighter = function(e) {
            return new me(Math.min(100, this.l + ea * (arguments.length ? e : 1)),this.a,this.b)
        }
        ,
        ra.darker = function(e) {
            return new me(Math.max(0, this.l - ea * (arguments.length ? e : 1)),this.a,this.b)
        }
        ,
        ra.rgb = function() {
            return ve(this.l, this.a, this.b)
        }
        ,
        fs.rgb = be;
        var oa = be.prototype = new he;
        oa.brighter = function(e) {
            e = Math.pow(.7, arguments.length ? e : 1);
            var t = this.r
              , n = this.g
              , i = this.b
              , r = 30;
            return t || n || i ? (t && t < r && (t = r),
            n && n < r && (n = r),
            i && i < r && (i = r),
            new be(Math.min(255, t / e),Math.min(255, n / e),Math.min(255, i / e))) : new be(r,r,r)
        }
        ,
        oa.darker = function(e) {
            return e = Math.pow(.7, arguments.length ? e : 1),
            new be(e * this.r,e * this.g,e * this.b)
        }
        ,
        oa.hsl = function() {
            return ke(this.r, this.g, this.b)
        }
        ,
        oa.toString = function() {
            return "#" + xe(this.r) + xe(this.g) + xe(this.b)
        }
        ;
        var sa = fs.map({
            aliceblue: 15792383,
            antiquewhite: 16444375,
            aqua: 65535,
            aquamarine: 8388564,
            azure: 15794175,
            beige: 16119260,
            bisque: 16770244,
            black: 0,
            blanchedalmond: 16772045,
            blue: 255,
            blueviolet: 9055202,
            brown: 10824234,
            burlywood: 14596231,
            cadetblue: 6266528,
            chartreuse: 8388352,
            chocolate: 13789470,
            coral: 16744272,
            cornflowerblue: 6591981,
            cornsilk: 16775388,
            crimson: 14423100,
            cyan: 65535,
            darkblue: 139,
            darkcyan: 35723,
            darkgoldenrod: 12092939,
            darkgray: 11119017,
            darkgreen: 25600,
            darkgrey: 11119017,
            darkkhaki: 12433259,
            darkmagenta: 9109643,
            darkolivegreen: 5597999,
            darkorange: 16747520,
            darkorchid: 10040012,
            darkred: 9109504,
            darksalmon: 15308410,
            darkseagreen: 9419919,
            darkslateblue: 4734347,
            darkslategray: 3100495,
            darkslategrey: 3100495,
            darkturquoise: 52945,
            darkviolet: 9699539,
            deeppink: 16716947,
            deepskyblue: 49151,
            dimgray: 6908265,
            dimgrey: 6908265,
            dodgerblue: 2003199,
            firebrick: 11674146,
            floralwhite: 16775920,
            forestgreen: 2263842,
            fuchsia: 16711935,
            gainsboro: 14474460,
            ghostwhite: 16316671,
            gold: 16766720,
            goldenrod: 14329120,
            gray: 8421504,
            green: 32768,
            greenyellow: 11403055,
            grey: 8421504,
            honeydew: 15794160,
            hotpink: 16738740,
            indianred: 13458524,
            indigo: 4915330,
            ivory: 16777200,
            khaki: 15787660,
            lavender: 15132410,
            lavenderblush: 16773365,
            lawngreen: 8190976,
            lemonchiffon: 16775885,
            lightblue: 11393254,
            lightcoral: 15761536,
            lightcyan: 14745599,
            lightgoldenrodyellow: 16448210,
            lightgray: 13882323,
            lightgreen: 9498256,
            lightgrey: 13882323,
            lightpink: 16758465,
            lightsalmon: 16752762,
            lightseagreen: 2142890,
            lightskyblue: 8900346,
            lightslategray: 7833753,
            lightslategrey: 7833753,
            lightsteelblue: 11584734,
            lightyellow: 16777184,
            lime: 65280,
            limegreen: 3329330,
            linen: 16445670,
            magenta: 16711935,
            maroon: 8388608,
            mediumaquamarine: 6737322,
            mediumblue: 205,
            mediumorchid: 12211667,
            mediumpurple: 9662683,
            mediumseagreen: 3978097,
            mediumslateblue: 8087790,
            mediumspringgreen: 64154,
            mediumturquoise: 4772300,
            mediumvioletred: 13047173,
            midnightblue: 1644912,
            mintcream: 16121850,
            mistyrose: 16770273,
            moccasin: 16770229,
            navajowhite: 16768685,
            navy: 128,
            oldlace: 16643558,
            olive: 8421376,
            olivedrab: 7048739,
            orange: 16753920,
            orangered: 16729344,
            orchid: 14315734,
            palegoldenrod: 15657130,
            palegreen: 10025880,
            paleturquoise: 11529966,
            palevioletred: 14381203,
            papayawhip: 16773077,
            peachpuff: 16767673,
            peru: 13468991,
            pink: 16761035,
            plum: 14524637,
            powderblue: 11591910,
            purple: 8388736,
            rebeccapurple: 6697881,
            red: 16711680,
            rosybrown: 12357519,
            royalblue: 4286945,
            saddlebrown: 9127187,
            salmon: 16416882,
            sandybrown: 16032864,
            seagreen: 3050327,
            seashell: 16774638,
            sienna: 10506797,
            silver: 12632256,
            skyblue: 8900331,
            slateblue: 6970061,
            slategray: 7372944,
            slategrey: 7372944,
            snow: 16775930,
            springgreen: 65407,
            steelblue: 4620980,
            tan: 13808780,
            teal: 32896,
            thistle: 14204888,
            tomato: 16737095,
            turquoise: 4251856,
            violet: 15631086,
            wheat: 16113331,
            white: 16777215,
            whitesmoke: 16119285,
            yellow: 16776960,
            yellowgreen: 10145074
        });
        sa.forEach(function(e, t) {
            sa.set(e, Fe(t))
        }),
        fs.functor = Me,
        fs.xhr = Le(F),
        fs.dsv = function(e, t) {
            function n(e, n, o) {
                arguments.length < 3 && (o = n,
                n = null);
                var s = _e(e, t, null == n ? i : r(n), o);
                return s.row = function(e) {
                    return arguments.length ? s.response(null == (n = e) ? i : r(e)) : n
                }
                ,
                s
            }
            function i(e) {
                return n.parse(e.responseText)
            }
            function r(e) {
                return function(t) {
                    return n.parse(t.responseText, e)
                }
            }
            function o(t) {
                return t.map(s).join(e)
            }
            function s(e) {
                return a.test(e) ? '"' + e.replace(/\"/g, '""') + '"' : e
            }
            var a = new RegExp('["' + e + "\n]")
              , l = e.charCodeAt(0);
            return n.parse = function(e, t) {
                var i;
                return n.parseRows(e, function(e, n) {
                    if (i)
                        return i(e, n - 1);
                    var r = new Function("d","return {" + e.map(function(e, t) {
                        return JSON.stringify(e) + ": d[" + t + "]"
                    }).join(",") + "}");
                    i = t ? function(e, n) {
                        return t(r(e), n)
                    }
                    : r
                })
            }
            ,
            n.parseRows = function(e, t) {
                function n() {
                    if (u >= c)
                        return s;
                    if (r)
                        return r = !1,
                        o;
                    var t = u;
                    if (34 === e.charCodeAt(t)) {
                        for (var n = t; n++ < c; )
                            if (34 === e.charCodeAt(n)) {
                                if (34 !== e.charCodeAt(n + 1))
                                    break;
                                ++n
                            }
                        u = n + 2;
                        var i = e.charCodeAt(n + 1);
                        return 13 === i ? (r = !0,
                        10 === e.charCodeAt(n + 2) && ++u) : 10 === i && (r = !0),
                        e.slice(t + 1, n).replace(/""/g, '"')
                    }
                    for (; u < c; ) {
                        var i = e.charCodeAt(u++)
                          , a = 1;
                        if (10 === i)
                            r = !0;
                        else if (13 === i)
                            r = !0,
                            10 === e.charCodeAt(u) && (++u,
                            ++a);
                        else if (i !== l)
                            continue;
                        return e.slice(t, u - a)
                    }
                    return e.slice(t)
                }
                for (var i, r, o = {}, s = {}, a = [], c = e.length, u = 0, h = 0; (i = n()) !== s; ) {
                    for (var d = []; i !== o && i !== s; )
                        d.push(i),
                        i = n();
                    t && null == (d = t(d, h++)) || a.push(d)
                }
                return a
            }
            ,
            n.format = function(t) {
                if (Array.isArray(t[0]))
                    return n.formatRows(t);
                var i = new b
                  , r = [];
                return t.forEach(function(e) {
                    for (var t in e)
                        i.has(t) || r.push(i.add(t))
                }),
                [r.map(s).join(e)].concat(t.map(function(t) {
                    return r.map(function(e) {
                        return s(t[e])
                    }).join(e)
                })).join("\n")
            }
            ,
            n.formatRows = function(e) {
                return e.map(o).join("\n")
            }
            ,
            n
        }
        ,
        fs.csv = fs.dsv(",", "text/csv"),
        fs.tsv = fs.dsv("\t", "text/tab-separated-values");
        var aa, la, ca, ua, ha = this[x(this, "requestAnimationFrame")] || function(e) {
            setTimeout(e, 17)
        }
        ;
        fs.timer = function() {
            Ie.apply(this, arguments)
        }
        ,
        fs.timer.flush = function() {
            Ne(),
            We()
        }
        ,
        fs.round = function(e, t) {
            return t ? Math.round(e * (t = Math.pow(10, t))) / t : Math.round(e)
        }
        ;
        var da = ["y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map(He);
        fs.formatPrefix = function(e, t) {
            var n = 0;
            return (e = +e) && (e < 0 && (e *= -1),
            t && (e = fs.round(e, Pe(e, t))),
            n = 1 + Math.floor(1e-12 + Math.log(e) / Math.LN10),
            n = Math.max(-24, Math.min(24, 3 * Math.floor((n - 1) / 3)))),
            da[8 + n / 3]
        }
        ;
        var fa = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i
          , ga = fs.map({
            b: function(e) {
                return e.toString(2)
            },
            c: function(e) {
                return String.fromCharCode(e)
            },
            o: function(e) {
                return e.toString(8)
            },
            x: function(e) {
                return e.toString(16)
            },
            X: function(e) {
                return e.toString(16).toUpperCase()
            },
            g: function(e, t) {
                return e.toPrecision(t)
            },
            e: function(e, t) {
                return e.toExponential(t)
            },
            f: function(e, t) {
                return e.toFixed(t)
            },
            r: function(e, t) {
                return (e = fs.round(e, Pe(e, t))).toFixed(Math.max(0, Math.min(20, Pe(e * (1 + 1e-15), t))))
            }
        })
          , pa = fs.time = {}
          , ma = Date;
        Ue.prototype = {
            getDate: function() {
                return this._.getUTCDate()
            },
            getDay: function() {
                return this._.getUTCDay()
            },
            getFullYear: function() {
                return this._.getUTCFullYear()
            },
            getHours: function() {
                return this._.getUTCHours()
            },
            getMilliseconds: function() {
                return this._.getUTCMilliseconds()
            },
            getMinutes: function() {
                return this._.getUTCMinutes()
            },
            getMonth: function() {
                return this._.getUTCMonth()
            },
            getSeconds: function() {
                return this._.getUTCSeconds()
            },
            getTime: function() {
                return this._.getTime()
            },
            getTimezoneOffset: function() {
                return 0
            },
            valueOf: function() {
                return this._.valueOf()
            },
            setDate: function() {
                va.setUTCDate.apply(this._, arguments)
            },
            setDay: function() {
                va.setUTCDay.apply(this._, arguments)
            },
            setFullYear: function() {
                va.setUTCFullYear.apply(this._, arguments)
            },
            setHours: function() {
                va.setUTCHours.apply(this._, arguments)
            },
            setMilliseconds: function() {
                va.setUTCMilliseconds.apply(this._, arguments)
            },
            setMinutes: function() {
                va.setUTCMinutes.apply(this._, arguments)
            },
            setMonth: function() {
                va.setUTCMonth.apply(this._, arguments)
            },
            setSeconds: function() {
                va.setUTCSeconds.apply(this._, arguments)
            },
            setTime: function() {
                va.setTime.apply(this._, arguments)
            }
        };
        var va = Date.prototype;
        pa.year = Ke(function(e) {
            return e = pa.day(e),
            e.setMonth(0, 1),
            e
        }, function(e, t) {
            e.setFullYear(e.getFullYear() + t)
        }, function(e) {
            return e.getFullYear()
        }),
        pa.years = pa.year.range,
        pa.years.utc = pa.year.utc.range,
        pa.day = Ke(function(e) {
            var t = new ma(2e3,0);
            return t.setFullYear(e.getFullYear(), e.getMonth(), e.getDate()),
            t
        }, function(e, t) {
            e.setDate(e.getDate() + t)
        }, function(e) {
            return e.getDate() - 1
        }),
        pa.days = pa.day.range,
        pa.days.utc = pa.day.utc.range,
        pa.dayOfYear = function(e) {
            var t = pa.year(e);
            return Math.floor((e - t - 6e4 * (e.getTimezoneOffset() - t.getTimezoneOffset())) / 864e5)
        }
        ,
        ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"].forEach(function(e, t) {
            t = 7 - t;
            var n = pa[e] = Ke(function(e) {
                return (e = pa.day(e)).setDate(e.getDate() - (e.getDay() + t) % 7),
                e
            }, function(e, t) {
                e.setDate(e.getDate() + 7 * Math.floor(t))
            }, function(e) {
                var n = pa.year(e).getDay();
                return Math.floor((pa.dayOfYear(e) + (n + t) % 7) / 7) - (n !== t)
            });
            pa[e + "s"] = n.range,
            pa[e + "s"].utc = n.utc.range,
            pa[e + "OfYear"] = function(e) {
                var n = pa.year(e).getDay();
                return Math.floor((pa.dayOfYear(e) + (n + t) % 7) / 7)
            }
        }),
        pa.week = pa.sunday,
        pa.weeks = pa.sunday.range,
        pa.weeks.utc = pa.sunday.utc.range,
        pa.weekOfYear = pa.sundayOfYear;
        var Aa = {
            "-": "",
            _: " ",
            0: "0"
        }
          , wa = /^\s*\d+/
          , Ca = /^%/;
        fs.locale = function(e) {
            return {
                numberFormat: ze(e),
                timeFormat: qe(e)
            }
        }
        ;
        var ya = fs.locale({
            decimal: ".",
            thousands: ",",
            grouping: [3],
            currency: ["$", ""],
            dateTime: "%a %b %e %X %Y",
            date: "%m/%d/%Y",
            time: "%H:%M:%S",
            periods: ["AM", "PM"],
            days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
        });
        fs.format = ya.numberFormat,
        fs.geo = {},
        gt.prototype = {
            s: 0,
            t: 0,
            add: function(e) {
                pt(e, this.t, ba),
                pt(ba.s, this.s, this),
                this.s ? this.t += ba.t : this.s = ba.t
            },
            reset: function() {
                this.s = this.t = 0
            },
            valueOf: function() {
                return this.s
            }
        };
        var ba = new gt;
        fs.geo.stream = function(e, t) {
            e && Fa.hasOwnProperty(e.type) ? Fa[e.type](e, t) : mt(e, t)
        }
        ;
        var Fa = {
            Feature: function(e, t) {
                mt(e.geometry, t)
            },
            FeatureCollection: function(e, t) {
                for (var n = e.features, i = -1, r = n.length; ++i < r; )
                    mt(n[i].geometry, t)
            }
        }
          , Ea = {
            Sphere: function(e, t) {
                t.sphere()
            },
            Point: function(e, t) {
                e = e.coordinates,
                t.point(e[0], e[1], e[2])
            },
            MultiPoint: function(e, t) {
                for (var n = e.coordinates, i = -1, r = n.length; ++i < r; )
                    e = n[i],
                    t.point(e[0], e[1], e[2])
            },
            LineString: function(e, t) {
                vt(e.coordinates, t, 0)
            },
            MultiLineString: function(e, t) {
                for (var n = e.coordinates, i = -1, r = n.length; ++i < r; )
                    vt(n[i], t, 0)
            },
            Polygon: function(e, t) {
                At(e.coordinates, t)
            },
            MultiPolygon: function(e, t) {
                for (var n = e.coordinates, i = -1, r = n.length; ++i < r; )
                    At(n[i], t)
            },
            GeometryCollection: function(e, t) {
                for (var n = e.geometries, i = -1, r = n.length; ++i < r; )
                    mt(n[i], t)
            }
        };
        fs.geo.area = function(e) {
            return xa = 0,
            fs.geo.stream(e, ka),
            xa
        }
        ;
        var xa, Sa = new gt, ka = {
            sphere: function() {
                xa += 4 * zs
            },
            point: S,
            lineStart: S,
            lineEnd: S,
            polygonStart: function() {
                Sa.reset(),
                ka.lineStart = wt
            },
            polygonEnd: function() {
                var e = 2 * Sa;
                xa += e < 0 ? 4 * zs + e : e,
                ka.lineStart = ka.lineEnd = ka.point = S
            }
        };
        fs.geo.bounds = function() {
            function e(e, t) {
                w.push(C = [u = e, d = e]),
                t < h && (h = t),
                t > f && (f = t)
            }
            function t(t, n) {
                var i = Ct([t * js, n * js]);
                if (v) {
                    var r = bt(v, i)
                      , o = [r[1], -r[0], 0]
                      , s = bt(o, r);
                    xt(s),
                    s = St(s);
                    var l = t - g
                      , c = l > 0 ? 1 : -1
                      , p = s[0] * qs * c
                      , m = Fs(l) > 180;
                    if (m ^ (c * g < p && p < c * t)) {
                        var A = s[1] * qs;
                        A > f && (f = A)
                    } else if (p = (p + 360) % 360 - 180,
                    m ^ (c * g < p && p < c * t)) {
                        var A = -s[1] * qs;
                        A < h && (h = A)
                    } else
                        n < h && (h = n),
                        n > f && (f = n);
                    m ? t < g ? a(u, t) > a(u, d) && (d = t) : a(t, d) > a(u, d) && (u = t) : d >= u ? (t < u && (u = t),
                    t > d && (d = t)) : t > g ? a(u, t) > a(u, d) && (d = t) : a(t, d) > a(u, d) && (u = t)
                } else
                    e(t, n);
                v = i,
                g = t
            }
            function n() {
                y.point = t
            }
            function i() {
                C[0] = u,
                C[1] = d,
                y.point = e,
                v = null
            }
            function r(e, n) {
                if (v) {
                    var i = e - g;
                    A += Fs(i) > 180 ? i + (i > 0 ? 360 : -360) : i
                } else
                    p = e,
                    m = n;
                ka.point(e, n),
                t(e, n)
            }
            function o() {
                ka.lineStart()
            }
            function s() {
                r(p, m),
                ka.lineEnd(),
                Fs(A) > Ps && (u = -(d = 180)),
                C[0] = u,
                C[1] = d,
                v = null
            }
            function a(e, t) {
                return (t -= e) < 0 ? t + 360 : t
            }
            function l(e, t) {
                return e[0] - t[0]
            }
            function c(e, t) {
                return t[0] <= t[1] ? t[0] <= e && e <= t[1] : e < t[0] || t[1] < e
            }
            var u, h, d, f, g, p, m, v, A, w, C, y = {
                point: e,
                lineStart: n,
                lineEnd: i,
                polygonStart: function() {
                    y.point = r,
                    y.lineStart = o,
                    y.lineEnd = s,
                    A = 0,
                    ka.polygonStart()
                },
                polygonEnd: function() {
                    ka.polygonEnd(),
                    y.point = e,
                    y.lineStart = n,
                    y.lineEnd = i,
                    Sa < 0 ? (u = -(d = 180),
                    h = -(f = 90)) : A > Ps ? f = 90 : A < -Ps && (h = -90),
                    C[0] = u,
                    C[1] = d
                }
            };
            return function(e) {
                f = d = -(u = h = 1 / 0),
                w = [],
                fs.geo.stream(e, y);
                var t = w.length;
                if (t) {
                    w.sort(l);
                    for (var n, i = 1, r = w[0], o = [r]; i < t; ++i)
                        n = w[i],
                        c(n[0], r) || c(n[1], r) ? (a(r[0], n[1]) > a(r[0], r[1]) && (r[1] = n[1]),
                        a(n[0], r[1]) > a(r[0], r[1]) && (r[0] = n[0])) : o.push(r = n);
                    for (var s, n, g = -1 / 0, t = o.length - 1, i = 0, r = o[t]; i <= t; r = n,
                    ++i)
                        n = o[i],
                        (s = a(r[1], n[0])) > g && (g = s,
                        u = n[0],
                        d = r[1])
                }
                return w = C = null,
                u === 1 / 0 || h === 1 / 0 ? [[NaN, NaN], [NaN, NaN]] : [[u, h], [d, f]]
            }
        }(),
        fs.geo.centroid = function(e) {
            $a = Ba = Da = Ma = La = _a = Ra = Ta = Ia = Oa = Na = 0,
            fs.geo.stream(e, Wa);
            var t = Ia
              , n = Oa
              , i = Na
              , r = t * t + n * n + i * i;
            return r < Hs && (t = _a,
            n = Ra,
            i = Ta,
            Ba < Ps && (t = Da,
            n = Ma,
            i = La),
            (r = t * t + n * n + i * i) < Hs) ? [NaN, NaN] : [Math.atan2(n, t) * qs, se(i / Math.sqrt(r)) * qs]
        }
        ;
        var $a, Ba, Da, Ma, La, _a, Ra, Ta, Ia, Oa, Na, Wa = {
            sphere: S,
            point: $t,
            lineStart: Dt,
            lineEnd: Mt,
            polygonStart: function() {
                Wa.lineStart = Lt
            },
            polygonEnd: function() {
                Wa.lineStart = Dt
            }
        }, Pa = Nt(Rt, zt, Ut, [-zs, -zs / 2]), Ha = 1e9;
        fs.geo.clipExtent = function() {
            var e, t, n, i, r, o, s = {
                stream: function(e) {
                    return r && (r.valid = !1),
                    r = o(e),
                    r.valid = !0,
                    r
                },
                extent: function(a) {
                    return arguments.length ? (o = Gt(e = +a[0][0], t = +a[0][1], n = +a[1][0], i = +a[1][1]),
                    r && (r.valid = !1,
                    r = null),
                    s) : [[e, t], [n, i]]
                }
            };
            return s.extent([[0, 0], [960, 500]])
        }
        ,
        (fs.geo.conicEqualArea = function() {
            return Yt(Xt)
        }
        ).raw = Xt,
        fs.geo.albers = function() {
            return fs.geo.conicEqualArea().rotate([96, 0]).center([-.6, 38.7]).parallels([29.5, 45.5]).scale(1070)
        }
        ,
        fs.geo.albersUsa = function() {
            function e(e) {
                var o = e[0]
                  , s = e[1];
                return t = null,
                n(o, s),
                t || (i(o, s),
                t) || r(o, s),
                t
            }
            var t, n, i, r, o = fs.geo.albers(), s = fs.geo.conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), a = fs.geo.conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), l = {
                point: function(e, n) {
                    t = [e, n]
                }
            };
            return e.invert = function(e) {
                var t = o.scale()
                  , n = o.translate()
                  , i = (e[0] - n[0]) / t
                  , r = (e[1] - n[1]) / t;
                return (r >= .12 && r < .234 && i >= -.425 && i < -.214 ? s : r >= .166 && r < .234 && i >= -.214 && i < -.115 ? a : o).invert(e)
            }
            ,
            e.stream = function(e) {
                var t = o.stream(e)
                  , n = s.stream(e)
                  , i = a.stream(e);
                return {
                    point: function(e, r) {
                        t.point(e, r),
                        n.point(e, r),
                        i.point(e, r)
                    },
                    sphere: function() {
                        t.sphere(),
                        n.sphere(),
                        i.sphere()
                    },
                    lineStart: function() {
                        t.lineStart(),
                        n.lineStart(),
                        i.lineStart()
                    },
                    lineEnd: function() {
                        t.lineEnd(),
                        n.lineEnd(),
                        i.lineEnd()
                    },
                    polygonStart: function() {
                        t.polygonStart(),
                        n.polygonStart(),
                        i.polygonStart()
                    },
                    polygonEnd: function() {
                        t.polygonEnd(),
                        n.polygonEnd(),
                        i.polygonEnd()
                    }
                }
            }
            ,
            e.precision = function(t) {
                return arguments.length ? (o.precision(t),
                s.precision(t),
                a.precision(t),
                e) : o.precision()
            }
            ,
            e.scale = function(t) {
                return arguments.length ? (o.scale(t),
                s.scale(.35 * t),
                a.scale(t),
                e.translate(o.translate())) : o.scale()
            }
            ,
            e.translate = function(t) {
                if (!arguments.length)
                    return o.translate();
                var c = o.scale()
                  , u = +t[0]
                  , h = +t[1];
                return n = o.translate(t).clipExtent([[u - .455 * c, h - .238 * c], [u + .455 * c, h + .238 * c]]).stream(l).point,
                i = s.translate([u - .307 * c, h + .201 * c]).clipExtent([[u - .425 * c + Ps, h + .12 * c + Ps], [u - .214 * c - Ps, h + .234 * c - Ps]]).stream(l).point,
                r = a.translate([u - .205 * c, h + .212 * c]).clipExtent([[u - .214 * c + Ps, h + .166 * c + Ps], [u - .115 * c - Ps, h + .234 * c - Ps]]).stream(l).point,
                e
            }
            ,
            e.scale(1070)
        }
        ;
        var za, Va, Ua, Ka, ja, qa, Ga = {
            point: S,
            lineStart: S,
            lineEnd: S,
            polygonStart: function() {
                Va = 0,
                Ga.lineStart = Qt
            },
            polygonEnd: function() {
                Ga.lineStart = Ga.lineEnd = Ga.point = S,
                za += Fs(Va / 2)
            }
        }, Ya = {
            point: Zt,
            lineStart: S,
            lineEnd: S,
            polygonStart: S,
            polygonEnd: S
        }, Xa = {
            point: tn,
            lineStart: nn,
            lineEnd: rn,
            polygonStart: function() {
                Xa.lineStart = on
            },
            polygonEnd: function() {
                Xa.point = tn,
                Xa.lineStart = nn,
                Xa.lineEnd = rn
            }
        };
        fs.geo.path = function() {
            function e(e) {
                return e && ("function" == typeof a && o.pointRadius(+a.apply(this, arguments)),
                s && s.valid || (s = r(o)),
                fs.geo.stream(e, s)),
                o.result()
            }
            function t() {
                return s = null,
                e
            }
            var n, i, r, o, s, a = 4.5;
            return e.area = function(e) {
                return za = 0,
                fs.geo.stream(e, r(Ga)),
                za
            }
            ,
            e.centroid = function(e) {
                return Da = Ma = La = _a = Ra = Ta = Ia = Oa = Na = 0,
                fs.geo.stream(e, r(Xa)),
                Na ? [Ia / Na, Oa / Na] : Ta ? [_a / Ta, Ra / Ta] : La ? [Da / La, Ma / La] : [NaN, NaN]
            }
            ,
            e.bounds = function(e) {
                return ja = qa = -(Ua = Ka = 1 / 0),
                fs.geo.stream(e, r(Ya)),
                [[Ua, Ka], [ja, qa]]
            }
            ,
            e.projection = function(e) {
                return arguments.length ? (r = (n = e) ? e.stream || ln(e) : F,
                t()) : n
            }
            ,
            e.context = function(e) {
                return arguments.length ? (o = null == (i = e) ? new Jt : new sn(e),
                "function" != typeof a && o.pointRadius(a),
                t()) : i
            }
            ,
            e.pointRadius = function(t) {
                return arguments.length ? (a = "function" == typeof t ? t : (o.pointRadius(+t),
                +t),
                e) : a
            }
            ,
            e.projection(fs.geo.albersUsa()).context(null)
        }
        ,
        fs.geo.transform = function(e) {
            return {
                stream: function(t) {
                    var n = new cn(t);
                    for (var i in e)
                        n[i] = e[i];
                    return n
                }
            }
        }
        ,
        cn.prototype = {
            point: function(e, t) {
                this.stream.point(e, t)
            },
            sphere: function() {
                this.stream.sphere()
            },
            lineStart: function() {
                this.stream.lineStart()
            },
            lineEnd: function() {
                this.stream.lineEnd()
            },
            polygonStart: function() {
                this.stream.polygonStart()
            },
            polygonEnd: function() {
                this.stream.polygonEnd()
            }
        },
        fs.geo.projection = hn,
        fs.geo.projectionMutator = dn,
        (fs.geo.equirectangular = function() {
            return hn(gn)
        }
        ).raw = gn.invert = gn,
        fs.geo.rotation = function(e) {
            function t(t) {
                return t = e(t[0] * js, t[1] * js),
                t[0] *= qs,
                t[1] *= qs,
                t
            }
            return e = mn(e[0] % 360 * js, e[1] * js, e.length > 2 ? e[2] * js : 0),
            t.invert = function(t) {
                return t = e.invert(t[0] * js, t[1] * js),
                t[0] *= qs,
                t[1] *= qs,
                t
            }
            ,
            t
        }
        ,
        pn.invert = gn,
        fs.geo.circle = function() {
            function e() {
                var e = "function" == typeof i ? i.apply(this, arguments) : i
                  , t = mn(-e[0] * js, -e[1] * js, 0).invert
                  , r = [];
                return n(null, null, 1, {
                    point: function(e, n) {
                        r.push(e = t(e, n)),
                        e[0] *= qs,
                        e[1] *= qs
                    }
                }),
                {
                    type: "Polygon",
                    coordinates: [r]
                }
            }
            var t, n, i = [0, 0], r = 6;
            return e.origin = function(t) {
                return arguments.length ? (i = t,
                e) : i
            }
            ,
            e.angle = function(i) {
                return arguments.length ? (n = Cn((t = +i) * js, r * js),
                e) : t
            }
            ,
            e.precision = function(i) {
                return arguments.length ? (n = Cn(t * js, (r = +i) * js),
                e) : r
            }
            ,
            e.angle(90)
        }
        ,
        fs.geo.distance = function(e, t) {
            var n, i = (t[0] - e[0]) * js, r = e[1] * js, o = t[1] * js, s = Math.sin(i), a = Math.cos(i), l = Math.sin(r), c = Math.cos(r), u = Math.sin(o), h = Math.cos(o);
            return Math.atan2(Math.sqrt((n = h * s) * n + (n = c * u - l * h * a) * n), l * u + c * h * a)
        }
        ,
        fs.geo.graticule = function() {
            function e() {
                return {
                    type: "MultiLineString",
                    coordinates: t()
                }
            }
            function t() {
                return fs.range(Math.ceil(o / m) * m, r, m).map(d).concat(fs.range(Math.ceil(c / v) * v, l, v).map(f)).concat(fs.range(Math.ceil(i / g) * g, n, g).filter(function(e) {
                    return Fs(e % m) > Ps
                }).map(u)).concat(fs.range(Math.ceil(a / p) * p, s, p).filter(function(e) {
                    return Fs(e % v) > Ps
                }).map(h))
            }
            var n, i, r, o, s, a, l, c, u, h, d, f, g = 10, p = g, m = 90, v = 360, A = 2.5;
            return e.lines = function() {
                return t().map(function(e) {
                    return {
                        type: "LineString",
                        coordinates: e
                    }
                })
            }
            ,
            e.outline = function() {
                return {
                    type: "Polygon",
                    coordinates: [d(o).concat(f(l).slice(1), d(r).reverse().slice(1), f(c).reverse().slice(1))]
                }
            }
            ,
            e.extent = function(t) {
                return arguments.length ? e.majorExtent(t).minorExtent(t) : e.minorExtent()
            }
            ,
            e.majorExtent = function(t) {
                return arguments.length ? (o = +t[0][0],
                r = +t[1][0],
                c = +t[0][1],
                l = +t[1][1],
                o > r && (t = o,
                o = r,
                r = t),
                c > l && (t = c,
                c = l,
                l = t),
                e.precision(A)) : [[o, c], [r, l]]
            }
            ,
            e.minorExtent = function(t) {
                return arguments.length ? (i = +t[0][0],
                n = +t[1][0],
                a = +t[0][1],
                s = +t[1][1],
                i > n && (t = i,
                i = n,
                n = t),
                a > s && (t = a,
                a = s,
                s = t),
                e.precision(A)) : [[i, a], [n, s]]
            }
            ,
            e.step = function(t) {
                return arguments.length ? e.majorStep(t).minorStep(t) : e.minorStep()
            }
            ,
            e.majorStep = function(t) {
                return arguments.length ? (m = +t[0],
                v = +t[1],
                e) : [m, v]
            }
            ,
            e.minorStep = function(t) {
                return arguments.length ? (g = +t[0],
                p = +t[1],
                e) : [g, p]
            }
            ,
            e.precision = function(t) {
                return arguments.length ? (A = +t,
                u = bn(a, s, 90),
                h = Fn(i, n, A),
                d = bn(c, l, 90),
                f = Fn(o, r, A),
                e) : A
            }
            ,
            e.majorExtent([[-180, -90 + Ps], [180, 90 - Ps]]).minorExtent([[-180, -80 - Ps], [180, 80 + Ps]])
        }
        ,
        fs.geo.greatArc = function() {
            function e() {
                return {
                    type: "LineString",
                    coordinates: [t || i.apply(this, arguments), n || r.apply(this, arguments)]
                }
            }
            var t, n, i = En, r = xn;
            return e.distance = function() {
                return fs.geo.distance(t || i.apply(this, arguments), n || r.apply(this, arguments))
            }
            ,
            e.source = function(n) {
                return arguments.length ? (i = n,
                t = "function" == typeof n ? null : n,
                e) : i
            }
            ,
            e.target = function(t) {
                return arguments.length ? (r = t,
                n = "function" == typeof t ? null : t,
                e) : r
            }
            ,
            e.precision = function() {
                return arguments.length ? e : 0
            }
            ,
            e
        }
        ,
        fs.geo.interpolate = function(e, t) {
            return Sn(e[0] * js, e[1] * js, t[0] * js, t[1] * js)
        }
        ,
        fs.geo.length = function(e) {
            return Qa = 0,
            fs.geo.stream(e, Za),
            Qa
        }
        ;
        var Qa, Za = {
            sphere: S,
            point: S,
            lineStart: kn,
            lineEnd: S,
            polygonStart: S,
            polygonEnd: S
        }, Ja = $n(function(e) {
            return Math.sqrt(2 / (1 + e))
        }, function(e) {
            return 2 * Math.asin(e / 2)
        });
        (fs.geo.azimuthalEqualArea = function() {
            return hn(Ja)
        }
        ).raw = Ja;
        var el = $n(function(e) {
            var t = Math.acos(e);
            return t && t / Math.sin(t)
        }, F);
        (fs.geo.azimuthalEquidistant = function() {
            return hn(el)
        }
        ).raw = el,
        (fs.geo.conicConformal = function() {
            return Yt(Bn)
        }
        ).raw = Bn,
        (fs.geo.conicEquidistant = function() {
            return Yt(Dn)
        }
        ).raw = Dn;
        var tl = $n(function(e) {
            return 1 / e
        }, Math.atan);
        (fs.geo.gnomonic = function() {
            return hn(tl)
        }
        ).raw = tl,
        Mn.invert = function(e, t) {
            return [e, 2 * Math.atan(Math.exp(t)) - Ks]
        }
        ,
        (fs.geo.mercator = function() {
            return Ln(Mn)
        }
        ).raw = Mn;
        var nl = $n(function() {
            return 1
        }, Math.asin);
        (fs.geo.orthographic = function() {
            return hn(nl)
        }
        ).raw = nl;
        var il = $n(function(e) {
            return 1 / (1 + e)
        }, function(e) {
            return 2 * Math.atan(e)
        });
        (fs.geo.stereographic = function() {
            return hn(il)
        }
        ).raw = il,
        _n.invert = function(e, t) {
            return [-t, 2 * Math.atan(Math.exp(e)) - Ks]
        }
        ,
        (fs.geo.transverseMercator = function() {
            var e = Ln(_n)
              , t = e.center
              , n = e.rotate;
            return e.center = function(e) {
                return e ? t([-e[1], e[0]]) : (e = t(),
                [e[1], -e[0]])
            }
            ,
            e.rotate = function(e) {
                return e ? n([e[0], e[1], e.length > 2 ? e[2] + 90 : 90]) : (e = n(),
                [e[0], e[1], e[2] - 90])
            }
            ,
            n([0, 0, 90])
        }
        ).raw = _n,
        fs.geom = {},
        fs.geom.hull = function(e) {
            function t(e) {
                if (e.length < 3)
                    return [];
                var t, r = Me(n), o = Me(i), s = e.length, a = [], l = [];
                for (t = 0; t < s; t++)
                    a.push([+r.call(this, e[t], t), +o.call(this, e[t], t), t]);
                for (a.sort(On),
                t = 0; t < s; t++)
                    l.push([a[t][0], -a[t][1]]);
                var c = In(a)
                  , u = In(l)
                  , h = u[0] === c[0]
                  , d = u[u.length - 1] === c[c.length - 1]
                  , f = [];
                for (t = c.length - 1; t >= 0; --t)
                    f.push(e[a[c[t]][2]]);
                for (t = +h; t < u.length - d; ++t)
                    f.push(e[a[u[t]][2]]);
                return f
            }
            var n = Rn
              , i = Tn;
            return arguments.length ? t(e) : (t.x = function(e) {
                return arguments.length ? (n = e,
                t) : n
            }
            ,
            t.y = function(e) {
                return arguments.length ? (i = e,
                t) : i
            }
            ,
            t)
        }
        ,
        fs.geom.polygon = function(e) {
            return $s(e, rl),
            e
        }
        ;
        var rl = fs.geom.polygon.prototype = [];
        rl.area = function() {
            for (var e, t = -1, n = this.length, i = this[n - 1], r = 0; ++t < n; )
                e = i,
                i = this[t],
                r += e[1] * i[0] - e[0] * i[1];
            return .5 * r
        }
        ,
        rl.centroid = function(e) {
            var t, n, i = -1, r = this.length, o = 0, s = 0, a = this[r - 1];
            for (arguments.length || (e = -1 / (6 * this.area())); ++i < r; )
                t = a,
                a = this[i],
                n = t[0] * a[1] - a[0] * t[1],
                o += (t[0] + a[0]) * n,
                s += (t[1] + a[1]) * n;
            return [o * e, s * e]
        }
        ,
        rl.clip = function(e) {
            for (var t, n, i, r, o, s, a = Pn(e), l = -1, c = this.length - Pn(this), u = this[c - 1]; ++l < c; ) {
                for (t = e.slice(),
                e.length = 0,
                r = this[l],
                o = t[(i = t.length - a) - 1],
                n = -1; ++n < i; )
                    s = t[n],
                    Nn(s, u, r) ? (Nn(o, u, r) || e.push(Wn(o, s, u, r)),
                    e.push(s)) : Nn(o, u, r) && e.push(Wn(o, s, u, r)),
                    o = s;
                a && e.push(e[0]),
                u = r
            }
            return e
        }
        ;
        var ol, sl, al, ll, cl, ul = [], hl = [];
        Gn.prototype.prepare = function() {
            for (var e, t = this.edges, n = t.length; n--; )
                e = t[n].edge,
                e.b && e.a || t.splice(n, 1);
            return t.sort(Xn),
            t.length
        }
        ,
        si.prototype = {
            start: function() {
                return this.edge.l === this.site ? this.edge.a : this.edge.b
            },
            end: function() {
                return this.edge.l === this.site ? this.edge.b : this.edge.a
            }
        },
        ai.prototype = {
            insert: function(e, t) {
                var n, i, r;
                if (e) {
                    if (t.P = e,
                    t.N = e.N,
                    e.N && (e.N.P = t),
                    e.N = t,
                    e.R) {
                        for (e = e.R; e.L; )
                            e = e.L;
                        e.L = t
                    } else
                        e.R = t;
                    n = e
                } else
                    this._ ? (e = hi(this._),
                    t.P = null,
                    t.N = e,
                    e.P = e.L = t,
                    n = e) : (t.P = t.N = null,
                    this._ = t,
                    n = null);
                for (t.L = t.R = null,
                t.U = n,
                t.C = !0,
                e = t; n && n.C; )
                    i = n.U,
                    n === i.L ? (r = i.R,
                    r && r.C ? (n.C = r.C = !1,
                    i.C = !0,
                    e = i) : (e === n.R && (ci(this, n),
                    e = n,
                    n = e.U),
                    n.C = !1,
                    i.C = !0,
                    ui(this, i))) : (r = i.L,
                    r && r.C ? (n.C = r.C = !1,
                    i.C = !0,
                    e = i) : (e === n.L && (ui(this, n),
                    e = n,
                    n = e.U),
                    n.C = !1,
                    i.C = !0,
                    ci(this, i))),
                    n = e.U;
                this._.C = !1
            },
            remove: function(e) {
                e.N && (e.N.P = e.P),
                e.P && (e.P.N = e.N),
                e.N = e.P = null;
                var t, n, i, r = e.U, o = e.L, s = e.R;
                if (n = o ? s ? hi(s) : o : s,
                r ? r.L === e ? r.L = n : r.R = n : this._ = n,
                o && s ? (i = n.C,
                n.C = e.C,
                n.L = o,
                o.U = n,
                n !== s ? (r = n.U,
                n.U = e.U,
                e = n.R,
                r.L = e,
                n.R = s,
                s.U = n) : (n.U = r,
                r = n,
                e = n.R)) : (i = e.C,
                e = n),
                e && (e.U = r),
                !i) {
                    if (e && e.C)
                        return void (e.C = !1);
                    do {
                        if (e === this._)
                            break;
                        if (e === r.L) {
                            if (t = r.R,
                            t.C && (t.C = !1,
                            r.C = !0,
                            ci(this, r),
                            t = r.R),
                            t.L && t.L.C || t.R && t.R.C) {
                                t.R && t.R.C || (t.L.C = !1,
                                t.C = !0,
                                ui(this, t),
                                t = r.R),
                                t.C = r.C,
                                r.C = t.R.C = !1,
                                ci(this, r),
                                e = this._;
                                break
                            }
                        } else if (t = r.L,
                        t.C && (t.C = !1,
                        r.C = !0,
                        ui(this, r),
                        t = r.L),
                        t.L && t.L.C || t.R && t.R.C) {
                            t.L && t.L.C || (t.R.C = !1,
                            t.C = !0,
                            ci(this, t),
                            t = r.L),
                            t.C = r.C,
                            r.C = t.L.C = !1,
                            ui(this, r),
                            e = this._;
                            break
                        }
                        t.C = !0,
                        e = r,
                        r = r.U
                    } while (!e.C);
                    e && (e.C = !1)
                }
            }
        },
        fs.geom.voronoi = function(e) {
            function t(e) {
                var t = new Array(e.length)
                  , i = a[0][0]
                  , r = a[0][1]
                  , o = a[1][0]
                  , s = a[1][1];
                return di(n(e), a).cells.forEach(function(n, a) {
                    var l = n.edges
                      , c = n.site;
                    (t[a] = l.length ? l.map(function(e) {
                        var t = e.start();
                        return [t.x, t.y]
                    }) : c.x >= i && c.x <= o && c.y >= r && c.y <= s ? [[i, s], [o, s], [o, r], [i, r]] : []).point = e[a]
                }),
                t
            }
            function n(e) {
                return e.map(function(e, t) {
                    return {
                        x: Math.round(o(e, t) / Ps) * Ps,
                        y: Math.round(s(e, t) / Ps) * Ps,
                        i: t
                    }
                })
            }
            var i = Rn
              , r = Tn
              , o = i
              , s = r
              , a = dl;
            return e ? t(e) : (t.links = function(e) {
                return di(n(e)).edges.filter(function(e) {
                    return e.l && e.r
                }).map(function(t) {
                    return {
                        source: e[t.l.i],
                        target: e[t.r.i]
                    }
                })
            }
            ,
            t.triangles = function(e) {
                var t = [];
                return di(n(e)).cells.forEach(function(n, i) {
                    for (var r, o = n.site, s = n.edges.sort(Xn), a = -1, l = s.length, c = s[l - 1].edge, u = c.l === o ? c.r : c.l; ++a < l; )
                        c,
                        r = u,
                        c = s[a].edge,
                        u = c.l === o ? c.r : c.l,
                        i < r.i && i < u.i && gi(o, r, u) < 0 && t.push([e[i], e[r.i], e[u.i]])
                }),
                t
            }
            ,
            t.x = function(e) {
                return arguments.length ? (o = Me(i = e),
                t) : i
            }
            ,
            t.y = function(e) {
                return arguments.length ? (s = Me(r = e),
                t) : r
            }
            ,
            t.clipExtent = function(e) {
                return arguments.length ? (a = null == e ? dl : e,
                t) : a === dl ? null : a
            }
            ,
            t.size = function(e) {
                return arguments.length ? t.clipExtent(e && [[0, 0], e]) : a === dl ? null : a && a[1]
            }
            ,
            t)
        }
        ;
        var dl = [[-1e6, -1e6], [1e6, 1e6]];
        fs.geom.delaunay = function(e) {
            return fs.geom.voronoi().triangles(e)
        }
        ,
        fs.geom.quadtree = function(e, t, n, i, r) {
            function o(e) {
                function o(e, t, n, i, r, o, s, a) {
                    if (!isNaN(n) && !isNaN(i))
                        if (e.leaf) {
                            var l = e.x
                              , u = e.y;
                            if (null != l)
                                if (Fs(l - n) + Fs(u - i) < .01)
                                    c(e, t, n, i, r, o, s, a);
                                else {
                                    var h = e.point;
                                    e.x = e.y = e.point = null,
                                    c(e, h, l, u, r, o, s, a),
                                    c(e, t, n, i, r, o, s, a)
                                }
                            else
                                e.x = n,
                                e.y = i,
                                e.point = t
                        } else
                            c(e, t, n, i, r, o, s, a)
                }
                function c(e, t, n, i, r, s, a, l) {
                    var c = .5 * (r + a)
                      , u = .5 * (s + l)
                      , h = n >= c
                      , d = i >= u
                      , f = d << 1 | h;
                    e.leaf = !1,
                    e = e.nodes[f] || (e.nodes[f] = vi()),
                    h ? r = c : a = c,
                    d ? s = u : l = u,
                    o(e, t, n, i, r, s, a, l)
                }
                var u, h, d, f, g, p, m, v, A, w = Me(a), C = Me(l);
                if (null != t)
                    p = t,
                    m = n,
                    v = i,
                    A = r;
                else if (v = A = -(p = m = 1 / 0),
                h = [],
                d = [],
                g = e.length,
                s)
                    for (f = 0; f < g; ++f)
                        u = e[f],
                        u.x < p && (p = u.x),
                        u.y < m && (m = u.y),
                        u.x > v && (v = u.x),
                        u.y > A && (A = u.y),
                        h.push(u.x),
                        d.push(u.y);
                else
                    for (f = 0; f < g; ++f) {
                        var y = +w(u = e[f], f)
                          , b = +C(u, f);
                        y < p && (p = y),
                        b < m && (m = b),
                        y > v && (v = y),
                        b > A && (A = b),
                        h.push(y),
                        d.push(b)
                    }
                var F = v - p
                  , E = A - m;
                F > E ? A = m + F : v = p + E;
                var x = vi();
                if (x.add = function(e) {
                    o(x, e, +w(e, ++f), +C(e, f), p, m, v, A)
                }
                ,
                x.visit = function(e) {
                    Ai(e, x, p, m, v, A)
                }
                ,
                x.find = function(e) {
                    return wi(x, e[0], e[1], p, m, v, A)
                }
                ,
                f = -1,
                null == t) {
                    for (; ++f < g; )
                        o(x, e[f], h[f], d[f], p, m, v, A);
                    --f
                } else
                    e.forEach(x.add);
                return h = d = e = u = null,
                x
            }
            var s, a = Rn, l = Tn;
            return (s = arguments.length) ? (a = pi,
            l = mi,
            3 === s && (r = n,
            i = t,
            n = t = 0),
            o(e)) : (o.x = function(e) {
                return arguments.length ? (a = e,
                o) : a
            }
            ,
            o.y = function(e) {
                return arguments.length ? (l = e,
                o) : l
            }
            ,
            o.extent = function(e) {
                return arguments.length ? (null == e ? t = n = i = r = null : (t = +e[0][0],
                n = +e[0][1],
                i = +e[1][0],
                r = +e[1][1]),
                o) : null == t ? null : [[t, n], [i, r]]
            }
            ,
            o.size = function(e) {
                return arguments.length ? (null == e ? t = n = i = r = null : (t = n = 0,
                i = +e[0],
                r = +e[1]),
                o) : null == t ? null : [i - t, r - n]
            }
            ,
            o)
        }
        ,
        fs.interpolateRgb = Ci,
        fs.interpolateObject = yi,
        fs.interpolateNumber = bi,
        fs.interpolateString = Fi;
        var fl = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g
          , gl = new RegExp(fl.source,"g");
        fs.interpolate = Ei,
        fs.interpolators = [function(e, t) {
            var n = typeof t;
            return ("string" === n ? sa.has(t.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(t) ? Ci : Fi : t instanceof he ? Ci : Array.isArray(t) ? xi : "object" === n && isNaN(t) ? yi : bi)(e, t)
        }
        ],
        fs.interpolateArray = xi;
        var pl = function() {
            return F
        }
          , ml = fs.map({
            linear: pl,
            poly: Li,
            quad: function() {
                return Bi
            },
            cubic: function() {
                return Di
            },
            sin: function() {
                return _i
            },
            exp: function() {
                return Ri
            },
            circle: function() {
                return Ti
            },
            elastic: Ii,
            back: Oi,
            bounce: function() {
                return Ni
            }
        })
          , vl = fs.map({
            in: F,
            out: ki,
            "in-out": $i,
            "out-in": function(e) {
                return $i(ki(e))
            }
        });
        fs.ease = function(e) {
            var t = e.indexOf("-")
              , n = t >= 0 ? e.slice(0, t) : e
              , i = t >= 0 ? e.slice(t + 1) : "in";
            return n = ml.get(n) || pl,
            i = vl.get(i) || F,
            Si(i(n.apply(null, gs.call(arguments, 1))))
        }
        ,
        fs.interpolateHcl = Wi,
        fs.interpolateHsl = Pi,
        fs.interpolateLab = Hi,
        fs.interpolateRound = zi,
        fs.transform = function(e) {
            var t = ms.createElementNS(fs.ns.prefix.svg, "g");
            return (fs.transform = function(e) {
                if (null != e) {
                    t.setAttribute("transform", e);
                    var n = t.transform.baseVal.consolidate()
                }
                return new Vi(n ? n.matrix : Al)
            }
            )(e)
        }
        ,
        Vi.prototype.toString = function() {
            return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")"
        }
        ;
        var Al = {
            a: 1,
            b: 0,
            c: 0,
            d: 1,
            e: 0,
            f: 0
        };
        fs.interpolateTransform = Zi,
        fs.layout = {},
        fs.layout.bundle = function() {
            return function(e) {
                for (var t = [], n = -1, i = e.length; ++n < i; )
                    t.push(tr(e[n]));
                return t
            }
        }
        ,
        fs.layout.chord = function() {
            function e() {
                var e, c, h, d, f, g = {}, p = [], m = fs.range(o), v = [];
                for (n = [],
                i = [],
                e = 0,
                d = -1; ++d < o; ) {
                    for (c = 0,
                    f = -1; ++f < o; )
                        c += r[d][f];
                    p.push(c),
                    v.push(fs.range(o)),
                    e += c
                }
                for (s && m.sort(function(e, t) {
                    return s(p[e], p[t])
                }),
                a && v.forEach(function(e, t) {
                    e.sort(function(e, n) {
                        return a(r[t][e], r[t][n])
                    })
                }),
                e = (Vs - u * o) / e,
                c = 0,
                d = -1; ++d < o; ) {
                    for (h = c,
                    f = -1; ++f < o; ) {
                        var A = m[d]
                          , w = v[A][f]
                          , C = r[A][w]
                          , y = c
                          , b = c += C * e;
                        g[A + "-" + w] = {
                            index: A,
                            subindex: w,
                            startAngle: y,
                            endAngle: b,
                            value: C
                        }
                    }
                    i[A] = {
                        index: A,
                        startAngle: h,
                        endAngle: c,
                        value: p[A]
                    },
                    c += u
                }
                for (d = -1; ++d < o; )
                    for (f = d - 1; ++f < o; ) {
                        var F = g[d + "-" + f]
                          , E = g[f + "-" + d];
                        (F.value || E.value) && n.push(F.value < E.value ? {
                            source: E,
                            target: F
                        } : {
                            source: F,
                            target: E
                        })
                    }
                l && t()
            }
            function t() {
                n.sort(function(e, t) {
                    return l((e.source.value + e.target.value) / 2, (t.source.value + t.target.value) / 2)
                })
            }
            var n, i, r, o, s, a, l, c = {}, u = 0;
            return c.matrix = function(e) {
                return arguments.length ? (o = (r = e) && r.length,
                n = i = null,
                c) : r
            }
            ,
            c.padding = function(e) {
                return arguments.length ? (u = e,
                n = i = null,
                c) : u
            }
            ,
            c.sortGroups = function(e) {
                return arguments.length ? (s = e,
                n = i = null,
                c) : s
            }
            ,
            c.sortSubgroups = function(e) {
                return arguments.length ? (a = e,
                n = null,
                c) : a
            }
            ,
            c.sortChords = function(e) {
                return arguments.length ? (l = e,
                n && t(),
                c) : l
            }
            ,
            c.chords = function() {
                return n || e(),
                n
            }
            ,
            c.groups = function() {
                return i || e(),
                i
            }
            ,
            c
        }
        ,
        fs.layout.force = function() {
            function e(e) {
                return function(t, n, i, r) {
                    if (t.point !== e) {
                        var o = t.cx - e.x
                          , s = t.cy - e.y
                          , a = r - n
                          , l = o * o + s * s;
                        if (a * a / v < l) {
                            if (l < p) {
                                var c = t.charge / l;
                                e.px -= o * c,
                                e.py -= s * c
                            }
                            return !0
                        }
                        if (t.point && l && l < p) {
                            var c = t.pointCharge / l;
                            e.px -= o * c,
                            e.py -= s * c
                        }
                    }
                    return !t.charge
                }
            }
            function t(e) {
                e.px = fs.event.x,
                e.py = fs.event.y,
                l.resume()
            }
            var n, i, r, o, s, a, l = {}, c = fs.dispatch("start", "tick", "end"), u = [1, 1], h = .9, d = wl, f = Cl, g = -30, p = yl, m = .1, v = .64, A = [], w = [];
            return l.tick = function() {
                if ((r *= .99) < .005)
                    return n = null,
                    c.end({
                        type: "end",
                        alpha: r = 0
                    }),
                    !0;
                var t, i, l, d, f, p, v, C, y, b = A.length, F = w.length;
                for (i = 0; i < F; ++i)
                    l = w[i],
                    d = l.source,
                    f = l.target,
                    C = f.x - d.x,
                    y = f.y - d.y,
                    (p = C * C + y * y) && (p = r * s[i] * ((p = Math.sqrt(p)) - o[i]) / p,
                    C *= p,
                    y *= p,
                    f.x -= C * (v = d.weight + f.weight ? d.weight / (d.weight + f.weight) : .5),
                    f.y -= y * v,
                    d.x += C * (v = 1 - v),
                    d.y += y * v);
                if ((v = r * m) && (C = u[0] / 2,
                y = u[1] / 2,
                i = -1,
                v))
                    for (; ++i < b; )
                        l = A[i],
                        l.x += (C - l.x) * v,
                        l.y += (y - l.y) * v;
                if (g)
                    for (lr(t = fs.geom.quadtree(A), r, a),
                    i = -1; ++i < b; )
                        (l = A[i]).fixed || t.visit(e(l));
                for (i = -1; ++i < b; )
                    l = A[i],
                    l.fixed ? (l.x = l.px,
                    l.y = l.py) : (l.x -= (l.px - (l.px = l.x)) * h,
                    l.y -= (l.py - (l.py = l.y)) * h);
                c.tick({
                    type: "tick",
                    alpha: r
                })
            }
            ,
            l.nodes = function(e) {
                return arguments.length ? (A = e,
                l) : A
            }
            ,
            l.links = function(e) {
                return arguments.length ? (w = e,
                l) : w
            }
            ,
            l.size = function(e) {
                return arguments.length ? (u = e,
                l) : u
            }
            ,
            l.linkDistance = function(e) {
                return arguments.length ? (d = "function" == typeof e ? e : +e,
                l) : d
            }
            ,
            l.distance = l.linkDistance,
            l.linkStrength = function(e) {
                return arguments.length ? (f = "function" == typeof e ? e : +e,
                l) : f
            }
            ,
            l.friction = function(e) {
                return arguments.length ? (h = +e,
                l) : h
            }
            ,
            l.charge = function(e) {
                return arguments.length ? (g = "function" == typeof e ? e : +e,
                l) : g
            }
            ,
            l.chargeDistance = function(e) {
                return arguments.length ? (p = e * e,
                l) : Math.sqrt(p)
            }
            ,
            l.gravity = function(e) {
                return arguments.length ? (m = +e,
                l) : m
            }
            ,
            l.theta = function(e) {
                return arguments.length ? (v = e * e,
                l) : Math.sqrt(v)
            }
            ,
            l.alpha = function(e) {
                return arguments.length ? (e = +e,
                r ? e > 0 ? r = e : (n.c = null,
                n.t = NaN,
                n = null,
                c.end({
                    type: "end",
                    alpha: r = 0
                })) : e > 0 && (c.start({
                    type: "start",
                    alpha: r = e
                }),
                n = Ie(l.tick)),
                l) : r
            }
            ,
            l.start = function() {
                function e(e, i) {
                    if (!n) {
                        for (n = new Array(r),
                        l = 0; l < r; ++l)
                            n[l] = [];
                        for (l = 0; l < c; ++l) {
                            var o = w[l];
                            n[o.source.index].push(o.target),
                            n[o.target.index].push(o.source)
                        }
                    }
                    for (var s, a = n[t], l = -1, u = a.length; ++l < u; )
                        if (!isNaN(s = a[l][e]))
                            return s;
                    return Math.random() * i
                }
                var t, n, i, r = A.length, c = w.length, h = u[0], p = u[1];
                for (t = 0; t < r; ++t)
                    (i = A[t]).index = t,
                    i.weight = 0;
                for (t = 0; t < c; ++t)
                    i = w[t],
                    "number" == typeof i.source && (i.source = A[i.source]),
                    "number" == typeof i.target && (i.target = A[i.target]),
                    ++i.source.weight,
                    ++i.target.weight;
                for (t = 0; t < r; ++t)
                    i = A[t],
                    isNaN(i.x) && (i.x = e("x", h)),
                    isNaN(i.y) && (i.y = e("y", p)),
                    isNaN(i.px) && (i.px = i.x),
                    isNaN(i.py) && (i.py = i.y);
                if (o = [],
                "function" == typeof d)
                    for (t = 0; t < c; ++t)
                        o[t] = +d.call(this, w[t], t);
                else
                    for (t = 0; t < c; ++t)
                        o[t] = d;
                if (s = [],
                "function" == typeof f)
                    for (t = 0; t < c; ++t)
                        s[t] = +f.call(this, w[t], t);
                else
                    for (t = 0; t < c; ++t)
                        s[t] = f;
                if (a = [],
                "function" == typeof g)
                    for (t = 0; t < r; ++t)
                        a[t] = +g.call(this, A[t], t);
                else
                    for (t = 0; t < r; ++t)
                        a[t] = g;
                return l.resume()
            }
            ,
            l.resume = function() {
                return l.alpha(.1)
            }
            ,
            l.stop = function() {
                return l.alpha(0)
            }
            ,
            l.drag = function() {
                if (i || (i = fs.behavior.drag().origin(F).on("dragstart.force", rr).on("drag.force", t).on("dragend.force", or)),
                !arguments.length)
                    return i;
                this.on("mouseover.force", sr).on("mouseout.force", ar).call(i)
            }
            ,
            fs.rebind(l, c, "on")
        }
        ;
        var wl = 20
          , Cl = 1
          , yl = 1 / 0;
        fs.layout.hierarchy = function() {
            function e(r) {
                var o, s = [r], a = [];
                for (r.depth = 0; null != (o = s.pop()); )
                    if (a.push(o),
                    (c = n.call(e, o, o.depth)) && (l = c.length)) {
                        for (var l, c, u; --l >= 0; )
                            s.push(u = c[l]),
                            u.parent = o,
                            u.depth = o.depth + 1;
                        i && (o.value = 0),
                        o.children = c
                    } else
                        i && (o.value = +i.call(e, o, o.depth) || 0),
                        delete o.children;
                return hr(r, function(e) {
                    var n, r;
                    t && (n = e.children) && n.sort(t),
                    i && (r = e.parent) && (r.value += e.value)
                }),
                a
            }
            var t = gr
              , n = dr
              , i = fr;
            return e.sort = function(n) {
                return arguments.length ? (t = n,
                e) : t
            }
            ,
            e.children = function(t) {
                return arguments.length ? (n = t,
                e) : n
            }
            ,
            e.value = function(t) {
                return arguments.length ? (i = t,
                e) : i
            }
            ,
            e.revalue = function(t) {
                return i && (ur(t, function(e) {
                    e.children && (e.value = 0)
                }),
                hr(t, function(t) {
                    var n;
                    t.children || (t.value = +i.call(e, t, t.depth) || 0),
                    (n = t.parent) && (n.value += t.value)
                })),
                t
            }
            ,
            e
        }
        ,
        fs.layout.partition = function() {
            function e(t, n, i, r) {
                var o = t.children;
                if (t.x = n,
                t.y = t.depth * r,
                t.dx = i,
                t.dy = r,
                o && (s = o.length)) {
                    var s, a, l, c = -1;
                    for (i = t.value ? i / t.value : 0; ++c < s; )
                        e(a = o[c], n, l = a.value * i, r),
                        n += l
                }
            }
            function t(e) {
                var n = e.children
                  , i = 0;
                if (n && (r = n.length))
                    for (var r, o = -1; ++o < r; )
                        i = Math.max(i, t(n[o]));
                return 1 + i
            }
            function n(n, o) {
                var s = i.call(this, n, o);
                return e(s[0], 0, r[0], r[1] / t(s[0])),
                s
            }
            var i = fs.layout.hierarchy()
              , r = [1, 1];
            return n.size = function(e) {
                return arguments.length ? (r = e,
                n) : r
            }
            ,
            cr(n, i)
        }
        ,
        fs.layout.pie = function() {
            function e(s) {
                var a, l = s.length, c = s.map(function(n, i) {
                    return +t.call(e, n, i)
                }), u = +("function" == typeof i ? i.apply(this, arguments) : i), h = ("function" == typeof r ? r.apply(this, arguments) : r) - u, d = Math.min(Math.abs(h) / l, +("function" == typeof o ? o.apply(this, arguments) : o)), f = d * (h < 0 ? -1 : 1), g = fs.sum(c), p = g ? (h - l * f) / g : 0, m = fs.range(l), v = [];
                return null != n && m.sort(n === bl ? function(e, t) {
                    return c[t] - c[e]
                }
                : function(e, t) {
                    return n(s[e], s[t])
                }
                ),
                m.forEach(function(e) {
                    v[e] = {
                        data: s[e],
                        value: a = c[e],
                        startAngle: u,
                        endAngle: u += a * p + f,
                        padAngle: d
                    }
                }),
                v
            }
            var t = Number
              , n = bl
              , i = 0
              , r = Vs
              , o = 0;
            return e.value = function(n) {
                return arguments.length ? (t = n,
                e) : t
            }
            ,
            e.sort = function(t) {
                return arguments.length ? (n = t,
                e) : n
            }
            ,
            e.startAngle = function(t) {
                return arguments.length ? (i = t,
                e) : i
            }
            ,
            e.endAngle = function(t) {
                return arguments.length ? (r = t,
                e) : r
            }
            ,
            e.padAngle = function(t) {
                return arguments.length ? (o = t,
                e) : o
            }
            ,
            e
        }
        ;
        var bl = {};
        fs.layout.stack = function() {
            function e(a, l) {
                if (!(d = a.length))
                    return a;
                var c = a.map(function(n, i) {
                    return t.call(e, n, i)
                })
                  , u = c.map(function(t) {
                    return t.map(function(t, n) {
                        return [o.call(e, t, n), s.call(e, t, n)]
                    })
                })
                  , h = n.call(e, u, l);
                c = fs.permute(c, h),
                u = fs.permute(u, h);
                var d, f, g, p, m = i.call(e, u, l), v = c[0].length;
                for (g = 0; g < v; ++g)
                    for (r.call(e, c[0][g], p = m[g], u[0][g][1]),
                    f = 1; f < d; ++f)
                        r.call(e, c[f][g], p += u[f - 1][g][1], u[f][g][1]);
                return a
            }
            var t = F
              , n = wr
              , i = Cr
              , r = Ar
              , o = mr
              , s = vr;
            return e.values = function(n) {
                return arguments.length ? (t = n,
                e) : t
            }
            ,
            e.order = function(t) {
                return arguments.length ? (n = "function" == typeof t ? t : Fl.get(t) || wr,
                e) : n
            }
            ,
            e.offset = function(t) {
                return arguments.length ? (i = "function" == typeof t ? t : El.get(t) || Cr,
                e) : i
            }
            ,
            e.x = function(t) {
                return arguments.length ? (o = t,
                e) : o
            }
            ,
            e.y = function(t) {
                return arguments.length ? (s = t,
                e) : s
            }
            ,
            e.out = function(t) {
                return arguments.length ? (r = t,
                e) : r
            }
            ,
            e
        }
        ;
        var Fl = fs.map({
            "inside-out": function(e) {
                var t, n, i = e.length, r = e.map(yr), o = e.map(br), s = fs.range(i).sort(function(e, t) {
                    return r[e] - r[t]
                }), a = 0, l = 0, c = [], u = [];
                for (t = 0; t < i; ++t)
                    n = s[t],
                    a < l ? (a += o[n],
                    c.push(n)) : (l += o[n],
                    u.push(n));
                return u.reverse().concat(c)
            },
            reverse: function(e) {
                return fs.range(e.length).reverse()
            },
            default: wr
        })
          , El = fs.map({
            silhouette: function(e) {
                var t, n, i, r = e.length, o = e[0].length, s = [], a = 0, l = [];
                for (n = 0; n < o; ++n) {
                    for (t = 0,
                    i = 0; t < r; t++)
                        i += e[t][n][1];
                    i > a && (a = i),
                    s.push(i)
                }
                for (n = 0; n < o; ++n)
                    l[n] = (a - s[n]) / 2;
                return l
            },
            wiggle: function(e) {
                var t, n, i, r, o, s, a, l, c, u = e.length, h = e[0], d = h.length, f = [];
                for (f[0] = l = c = 0,
                n = 1; n < d; ++n) {
                    for (t = 0,
                    r = 0; t < u; ++t)
                        r += e[t][n][1];
                    for (t = 0,
                    o = 0,
                    a = h[n][0] - h[n - 1][0]; t < u; ++t) {
                        for (i = 0,
                        s = (e[t][n][1] - e[t][n - 1][1]) / (2 * a); i < t; ++i)
                            s += (e[i][n][1] - e[i][n - 1][1]) / a;
                        o += s * e[t][n][1]
                    }
                    f[n] = l -= r ? o / r * a : 0,
                    l < c && (c = l)
                }
                for (n = 0; n < d; ++n)
                    f[n] -= c;
                return f
            },
            expand: function(e) {
                var t, n, i, r = e.length, o = e[0].length, s = 1 / r, a = [];
                for (n = 0; n < o; ++n) {
                    for (t = 0,
                    i = 0; t < r; t++)
                        i += e[t][n][1];
                    if (i)
                        for (t = 0; t < r; t++)
                            e[t][n][1] /= i;
                    else
                        for (t = 0; t < r; t++)
                            e[t][n][1] = s
                }
                for (n = 0; n < o; ++n)
                    a[n] = 0;
                return a
            },
            zero: Cr
        });
        fs.layout.histogram = function() {
            function e(e, o) {
                for (var s, a, l = [], c = e.map(n, this), u = i.call(this, c, o), h = r.call(this, u, c, o), o = -1, d = c.length, f = h.length - 1, g = t ? 1 : 1 / d; ++o < f; )
                    s = l[o] = [],
                    s.dx = h[o + 1] - (s.x = h[o]),
                    s.y = 0;
                if (f > 0)
                    for (o = -1; ++o < d; )
                        (a = c[o]) >= u[0] && a <= u[1] && (s = l[fs.bisect(h, a, 1, f) - 1],
                        s.y += g,
                        s.push(e[o]));
                return l
            }
            var t = !0
              , n = Number
              , i = Sr
              , r = Er;
            return e.value = function(t) {
                return arguments.length ? (n = t,
                e) : n
            }
            ,
            e.range = function(t) {
                return arguments.length ? (i = Me(t),
                e) : i
            }
            ,
            e.bins = function(t) {
                return arguments.length ? (r = "number" == typeof t ? function(e) {
                    return xr(e, t)
                }
                : Me(t),
                e) : r
            }
            ,
            e.frequency = function(n) {
                return arguments.length ? (t = !!n,
                e) : t
            }
            ,
            e
        }
        ,
        fs.layout.pack = function() {
            function e(e, o) {
                var s = n.call(this, e, o)
                  , a = s[0]
                  , l = r[0]
                  , c = r[1]
                  , u = null == t ? Math.sqrt : "function" == typeof t ? t : function() {
                    return t
                }
                ;
                if (a.x = a.y = 0,
                hr(a, function(e) {
                    e.r = +u(e.value)
                }),
                hr(a, Mr),
                i) {
                    var h = i * (t ? 1 : Math.max(2 * a.r / l, 2 * a.r / c)) / 2;
                    hr(a, function(e) {
                        e.r += h
                    }),
                    hr(a, Mr),
                    hr(a, function(e) {
                        e.r -= h
                    })
                }
                return Rr(a, l / 2, c / 2, t ? 1 : 1 / Math.max(2 * a.r / l, 2 * a.r / c)),
                s
            }
            var t, n = fs.layout.hierarchy().sort(kr), i = 0, r = [1, 1];
            return e.size = function(t) {
                return arguments.length ? (r = t,
                e) : r
            }
            ,
            e.radius = function(n) {
                return arguments.length ? (t = null == n || "function" == typeof n ? n : +n,
                e) : t
            }
            ,
            e.padding = function(t) {
                return arguments.length ? (i = +t,
                e) : i
            }
            ,
            cr(e, n)
        }
        ,
        fs.layout.tree = function() {
            function e(e, r) {
                var u = s.call(this, e, r)
                  , h = u[0]
                  , d = t(h);
                if (hr(d, n),
                d.parent.m = -d.z,
                ur(d, i),
                c)
                    ur(h, o);
                else {
                    var f = h
                      , g = h
                      , p = h;
                    ur(h, function(e) {
                        e.x < f.x && (f = e),
                        e.x > g.x && (g = e),
                        e.depth > p.depth && (p = e)
                    });
                    var m = a(f, g) / 2 - f.x
                      , v = l[0] / (g.x + a(g, f) / 2 + m)
                      , A = l[1] / (p.depth || 1);
                    ur(h, function(e) {
                        e.x = (e.x + m) * v,
                        e.y = e.depth * A
                    })
                }
                return u
            }
            function t(e) {
                for (var t, n = {
                    A: null,
                    children: [e]
                }, i = [n]; null != (t = i.pop()); )
                    for (var r, o = t.children, s = 0, a = o.length; s < a; ++s)
                        i.push((o[s] = r = {
                            _: o[s],
                            parent: t,
                            children: (r = o[s].children) && r.slice() || [],
                            A: null,
                            a: null,
                            z: 0,
                            m: 0,
                            c: 0,
                            s: 0,
                            t: null,
                            i: s
                        }).a = r);
                return n.children[0]
            }
            function n(e) {
                var t = e.children
                  , n = e.parent.children
                  , i = e.i ? n[e.i - 1] : null;
                if (t.length) {
                    Pr(e);
                    var o = (t[0].z + t[t.length - 1].z) / 2;
                    i ? (e.z = i.z + a(e._, i._),
                    e.m = e.z - o) : e.z = o
                } else
                    i && (e.z = i.z + a(e._, i._));
                e.parent.A = r(e, i, e.parent.A || n[0])
            }
            function i(e) {
                e._.x = e.z + e.parent.m,
                e.m += e.parent.m
            }
            function r(e, t, n) {
                if (t) {
                    for (var i, r = e, o = e, s = t, l = r.parent.children[0], c = r.m, u = o.m, h = s.m, d = l.m; s = Nr(s),
                    r = Or(r),
                    s && r; )
                        l = Or(l),
                        o = Nr(o),
                        o.a = e,
                        i = s.z + h - r.z - c + a(s._, r._),
                        i > 0 && (Wr(Hr(s, e, n), e, i),
                        c += i,
                        u += i),
                        h += s.m,
                        c += r.m,
                        d += l.m,
                        u += o.m;
                    s && !Nr(o) && (o.t = s,
                    o.m += h - u),
                    r && !Or(l) && (l.t = r,
                    l.m += c - d,
                    n = e)
                }
                return n
            }
            function o(e) {
                e.x *= l[0],
                e.y = e.depth * l[1]
            }
            var s = fs.layout.hierarchy().sort(null).value(null)
              , a = Ir
              , l = [1, 1]
              , c = null;
            return e.separation = function(t) {
                return arguments.length ? (a = t,
                e) : a
            }
            ,
            e.size = function(t) {
                return arguments.length ? (c = null == (l = t) ? o : null,
                e) : c ? null : l
            }
            ,
            e.nodeSize = function(t) {
                return arguments.length ? (c = null == (l = t) ? null : o,
                e) : c ? l : null
            }
            ,
            cr(e, s)
        }
        ,
        fs.layout.cluster = function() {
            function e(e, o) {
                var s, a = t.call(this, e, o), l = a[0], c = 0;
                hr(l, function(e) {
                    var t = e.children;
                    t && t.length ? (e.x = Vr(t),
                    e.y = zr(t)) : (e.x = s ? c += n(e, s) : 0,
                    e.y = 0,
                    s = e)
                });
                var u = Ur(l)
                  , h = Kr(l)
                  , d = u.x - n(u, h) / 2
                  , f = h.x + n(h, u) / 2;
                return hr(l, r ? function(e) {
                    e.x = (e.x - l.x) * i[0],
                    e.y = (l.y - e.y) * i[1]
                }
                : function(e) {
                    e.x = (e.x - d) / (f - d) * i[0],
                    e.y = (1 - (l.y ? e.y / l.y : 1)) * i[1]
                }
                ),
                a
            }
            var t = fs.layout.hierarchy().sort(null).value(null)
              , n = Ir
              , i = [1, 1]
              , r = !1;
            return e.separation = function(t) {
                return arguments.length ? (n = t,
                e) : n
            }
            ,
            e.size = function(t) {
                return arguments.length ? (r = null == (i = t),
                e) : r ? null : i
            }
            ,
            e.nodeSize = function(t) {
                return arguments.length ? (r = null != (i = t),
                e) : r ? i : null
            }
            ,
            cr(e, t)
        }
        ,
        fs.layout.treemap = function() {
            function e(e, t) {
                for (var n, i, r = -1, o = e.length; ++r < o; )
                    i = (n = e[r]).value * (t < 0 ? 0 : t),
                    n.area = isNaN(i) || i <= 0 ? 0 : i
            }
            function t(n) {
                var o = n.children;
                if (o && o.length) {
                    var s, a, l, c = h(n), u = [], d = o.slice(), g = 1 / 0, p = "slice" === f ? c.dx : "dice" === f ? c.dy : "slice-dice" === f ? 1 & n.depth ? c.dy : c.dx : Math.min(c.dx, c.dy);
                    for (e(d, c.dx * c.dy / n.value),
                    u.area = 0; (l = d.length) > 0; )
                        u.push(s = d[l - 1]),
                        u.area += s.area,
                        "squarify" !== f || (a = i(u, p)) <= g ? (d.pop(),
                        g = a) : (u.area -= u.pop().area,
                        r(u, p, c, !1),
                        p = Math.min(c.dx, c.dy),
                        u.length = u.area = 0,
                        g = 1 / 0);
                    u.length && (r(u, p, c, !0),
                    u.length = u.area = 0),
                    o.forEach(t)
                }
            }
            function n(t) {
                var i = t.children;
                if (i && i.length) {
                    var o, s = h(t), a = i.slice(), l = [];
                    for (e(a, s.dx * s.dy / t.value),
                    l.area = 0; o = a.pop(); )
                        l.push(o),
                        l.area += o.area,
                        null != o.z && (r(l, o.z ? s.dx : s.dy, s, !a.length),
                        l.length = l.area = 0);
                    i.forEach(n)
                }
            }
            function i(e, t) {
                for (var n, i = e.area, r = 0, o = 1 / 0, s = -1, a = e.length; ++s < a; )
                    (n = e[s].area) && (n < o && (o = n),
                    n > r && (r = n));
                return i *= i,
                t *= t,
                i ? Math.max(t * r * g / i, i / (t * o * g)) : 1 / 0
            }
            function r(e, t, n, i) {
                var r, o = -1, s = e.length, a = n.x, c = n.y, u = t ? l(e.area / t) : 0;
                if (t == n.dx) {
                    for ((i || u > n.dy) && (u = n.dy); ++o < s; )
                        r = e[o],
                        r.x = a,
                        r.y = c,
                        r.dy = u,
                        a += r.dx = Math.min(n.x + n.dx - a, u ? l(r.area / u) : 0);
                    r.z = !0,
                    r.dx += n.x + n.dx - a,
                    n.y += u,
                    n.dy -= u
                } else {
                    for ((i || u > n.dx) && (u = n.dx); ++o < s; )
                        r = e[o],
                        r.x = a,
                        r.y = c,
                        r.dx = u,
                        c += r.dy = Math.min(n.y + n.dy - c, u ? l(r.area / u) : 0);
                    r.z = !1,
                    r.dy += n.y + n.dy - c,
                    n.x += u,
                    n.dx -= u
                }
            }
            function o(i) {
                var r = s || a(i)
                  , o = r[0];
                return o.x = o.y = 0,
                o.value ? (o.dx = c[0],
                o.dy = c[1]) : o.dx = o.dy = 0,
                s && a.revalue(o),
                e([o], o.dx * o.dy / o.value),
                (s ? n : t)(o),
                d && (s = r),
                r
            }
            var s, a = fs.layout.hierarchy(), l = Math.round, c = [1, 1], u = null, h = jr, d = !1, f = "squarify", g = .5 * (1 + Math.sqrt(5));
            return o.size = function(e) {
                return arguments.length ? (c = e,
                o) : c
            }
            ,
            o.padding = function(e) {
                function t(t) {
                    var n = e.call(o, t, t.depth);
                    return null == n ? jr(t) : qr(t, "number" == typeof n ? [n, n, n, n] : n)
                }
                function n(t) {
                    return qr(t, e)
                }
                if (!arguments.length)
                    return u;
                var i;
                return h = null == (u = e) ? jr : "function" == (i = typeof e) ? t : "number" === i ? (e = [e, e, e, e],
                n) : n,
                o
            }
            ,
            o.round = function(e) {
                return arguments.length ? (l = e ? Math.round : Number,
                o) : l != Number
            }
            ,
            o.sticky = function(e) {
                return arguments.length ? (d = e,
                s = null,
                o) : d
            }
            ,
            o.ratio = function(e) {
                return arguments.length ? (g = e,
                o) : g
            }
            ,
            o.mode = function(e) {
                return arguments.length ? (f = e + "",
                o) : f
            }
            ,
            cr(o, a)
        }
        ,
        fs.random = {
            normal: function(e, t) {
                var n = arguments.length;
                return n < 2 && (t = 1),
                n < 1 && (e = 0),
                function() {
                    var n, i, r;
                    do {
                        n = 2 * Math.random() - 1,
                        i = 2 * Math.random() - 1,
                        r = n * n + i * i
                    } while (!r || r > 1);
                    return e + t * n * Math.sqrt(-2 * Math.log(r) / r)
                }
            },
            logNormal: function() {
                var e = fs.random.normal.apply(fs, arguments);
                return function() {
                    return Math.exp(e())
                }
            },
            bates: function(e) {
                var t = fs.random.irwinHall(e);
                return function() {
                    return t() / e
                }
            },
            irwinHall: function(e) {
                return function() {
                    for (var t = 0, n = 0; n < e; n++)
                        t += Math.random();
                    return t
                }
            }
        },
        fs.scale = {};
        var xl = {
            floor: F,
            ceil: F
        };
        fs.scale.linear = function() {
            return eo([0, 1], [0, 1], Ei, !1)
        }
        ;
        var Sl = {
            s: 1,
            g: 1,
            p: 1,
            r: 1,
            e: 1
        };
        fs.scale.log = function() {
            return lo(fs.scale.linear().domain([0, 1]), 10, !0, [1, 10])
        }
        ;
        var kl = fs.format(".0e")
          , $l = {
            floor: function(e) {
                return -Math.ceil(-e)
            },
            ceil: function(e) {
                return -Math.floor(-e)
            }
        };
        fs.scale.pow = function() {
            return co(fs.scale.linear(), 1, [0, 1])
        }
        ,
        fs.scale.sqrt = function() {
            return fs.scale.pow().exponent(.5)
        }
        ,
        fs.scale.ordinal = function() {
            return ho([], {
                t: "range",
                a: [[]]
            })
        }
        ,
        fs.scale.category10 = function() {
            return fs.scale.ordinal().range(Bl)
        }
        ,
        fs.scale.category20 = function() {
            return fs.scale.ordinal().range(Dl)
        }
        ,
        fs.scale.category20b = function() {
            return fs.scale.ordinal().range(Ml)
        }
        ,
        fs.scale.category20c = function() {
            return fs.scale.ordinal().range(Ll)
        }
        ;
        var Bl = [2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175].map(Ee)
          , Dl = [2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725].map(Ee)
          , Ml = [3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654].map(Ee)
          , Ll = [3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081].map(Ee);
        fs.scale.quantile = function() {
            return fo([], [])
        }
        ,
        fs.scale.quantize = function() {
            return go(0, 1, [0, 1])
        }
        ,
        fs.scale.threshold = function() {
            return po([.5], [0, 1])
        }
        ,
        fs.scale.identity = function() {
            return mo([0, 1])
        }
        ,
        fs.svg = {},
        fs.svg.arc = function() {
            function e() {
                var e = Math.max(0, +n.apply(this, arguments))
                  , c = Math.max(0, +i.apply(this, arguments))
                  , u = s.apply(this, arguments) - Ks
                  , h = a.apply(this, arguments) - Ks
                  , d = Math.abs(h - u)
                  , f = u > h ? 0 : 1;
                if (c < e && (g = c,
                c = e,
                e = g),
                d >= Us)
                    return t(c, f) + (e ? t(e, 1 - f) : "") + "Z";
                var g, p, m, v, A, w, C, y, b, F, E, x, S = 0, k = 0, $ = [];
                if ((v = (+l.apply(this, arguments) || 0) / 2) && (m = o === _l ? Math.sqrt(e * e + c * c) : +o.apply(this, arguments),
                f || (k *= -1),
                c && (k = se(m / c * Math.sin(v))),
                e && (S = se(m / e * Math.sin(v)))),
                c) {
                    A = c * Math.cos(u + k),
                    w = c * Math.sin(u + k),
                    C = c * Math.cos(h - k),
                    y = c * Math.sin(h - k);
                    var B = Math.abs(h - u - 2 * k) <= zs ? 0 : 1;
                    if (k && Fo(A, w, C, y) === f ^ B) {
                        var D = (u + h) / 2;
                        A = c * Math.cos(D),
                        w = c * Math.sin(D),
                        C = y = null
                    }
                } else
                    A = w = 0;
                if (e) {
                    b = e * Math.cos(h - S),
                    F = e * Math.sin(h - S),
                    E = e * Math.cos(u + S),
                    x = e * Math.sin(u + S);
                    var M = Math.abs(u - h + 2 * S) <= zs ? 0 : 1;
                    if (S && Fo(b, F, E, x) === 1 - f ^ M) {
                        var L = (u + h) / 2;
                        b = e * Math.cos(L),
                        F = e * Math.sin(L),
                        E = x = null
                    }
                } else
                    b = F = 0;
                if (d > Ps && (g = Math.min(Math.abs(c - e) / 2, +r.apply(this, arguments))) > .001) {
                    p = e < c ^ f ? 0 : 1;
                    var _ = g
                      , R = g;
                    if (d < zs) {
                        var T = null == E ? [b, F] : null == C ? [A, w] : Wn([A, w], [E, x], [C, y], [b, F])
                          , I = A - T[0]
                          , O = w - T[1]
                          , N = C - T[0]
                          , W = y - T[1]
                          , P = 1 / Math.sin(Math.acos((I * N + O * W) / (Math.sqrt(I * I + O * O) * Math.sqrt(N * N + W * W))) / 2)
                          , H = Math.sqrt(T[0] * T[0] + T[1] * T[1]);
                        R = Math.min(g, (e - H) / (P - 1)),
                        _ = Math.min(g, (c - H) / (P + 1))
                    }
                    if (null != C) {
                        var z = Eo(null == E ? [b, F] : [E, x], [A, w], c, _, f)
                          , V = Eo([C, y], [b, F], c, _, f);
                        g === _ ? $.push("M", z[0], "A", _, ",", _, " 0 0,", p, " ", z[1], "A", c, ",", c, " 0 ", 1 - f ^ Fo(z[1][0], z[1][1], V[1][0], V[1][1]), ",", f, " ", V[1], "A", _, ",", _, " 0 0,", p, " ", V[0]) : $.push("M", z[0], "A", _, ",", _, " 0 1,", p, " ", V[0])
                    } else
                        $.push("M", A, ",", w);
                    if (null != E) {
                        var U = Eo([A, w], [E, x], e, -R, f)
                          , K = Eo([b, F], null == C ? [A, w] : [C, y], e, -R, f);
                        g === R ? $.push("L", K[0], "A", R, ",", R, " 0 0,", p, " ", K[1], "A", e, ",", e, " 0 ", f ^ Fo(K[1][0], K[1][1], U[1][0], U[1][1]), ",", 1 - f, " ", U[1], "A", R, ",", R, " 0 0,", p, " ", U[0]) : $.push("L", K[0], "A", R, ",", R, " 0 0,", p, " ", U[0])
                    } else
                        $.push("L", b, ",", F)
                } else
                    $.push("M", A, ",", w),
                    null != C && $.push("A", c, ",", c, " 0 ", B, ",", f, " ", C, ",", y),
                    $.push("L", b, ",", F),
                    null != E && $.push("A", e, ",", e, " 0 ", M, ",", 1 - f, " ", E, ",", x);
                return $.push("Z"),
                $.join("")
            }
            function t(e, t) {
                return "M0," + e + "A" + e + "," + e + " 0 1," + t + " 0," + -e + "A" + e + "," + e + " 0 1," + t + " 0," + e
            }
            var n = Ao
              , i = wo
              , r = vo
              , o = _l
              , s = Co
              , a = yo
              , l = bo;
            return e.innerRadius = function(t) {
                return arguments.length ? (n = Me(t),
                e) : n
            }
            ,
            e.outerRadius = function(t) {
                return arguments.length ? (i = Me(t),
                e) : i
            }
            ,
            e.cornerRadius = function(t) {
                return arguments.length ? (r = Me(t),
                e) : r
            }
            ,
            e.padRadius = function(t) {
                return arguments.length ? (o = t == _l ? _l : Me(t),
                e) : o
            }
            ,
            e.startAngle = function(t) {
                return arguments.length ? (s = Me(t),
                e) : s
            }
            ,
            e.endAngle = function(t) {
                return arguments.length ? (a = Me(t),
                e) : a
            }
            ,
            e.padAngle = function(t) {
                return arguments.length ? (l = Me(t),
                e) : l
            }
            ,
            e.centroid = function() {
                var e = (+n.apply(this, arguments) + +i.apply(this, arguments)) / 2
                  , t = (+s.apply(this, arguments) + +a.apply(this, arguments)) / 2 - Ks;
                return [Math.cos(t) * e, Math.sin(t) * e]
            }
            ,
            e
        }
        ;
        var _l = "auto";
        fs.svg.line = function() {
            return xo(F)
        }
        ;
        var Rl = fs.map({
            linear: So,
            "linear-closed": ko,
            step: $o,
            "step-before": Bo,
            "step-after": Do,
            basis: Io,
            "basis-open": Oo,
            "basis-closed": No,
            bundle: Wo,
            cardinal: _o,
            "cardinal-open": Mo,
            "cardinal-closed": Lo,
            monotone: Ko
        });
        Rl.forEach(function(e, t) {
            t.key = e,
            t.closed = /-closed$/.test(e)
        });
        var Tl = [0, 2 / 3, 1 / 3, 0]
          , Il = [0, 1 / 3, 2 / 3, 0]
          , Ol = [0, 1 / 6, 2 / 3, 1 / 6];
        fs.svg.line.radial = function() {
            var e = xo(jo);
            return e.radius = e.x,
            delete e.x,
            e.angle = e.y,
            delete e.y,
            e
        }
        ,
        Bo.reverse = Do,
        Do.reverse = Bo,
        fs.svg.area = function() {
            return qo(F)
        }
        ,
        fs.svg.area.radial = function() {
            var e = qo(jo);
            return e.radius = e.x,
            delete e.x,
            e.innerRadius = e.x0,
            delete e.x0,
            e.outerRadius = e.x1,
            delete e.x1,
            e.angle = e.y,
            delete e.y,
            e.startAngle = e.y0,
            delete e.y0,
            e.endAngle = e.y1,
            delete e.y1,
            e
        }
        ,
        fs.svg.chord = function() {
            function e(e, a) {
                var l = t(this, o, e, a)
                  , c = t(this, s, e, a);
                return "M" + l.p0 + i(l.r, l.p1, l.a1 - l.a0) + (n(l, c) ? r(l.r, l.p1, l.r, l.p0) : r(l.r, l.p1, c.r, c.p0) + i(c.r, c.p1, c.a1 - c.a0) + r(c.r, c.p1, l.r, l.p0)) + "Z"
            }
            function t(e, t, n, i) {
                var r = t.call(e, n, i)
                  , o = a.call(e, r, i)
                  , s = l.call(e, r, i) - Ks
                  , u = c.call(e, r, i) - Ks;
                return {
                    r: o,
                    a0: s,
                    a1: u,
                    p0: [o * Math.cos(s), o * Math.sin(s)],
                    p1: [o * Math.cos(u), o * Math.sin(u)]
                }
            }
            function n(e, t) {
                return e.a0 == t.a0 && e.a1 == t.a1
            }
            function i(e, t, n) {
                return "A" + e + "," + e + " 0 " + +(n > zs) + ",1 " + t
            }
            function r(e, t, n, i) {
                return "Q 0,0 " + i
            }
            var o = En
              , s = xn
              , a = Go
              , l = Co
              , c = yo;
            return e.radius = function(t) {
                return arguments.length ? (a = Me(t),
                e) : a
            }
            ,
            e.source = function(t) {
                return arguments.length ? (o = Me(t),
                e) : o
            }
            ,
            e.target = function(t) {
                return arguments.length ? (s = Me(t),
                e) : s
            }
            ,
            e.startAngle = function(t) {
                return arguments.length ? (l = Me(t),
                e) : l
            }
            ,
            e.endAngle = function(t) {
                return arguments.length ? (c = Me(t),
                e) : c
            }
            ,
            e
        }
        ,
        fs.svg.diagonal = function() {
            function e(e, r) {
                var o = t.call(this, e, r)
                  , s = n.call(this, e, r)
                  , a = (o.y + s.y) / 2
                  , l = [o, {
                    x: o.x,
                    y: a
                }, {
                    x: s.x,
                    y: a
                }, s];
                return l = l.map(i),
                "M" + l[0] + "C" + l[1] + " " + l[2] + " " + l[3]
            }
            var t = En
              , n = xn
              , i = Yo;
            return e.source = function(n) {
                return arguments.length ? (t = Me(n),
                e) : t
            }
            ,
            e.target = function(t) {
                return arguments.length ? (n = Me(t),
                e) : n
            }
            ,
            e.projection = function(t) {
                return arguments.length ? (i = t,
                e) : i
            }
            ,
            e
        }
        ,
        fs.svg.diagonal.radial = function() {
            var e = fs.svg.diagonal()
              , t = Yo
              , n = e.projection;
            return e.projection = function(e) {
                return arguments.length ? n(Xo(t = e)) : t
            }
            ,
            e
        }
        ,
        fs.svg.symbol = function() {
            function e(e, i) {
                return (Nl.get(t.call(this, e, i)) || Jo)(n.call(this, e, i))
            }
            var t = Zo
              , n = Qo;
            return e.type = function(n) {
                return arguments.length ? (t = Me(n),
                e) : t
            }
            ,
            e.size = function(t) {
                return arguments.length ? (n = Me(t),
                e) : n
            }
            ,
            e
        }
        ;
        var Nl = fs.map({
            circle: Jo,
            cross: function(e) {
                var t = Math.sqrt(e / 5) / 2;
                return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z"
            },
            diamond: function(e) {
                var t = Math.sqrt(e / (2 * Pl))
                  , n = t * Pl;
                return "M0," + -t + "L" + n + ",0 0," + t + " " + -n + ",0Z"
            },
            square: function(e) {
                var t = Math.sqrt(e) / 2;
                return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z"
            },
            "triangle-down": function(e) {
                var t = Math.sqrt(e / Wl)
                  , n = t * Wl / 2;
                return "M0," + n + "L" + t + "," + -n + " " + -t + "," + -n + "Z"
            },
            "triangle-up": function(e) {
                var t = Math.sqrt(e / Wl)
                  , n = t * Wl / 2;
                return "M0," + -n + "L" + t + "," + n + " " + -t + "," + n + "Z"
            }
        });
        fs.svg.symbolTypes = Nl.keys();
        var Wl = Math.sqrt(3)
          , Pl = Math.tan(30 * js);
        Ls.transition = function(e) {
            for (var t, n, i = Hl || ++Kl, r = rs(e), o = [], s = zl || {
                time: Date.now(),
                ease: Mi,
                delay: 0,
                duration: 250
            }, a = -1, l = this.length; ++a < l; ) {
                o.push(t = []);
                for (var c = this[a], u = -1, h = c.length; ++u < h; )
                    (n = c[u]) && os(n, u, r, i, s),
                    t.push(n)
            }
            return ts(o, r, i)
        }
        ,
        Ls.interrupt = function(e) {
            return this.each(null == e ? Vl : es(rs(e)))
        }
        ;
        var Hl, zl, Vl = es(rs()), Ul = [], Kl = 0;
        Ul.call = Ls.call,
        Ul.empty = Ls.empty,
        Ul.node = Ls.node,
        Ul.size = Ls.size,
        fs.transition = function(e, t) {
            return e && e.transition ? Hl ? e.transition(t) : e : fs.selection().transition(e)
        }
        ,
        fs.transition.prototype = Ul,
        Ul.select = function(e) {
            var t, n, i, r = this.id, o = this.namespace, s = [];
            e = _(e);
            for (var a = -1, l = this.length; ++a < l; ) {
                s.push(t = []);
                for (var c = this[a], u = -1, h = c.length; ++u < h; )
                    (i = c[u]) && (n = e.call(i, i.__data__, u, a)) ? ("__data__"in i && (n.__data__ = i.__data__),
                    os(n, u, o, r, i[o][r]),
                    t.push(n)) : t.push(null)
            }
            return ts(s, o, r)
        }
        ,
        Ul.selectAll = function(e) {
            var t, n, i, r, o, s = this.id, a = this.namespace, l = [];
            e = R(e);
            for (var c = -1, u = this.length; ++c < u; )
                for (var h = this[c], d = -1, f = h.length; ++d < f; )
                    if (i = h[d]) {
                        o = i[a][s],
                        n = e.call(i, i.__data__, d, c),
                        l.push(t = []);
                        for (var g = -1, p = n.length; ++g < p; )
                            (r = n[g]) && os(r, g, a, s, o),
                            t.push(r)
                    }
            return ts(l, a, s)
        }
        ,
        Ul.filter = function(e) {
            var t, n, i, r = [];
            "function" != typeof e && (e = j(e));
            for (var o = 0, s = this.length; o < s; o++) {
                r.push(t = []);
                for (var n = this[o], a = 0, l = n.length; a < l; a++)
                    (i = n[a]) && e.call(i, i.__data__, a, o) && t.push(i)
            }
            return ts(r, this.namespace, this.id)
        }
        ,
        Ul.tween = function(e, t) {
            var n = this.id
              , i = this.namespace;
            return arguments.length < 2 ? this.node()[i][n].tween.get(e) : G(this, null == t ? function(t) {
                t[i][n].tween.remove(e)
            }
            : function(r) {
                r[i][n].tween.set(e, t)
            }
            )
        }
        ,
        Ul.attr = function(e, t) {
            function n() {
                this.removeAttribute(a)
            }
            function i() {
                this.removeAttributeNS(a.space, a.local)
            }
            function r(e) {
                return null == e ? n : (e += "",
                function() {
                    var t, n = this.getAttribute(a);
                    return n !== e && (t = s(n, e),
                    function(e) {
                        this.setAttribute(a, t(e))
                    }
                    )
                }
                )
            }
            function o(e) {
                return null == e ? i : (e += "",
                function() {
                    var t, n = this.getAttributeNS(a.space, a.local);
                    return n !== e && (t = s(n, e),
                    function(e) {
                        this.setAttributeNS(a.space, a.local, t(e))
                    }
                    )
                }
                )
            }
            if (arguments.length < 2) {
                for (t in e)
                    this.attr(t, e[t]);
                return this
            }
            var s = "transform" == e ? Zi : Ei
              , a = fs.ns.qualify(e);
            return ns(this, "attr." + e, t, a.local ? o : r)
        }
        ,
        Ul.attrTween = function(e, t) {
            function n(e, n) {
                var i = t.call(this, e, n, this.getAttribute(r));
                return i && function(e) {
                    this.setAttribute(r, i(e))
                }
            }
            function i(e, n) {
                var i = t.call(this, e, n, this.getAttributeNS(r.space, r.local));
                return i && function(e) {
                    this.setAttributeNS(r.space, r.local, i(e))
                }
            }
            var r = fs.ns.qualify(e);
            return this.tween("attr." + e, r.local ? i : n)
        }
        ,
        Ul.style = function(e, t, n) {
            function i() {
                this.style.removeProperty(e)
            }
            function r(t) {
                return null == t ? i : (t += "",
                function() {
                    var i, r = s(this).getComputedStyle(this, null).getPropertyValue(e);
                    return r !== t && (i = Ei(r, t),
                    function(t) {
                        this.style.setProperty(e, i(t), n)
                    }
                    )
                }
                )
            }
            var o = arguments.length;
            if (o < 3) {
                if ("string" != typeof e) {
                    o < 2 && (t = "");
                    for (n in e)
                        this.style(n, e[n], t);
                    return this
                }
                n = ""
            }
            return ns(this, "style." + e, t, r)
        }
        ,
        Ul.styleTween = function(e, t, n) {
            function i(i, r) {
                var o = t.call(this, i, r, s(this).getComputedStyle(this, null).getPropertyValue(e));
                return o && function(t) {
                    this.style.setProperty(e, o(t), n)
                }
            }
            return arguments.length < 3 && (n = ""),
            this.tween("style." + e, i)
        }
        ,
        Ul.text = function(e) {
            return ns(this, "text", e, is)
        }
        ,
        Ul.remove = function() {
            var e = this.namespace;
            return this.each("end.transition", function() {
                var t;
                this[e].count < 2 && (t = this.parentNode) && t.removeChild(this)
            })
        }
        ,
        Ul.ease = function(e) {
            var t = this.id
              , n = this.namespace;
            return arguments.length < 1 ? this.node()[n][t].ease : ("function" != typeof e && (e = fs.ease.apply(fs, arguments)),
            G(this, function(i) {
                i[n][t].ease = e
            }))
        }
        ,
        Ul.delay = function(e) {
            var t = this.id
              , n = this.namespace;
            return arguments.length < 1 ? this.node()[n][t].delay : G(this, "function" == typeof e ? function(i, r, o) {
                i[n][t].delay = +e.call(i, i.__data__, r, o)
            }
            : (e = +e,
            function(i) {
                i[n][t].delay = e
            }
            ))
        }
        ,
        Ul.duration = function(e) {
            var t = this.id
              , n = this.namespace;
            return arguments.length < 1 ? this.node()[n][t].duration : G(this, "function" == typeof e ? function(i, r, o) {
                i[n][t].duration = Math.max(1, e.call(i, i.__data__, r, o))
            }
            : (e = Math.max(1, e),
            function(i) {
                i[n][t].duration = e
            }
            ))
        }
        ,
        Ul.each = function(e, t) {
            var n = this.id
              , i = this.namespace;
            if (arguments.length < 2) {
                var r = zl
                  , o = Hl;
                try {
                    Hl = n,
                    G(this, function(t, r, o) {
                        zl = t[i][n],
                        e.call(t, t.__data__, r, o)
                    })
                } finally {
                    zl = r,
                    Hl = o
                }
            } else
                G(this, function(r) {
                    var o = r[i][n];
                    (o.event || (o.event = fs.dispatch("start", "end", "interrupt"))).on(e, t)
                });
            return this
        }
        ,
        Ul.transition = function() {
            for (var e, t, n, i, r = this.id, o = ++Kl, s = this.namespace, a = [], l = 0, c = this.length; l < c; l++) {
                a.push(e = []);
                for (var t = this[l], u = 0, h = t.length; u < h; u++)
                    (n = t[u]) && (i = n[s][r],
                    os(n, u, s, o, {
                        time: i.time,
                        ease: i.ease,
                        delay: i.delay + i.duration,
                        duration: i.duration
                    })),
                    e.push(n)
            }
            return ts(a, s, o)
        }
        ,
        fs.svg.axis = function() {
            function e(e) {
                e.each(function() {
                    var e, c = fs.select(this), u = this.__chart__ || n, h = this.__chart__ = n.copy(), d = null == l ? h.ticks ? h.ticks.apply(h, a) : h.domain() : l, f = null == t ? h.tickFormat ? h.tickFormat.apply(h, a) : F : t, g = c.selectAll(".tick").data(d, h), p = g.enter().insert("g", ".domain").attr("class", "tick").style("opacity", Ps), m = fs.transition(g.exit()).style("opacity", Ps).remove(), v = fs.transition(g.order()).style("opacity", 1), A = Math.max(r, 0) + s, w = Yr(h), C = c.selectAll(".domain").data([0]), y = (C.enter().append("path").attr("class", "domain"),
                    fs.transition(C));
                    p.append("line"),
                    p.append("text");
                    var b, E, x, S, k = p.select("line"), $ = v.select("line"), B = g.select("text").text(f), D = p.select("text"), M = v.select("text"), L = "top" === i || "left" === i ? -1 : 1;
                    if ("bottom" === i || "top" === i ? (e = ss,
                    b = "x",
                    x = "y",
                    E = "x2",
                    S = "y2",
                    B.attr("dy", L < 0 ? "0em" : ".71em").style("text-anchor", "middle"),
                    y.attr("d", "M" + w[0] + "," + L * o + "V0H" + w[1] + "V" + L * o)) : (e = as,
                    b = "y",
                    x = "x",
                    E = "y2",
                    S = "x2",
                    B.attr("dy", ".32em").style("text-anchor", L < 0 ? "end" : "start"),
                    y.attr("d", "M" + L * o + "," + w[0] + "H0V" + w[1] + "H" + L * o)),
                    k.attr(S, L * r),
                    D.attr(x, L * A),
                    $.attr(E, 0).attr(S, L * r),
                    M.attr(b, 0).attr(x, L * A),
                    h.rangeBand) {
                        var _ = h
                          , R = _.rangeBand() / 2;
                        u = h = function(e) {
                            return _(e) + R
                        }
                    } else
                        u.rangeBand ? u = h : m.call(e, h, u);
                    p.call(e, u, h),
                    v.call(e, h, h)
                })
            }
            var t, n = fs.scale.linear(), i = jl, r = 6, o = 6, s = 3, a = [10], l = null;
            return e.scale = function(t) {
                return arguments.length ? (n = t,
                e) : n
            }
            ,
            e.orient = function(t) {
                return arguments.length ? (i = t in ql ? t + "" : jl,
                e) : i
            }
            ,
            e.ticks = function() {
                return arguments.length ? (a = ps(arguments),
                e) : a
            }
            ,
            e.tickValues = function(t) {
                return arguments.length ? (l = t,
                e) : l
            }
            ,
            e.tickFormat = function(n) {
                return arguments.length ? (t = n,
                e) : t
            }
            ,
            e.tickSize = function(t) {
                var n = arguments.length;
                return n ? (r = +t,
                o = +arguments[n - 1],
                e) : r
            }
            ,
            e.innerTickSize = function(t) {
                return arguments.length ? (r = +t,
                e) : r
            }
            ,
            e.outerTickSize = function(t) {
                return arguments.length ? (o = +t,
                e) : o
            }
            ,
            e.tickPadding = function(t) {
                return arguments.length ? (s = +t,
                e) : s
            }
            ,
            e.tickSubdivide = function() {
                return arguments.length && e
            }
            ,
            e
        }
        ;
        var jl = "bottom"
          , ql = {
            top: 1,
            right: 1,
            bottom: 1,
            left: 1
        };
        fs.svg.brush = function() {
            function e(o) {
                o.each(function() {
                    var o = fs.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", r).on("touchstart.brush", r)
                      , s = o.selectAll(".background").data([0]);
                    s.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"),
                    o.selectAll(".extent").data([0]).enter().append("rect").attr("class", "extent").style("cursor", "move");
                    var a = o.selectAll(".resize").data(p, F);
                    a.exit().remove(),
                    a.enter().append("g").attr("class", function(e) {
                        return "resize " + e
                    }).style("cursor", function(e) {
                        return Gl[e]
                    }).append("rect").attr("x", function(e) {
                        return /[ew]$/.test(e) ? -3 : null
                    }).attr("y", function(e) {
                        return /^[ns]/.test(e) ? -3 : null
                    }).attr("width", 6).attr("height", 6).style("visibility", "hidden"),
                    a.style("display", e.empty() ? "none" : null);
                    var l, h = fs.transition(o), d = fs.transition(s);
                    c && (l = Yr(c),
                    d.attr("x", l[0]).attr("width", l[1] - l[0]),
                    n(h)),
                    u && (l = Yr(u),
                    d.attr("y", l[0]).attr("height", l[1] - l[0]),
                    i(h)),
                    t(h)
                })
            }
            function t(e) {
                e.selectAll(".resize").attr("transform", function(e) {
                    return "translate(" + h[+/e$/.test(e)] + "," + d[+/^s/.test(e)] + ")"
                })
            }
            function n(e) {
                e.select(".extent").attr("x", h[0]),
                e.selectAll(".extent,.n>rect,.s>rect").attr("width", h[1] - h[0])
            }
            function i(e) {
                e.select(".extent").attr("y", d[0]),
                e.selectAll(".extent,.e>rect,.w>rect").attr("height", d[1] - d[0])
            }
            function r() {
                function r() {
                    32 == fs.event.keyCode && ($ || (w = null,
                    M[0] -= h[1],
                    M[1] -= d[1],
                    $ = 2),
                    B())
                }
                function p() {
                    32 == fs.event.keyCode && 2 == $ && (M[0] += h[1],
                    M[1] += d[1],
                    $ = 0,
                    B())
                }
                function m() {
                    var e = fs.mouse(y)
                      , r = !1;
                    C && (e[0] += C[0],
                    e[1] += C[1]),
                    $ || (fs.event.altKey ? (w || (w = [(h[0] + h[1]) / 2, (d[0] + d[1]) / 2]),
                    M[0] = h[+(e[0] < w[0])],
                    M[1] = d[+(e[1] < w[1])]) : w = null),
                    S && v(e, c, 0) && (n(E),
                    r = !0),
                    k && v(e, u, 1) && (i(E),
                    r = !0),
                    r && (t(E),
                    F({
                        type: "brush",
                        mode: $ ? "move" : "resize"
                    }))
                }
                function v(e, t, n) {
                    var i, r, s = Yr(t), l = s[0], c = s[1], u = M[n], p = n ? d : h, m = p[1] - p[0];
                    if ($ && (l -= u,
                    c -= m + u),
                    i = (n ? g : f) ? Math.max(l, Math.min(c, e[n])) : e[n],
                    $ ? r = (i += u) + m : (w && (u = Math.max(l, Math.min(c, 2 * w[n] - i))),
                    u < i ? (r = i,
                    i = u) : r = u),
                    p[0] != i || p[1] != r)
                        return n ? a = null : o = null,
                        p[0] = i,
                        p[1] = r,
                        !0
                }
                function A() {
                    m(),
                    E.style("pointer-events", "all").selectAll(".resize").style("display", e.empty() ? "none" : null),
                    fs.select("body").style("cursor", null),
                    L.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null),
                    D(),
                    F({
                        type: "brushend"
                    })
                }
                var w, C, y = this, b = fs.select(fs.event.target), F = l.of(y, arguments), E = fs.select(y), x = b.datum(), S = !/^(n|s)$/.test(x) && c, k = !/^(e|w)$/.test(x) && u, $ = b.classed("extent"), D = ee(y), M = fs.mouse(y), L = fs.select(s(y)).on("keydown.brush", r).on("keyup.brush", p);
                if (fs.event.changedTouches ? L.on("touchmove.brush", m).on("touchend.brush", A) : L.on("mousemove.brush", m).on("mouseup.brush", A),
                E.interrupt().selectAll("*").interrupt(),
                $)
                    M[0] = h[0] - M[0],
                    M[1] = d[0] - M[1];
                else if (x) {
                    var _ = +/w$/.test(x)
                      , R = +/^n/.test(x);
                    C = [h[1 - _] - M[0], d[1 - R] - M[1]],
                    M[0] = h[_],
                    M[1] = d[R]
                } else
                    fs.event.altKey && (w = M.slice());
                E.style("pointer-events", "none").selectAll(".resize").style("display", null),
                fs.select("body").style("cursor", b.style("cursor")),
                F({
                    type: "brushstart"
                }),
                m()
            }
            var o, a, l = M(e, "brushstart", "brush", "brushend"), c = null, u = null, h = [0, 0], d = [0, 0], f = !0, g = !0, p = Yl[0];
            return e.event = function(e) {
                e.each(function() {
                    var e = l.of(this, arguments)
                      , t = {
                        x: h,
                        y: d,
                        i: o,
                        j: a
                    }
                      , n = this.__chart__ || t;
                    this.__chart__ = t,
                    Hl ? fs.select(this).transition().each("start.brush", function() {
                        o = n.i,
                        a = n.j,
                        h = n.x,
                        d = n.y,
                        e({
                            type: "brushstart"
                        })
                    }).tween("brush:brush", function() {
                        var n = xi(h, t.x)
                          , i = xi(d, t.y);
                        return o = a = null,
                        function(r) {
                            h = t.x = n(r),
                            d = t.y = i(r),
                            e({
                                type: "brush",
                                mode: "resize"
                            })
                        }
                    }).each("end.brush", function() {
                        o = t.i,
                        a = t.j,
                        e({
                            type: "brush",
                            mode: "resize"
                        }),
                        e({
                            type: "brushend"
                        })
                    }) : (e({
                        type: "brushstart"
                    }),
                    e({
                        type: "brush",
                        mode: "resize"
                    }),
                    e({
                        type: "brushend"
                    }))
                })
            }
            ,
            e.x = function(t) {
                return arguments.length ? (c = t,
                p = Yl[!c << 1 | !u],
                e) : c
            }
            ,
            e.y = function(t) {
                return arguments.length ? (u = t,
                p = Yl[!c << 1 | !u],
                e) : u
            }
            ,
            e.clamp = function(t) {
                return arguments.length ? (c && u ? (f = !!t[0],
                g = !!t[1]) : c ? f = !!t : u && (g = !!t),
                e) : c && u ? [f, g] : c ? f : u ? g : null
            }
            ,
            e.extent = function(t) {
                var n, i, r, s, l;
                return arguments.length ? (c && (n = t[0],
                i = t[1],
                u && (n = n[0],
                i = i[0]),
                o = [n, i],
                c.invert && (n = c(n),
                i = c(i)),
                i < n && (l = n,
                n = i,
                i = l),
                n == h[0] && i == h[1] || (h = [n, i])),
                u && (r = t[0],
                s = t[1],
                c && (r = r[1],
                s = s[1]),
                a = [r, s],
                u.invert && (r = u(r),
                s = u(s)),
                s < r && (l = r,
                r = s,
                s = l),
                r == d[0] && s == d[1] || (d = [r, s])),
                e) : (c && (o ? (n = o[0],
                i = o[1]) : (n = h[0],
                i = h[1],
                c.invert && (n = c.invert(n),
                i = c.invert(i)),
                i < n && (l = n,
                n = i,
                i = l))),
                u && (a ? (r = a[0],
                s = a[1]) : (r = d[0],
                s = d[1],
                u.invert && (r = u.invert(r),
                s = u.invert(s)),
                s < r && (l = r,
                r = s,
                s = l))),
                c && u ? [[n, r], [i, s]] : c ? [n, i] : u && [r, s])
            }
            ,
            e.clear = function() {
                return e.empty() || (h = [0, 0],
                d = [0, 0],
                o = a = null),
                e
            }
            ,
            e.empty = function() {
                return !!c && h[0] == h[1] || !!u && d[0] == d[1]
            }
            ,
            fs.rebind(e, l, "on")
        }
        ;
        var Gl = {
            n: "ns-resize",
            e: "ew-resize",
            s: "ns-resize",
            w: "ew-resize",
            nw: "nwse-resize",
            ne: "nesw-resize",
            se: "nwse-resize",
            sw: "nesw-resize"
        }
          , Yl = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []]
          , Xl = pa.format = ya.timeFormat
          , Ql = Xl.utc
          , Zl = Ql("%Y-%m-%dT%H:%M:%S.%LZ");
        Xl.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? ls : Zl,
        ls.parse = function(e) {
            var t = new Date(e);
            return isNaN(t) ? null : t
        }
        ,
        ls.toString = Zl.toString,
        pa.second = Ke(function(e) {
            return new ma(1e3 * Math.floor(e / 1e3))
        }, function(e, t) {
            e.setTime(e.getTime() + 1e3 * Math.floor(t))
        }, function(e) {
            return e.getSeconds()
        }),
        pa.seconds = pa.second.range,
        pa.seconds.utc = pa.second.utc.range,
        pa.minute = Ke(function(e) {
            return new ma(6e4 * Math.floor(e / 6e4))
        }, function(e, t) {
            e.setTime(e.getTime() + 6e4 * Math.floor(t))
        }, function(e) {
            return e.getMinutes()
        }),
        pa.minutes = pa.minute.range,
        pa.minutes.utc = pa.minute.utc.range,
        pa.hour = Ke(function(e) {
            var t = e.getTimezoneOffset() / 60;
            return new ma(36e5 * (Math.floor(e / 36e5 - t) + t))
        }, function(e, t) {
            e.setTime(e.getTime() + 36e5 * Math.floor(t))
        }, function(e) {
            return e.getHours()
        }),
        pa.hours = pa.hour.range,
        pa.hours.utc = pa.hour.utc.range,
        pa.month = Ke(function(e) {
            return e = pa.day(e),
            e.setDate(1),
            e
        }, function(e, t) {
            e.setMonth(e.getMonth() + t)
        }, function(e) {
            return e.getMonth()
        }),
        pa.months = pa.month.range,
        pa.months.utc = pa.month.utc.range;
        var Jl = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6]
          , ec = [[pa.second, 1], [pa.second, 5], [pa.second, 15], [pa.second, 30], [pa.minute, 1], [pa.minute, 5], [pa.minute, 15], [pa.minute, 30], [pa.hour, 1], [pa.hour, 3], [pa.hour, 6], [pa.hour, 12], [pa.day, 1], [pa.day, 2], [pa.week, 1], [pa.month, 1], [pa.month, 3], [pa.year, 1]]
          , tc = Xl.multi([[".%L", function(e) {
            return e.getMilliseconds()
        }
        ], [":%S", function(e) {
            return e.getSeconds()
        }
        ], ["%I:%M", function(e) {
            return e.getMinutes()
        }
        ], ["%I %p", function(e) {
            return e.getHours()
        }
        ], ["%a %d", function(e) {
            return e.getDay() && 1 != e.getDate()
        }
        ], ["%b %d", function(e) {
            return 1 != e.getDate()
        }
        ], ["%B", function(e) {
            return e.getMonth()
        }
        ], ["%Y", Rt]])
          , nc = {
            range: function(e, t, n) {
                return fs.range(Math.ceil(e / n) * n, +t, n).map(us)
            },
            floor: F,
            ceil: F
        };
        ec.year = pa.year,
        pa.scale = function() {
            return cs(fs.scale.linear(), ec, tc)
        }
        ;
        var ic = ec.map(function(e) {
            return [e[0].utc, e[1]]
        })
          , rc = Ql.multi([[".%L", function(e) {
            return e.getUTCMilliseconds()
        }
        ], [":%S", function(e) {
            return e.getUTCSeconds()
        }
        ], ["%I:%M", function(e) {
            return e.getUTCMinutes()
        }
        ], ["%I %p", function(e) {
            return e.getUTCHours()
        }
        ], ["%a %d", function(e) {
            return e.getUTCDay() && 1 != e.getUTCDate()
        }
        ], ["%b %d", function(e) {
            return 1 != e.getUTCDate()
        }
        ], ["%B", function(e) {
            return e.getUTCMonth()
        }
        ], ["%Y", Rt]]);
        ic.year = pa.year.utc,
        pa.scale.utc = function() {
            return cs(fs.scale.linear(), ic, rc)
        }
        ,
        fs.text = Le(function(e) {
            return e.responseText
        }),
        fs.json = function(e, t) {
            return _e(e, "application/json", hs, t)
        }
        ,
        fs.html = function(e, t) {
            return _e(e, "text/html", ds, t)
        }
        ,
        fs.xml = Le(function(e) {
            return e.responseXML
        }),
        this.d3 = fs,
        i = fs,
        void 0 !== (r = "function" == typeof i ? i.call(t, n, t, e) : i) && (e.exports = r)
    }()
}
, function(e, t, n) {
    function i(e, t) {
        var n = h.edit("editor-" + e);
        return n.$blockScrolling = 1 / 0,
        n.setTheme("ace/theme/monokai"),
        n.getSession().setMode("ace/mode/pddl"),
        n.getSession().setValue(t),
        n.setShowPrintMargin(!1),
        n.setBehavioursEnabled(!0),
        n.setOptions({
            enableBasicAutocompletion: !0,
            enableSnippets: !0,
            enableLiveAutocompletion: !1
        }),
        n.commands.addCommands([{
            name: "save-local",
            bindKey: {
                win: "Ctrl-S",
                mac: "Command-S"
            },
            exec: function(t) {
                f.value = "",
                d = t,
                document.getElementById("modal-title-save-local").innerHTML = "Save " + e + " file",
                g.modal("show")
            }
        }, {
            name: "open-local",
            bindKey: {
                win: "Ctrl-O",
                mac: "Command-O"
            },
            exec: function(t) {
                d = t,
                document.getElementById("modal-title-open-local").innerHTML = "Open " + e + " file",
                p.modal("show")
            }
        }]),
        n
    }
    function r(e, t) {
        var n = document.createElement("a");
        n.setAttribute("href", "data:text/plain;charset=utf-8," + encodeURIComponent(t)),
        n.setAttribute("download", e),
        n.style.display = "none",
        document.body.appendChild(n),
        n.click(),
        document.body.removeChild(n)
    }
    function o(e) {
        var t = Date();
        e.error ? t += "\nResult: ERROR\n" + e.error + "\n" : e.output ? t += "\n" + e.output : (t += "\nResult: " + (e.plan ? "SUCCESS" : "FAILURE"),
        t += "\nDomain: " + e.domain + "\nProblem: " + e.problem,
        e.plan && (t += "\nPlan:\n  " + e.plan.join("\n  ")),
        t += "\nExecution time: " + e.time.toFixed(4) + "s\n"),
        F.innerHTML += t + "\n",
        F.scrollTop = F.scrollHeight
    }
    function s() {
        F.innerHTML = ["Cite our paper if this tool was useful for your work:\n", "@inproceedings{magnaguagno2017web,", "  title={WEB PLANNER: A Tool to Develop Classical Planning Domains and Visualize Heuristic State-Space Search},", "  author={Magnaguagno, Maur{\\'i}cio C and Pereira, Ramon Fraga and M{\\'o}re, Martin D and Meneguzzi, Felipe},", "  booktitle={Proceedings of the Workshop on User Interfaces and Scheduling and Planning, UISP},", "  pages={32--38},", "  year={2017}\n}\n\n"].join("\n"),
        F.scrollTop = F.scrollHeight
    }
    function a(e, t) {
        E.selectAll("g").remove(),
        x = E.append("g"),
        L.scale(1),
        L.translate([e, t])
    }
    function l(e) {
        a(0, 0),
        x.append("text").attr("x", "50%").attr("y", "50%").attr("text-anchor", "middle").attr("font-size", "35px").attr("fill", "#CCC").text(e)
    }
    function c(e, t, n) {
        if (e.predicates) {
            var i = M.width()
              , r = M.height();
            a(i / 2, r / 2),
            B.init(i, r, L),
            B.load(e, x),
            S = n.responseText
        } else
            l(e.error),
            S = null
    }
    function u(e, t, n, i) {
        var r = e.innerHTML;
        e.disabled = !0,
        e.innerHTML = "Loading...",
        $.ajax({
            type: "POST",
            timeout: 3e4,
            url: t,
            data: n,
            success: i,
            error: function() {
                alert("Error during request")
            },
            complete: function() {
                e.disabled = !1,
                e.innerHTML = r
            }
        })
    }
    var h = n(3);
    n(4),
    window.ace.acequire("ace/lib/dom").importCssString(".ace_search_field{color: black}"),
    n(5),
    langTools = h.acequire("ace/ext/language_tools"),
    snippetManager = h.acequire("ace/snippets").snippetManager,
    h.config.loadModule("ace/snippets/pddl", function(e) {
        e && (snippetManager.files.pddl = e,
        e.snippets = snippetManager.parseSnippetFile(e.snippetText),
        snippetManager.register(e.snippets, e.scope))
    }),
    n(6),
    n(7);
    var d, f = document.getElementById("input-file-name"), g = $("#modal-save-local"), p = $("#modal-open-local"), m = i("domain", ["; Domain description", "; Describe the relations and transitions that can occur", "; This one describes the Tower of Hanoi puzzle", "(define (domain hanoi) ; Domain name must match problem's\n", "  ; Define what the planner must support to execute this domain", "  ; Only domain requirements are currently supported", "  (:requirements", "    :strips                 ; basic preconditions and effects", "    :negative-preconditions ; to use not in preconditions", "    :equality               ; to use = in preconditions", "    ; :typing               ; to define type of objects and parameters", "  )\n", "  ; Define the relations", "  ; Question mark prefix denotes free variables", "  (:predicates", "    (clear ?x)      ; An object ?x is clear", "    (on ?x ?y)      ; An object ?x is on object ?y", "    (smaller ?x ?y) ; An object ?x is smaller than object ?y", "  )\n", "  ; Define a transition to move a disc from one place to another", "  (:action move", "    :parameters (?disc ?from ?to)", "    ; Only conjunction or atomic preconditions are supported", "    :precondition (and", "      (smaller ?disc ?to)", "      (smaller ?disc ?from)", "      (on ?disc ?from)", "      (clear ?disc)", "      (clear ?to)", "      (not (= ?from ?to)) ; Negative precondition and equality", "    )", "    ; Only conjunction or atomic effects are supported", "    :effect (and", "      ; Note that adding the new relations is not enough", "      (clear ?from)", "      (on ?disc ?to)", "      ; Remove the old relations, order is not important", "      (not (on ?disc ?from))", "      (not (clear ?to))", "    )\n  )\n", "  ; Other transitions can be defined here\n)"].join("\n")), v = i("problem", ["; Problem description", "; Describe one scenario within the domain constraints", "; This one describes the Tower of Hanoi with 3 discs", "(define (problem pb3)", "  (:domain hanoi)\n", "  ; Objects are candidates to replace free variables", "  (:objects peg1 peg2 peg3 d1 d2 d3)\n", "  ; The initial state describe what is currently true", "  ; Everything else is considered false", "  (:init", "    ; Discs are smaller than pegs", "    (smaller d1 peg1) (smaller d1 peg2) (smaller d1 peg3)", "    (smaller d2 peg1) (smaller d2 peg2) (smaller d2 peg3)", "    (smaller d3 peg1) (smaller d3 peg2) (smaller d3 peg3)", "    ; Discs are also smaller than some other discs", "    (smaller d1 d2) (smaller d1 d3)", "    (smaller d2 d3)\n", "    ; There is nothing on top of some pegs and disc", "    (clear peg2)", "    (clear peg3)", "    (clear d1)\n", "    ; Discs are stacked on peg1", "    (on d3 peg1)", "    (on d2 d3)", "    (on d1 d2)", "  )\n", "  ; The goal state describe what we desire to achieve", "  (:goal (and", "    ; Discs stacked on peg3", "    (on d3 peg3)", "    (on d2 d3)", "    (on d1 d2)", "  ))\n)"].join("\n"));
    document.getElementById("button-save-local-modal").addEventListener("click", function() {
        r(f.value + ".pddl", d.getSession().getValue())
    });
    var A = document.getElementById("button-open-local-modal");
    A.addEventListener("click", function() {
        var e = w.files[0];
        if (e) {
            var t = new FileReader;
            t.onload = function(e) {
                d.getSession().setValue(e.target.result),
                w.value = "",
                this.disabled = !0
            }
            ,
            t.readAsText(e)
        } else
            alert("Failed to load local file")
    });
    var w = document.getElementById("select-local-file");
    w.addEventListener("change", function() {
        A.disabled = !1
    });
    var C = document.getElementById("button-solve");
    C.addEventListener("click", function() {
        u(C, "/", {
            domain: m.getValue(),
            problem: v.getValue()
        }, o)
    }),
    document.getElementById("button-verification").addEventListener("click", function() {
        u(C, "/verification", {
            domain: m.getValue(),
            problem: v.getValue()
        }, o)
    });
    var y = document.getElementById("editor-plan");
    y.value = "(move d1 d2 peg3)\n(move d2 d3 peg2)\n(move d1 peg3 d2)\n(move d3 peg1 peg3)\n(move d1 d2 peg1)\n(move d2 peg2 d3)\n(move d1 peg1 d2)";
    var b = document.getElementById("validate-verbose");
    document.getElementById("button-validation").addEventListener("click", function() {
        u(C, "/validation", {
            domain: m.getValue(),
            problem: v.getValue(),
            plan: y.value,
            verbose: b.selectedIndex + 1
        }, o)
    });
    var F = document.getElementById("output");
    document.getElementById("button-clear").addEventListener("click", s),
    s();
    var E, x, S, k = n(1), B = n(8), D = (document.getElementById("hv-opt-1"),
    document.getElementById("hv-opt-2")), M = $("#svg-container"), L = k.behavior.zoom().scaleExtent([.05, 3]).on("zoom", function() {
        x.attr("transform", "translate(" + k.event.translate + ")scale(" + k.event.scale + ")")
    });
    E = k.select("#svg-container").append("svg").attr("width", "100%").attr("height", "100%").attr("preserveAspectRatio", "xMinYMid meet").attr("display", "block").call(L),
    l("No visualization generated"),
    document.getElementById("button-heuristic-view").addEventListener("click", function() {
        var e = D.checked ? "hamming" : "";
        u(this, "/statespace", {
            domain: m.getValue(),
            problem: v.getValue(),
            heuristic: e
        }, c)
    }),
    document.getElementById("button-download-json").addEventListener("click", function() {
        S && r("statespace.json", S)
    }),
    document.getElementById("input-json").addEventListener("click", function() {
        this.value = ""
    }),
    document.getElementById("input-json").addEventListener("change", function() {
        var e = new FileReader;
        e.onload = function(e) {
            c(JSON.parse(S = e.target.result))
        }
        ,
        e.readAsText(this.files[0])
    }),
    document.getElementById("hv-change-layout").addEventListener("click", B.changeLayout),
    document.getElementById("button-dovetail-view").addEventListener("click", function() {
        u(this, "/dovetail", {
            domain: m.getValue(),
            problem: v.getValue()
        }, function(e) {
            if (e.svg) {
                var t = M.width() / 3
                  , n = M.height() / 3;
                a(t, n),
                x.html(e.svg),
                x.attr("transform", "translate(" + t + "," + n + ")")
            } else
                l(e.error);
            S = null
        })
    }),
    document.getElementById("config").addEventListener("click", function() {
        document.getElementById("toggle").classList.toggle("active")
    })
}
, function(e, t, n) {
    !function() {
        var e = function() {
            return this
        }();
        e || "undefined" == typeof window || (e = window);
        var t = function(e, n, i) {
            if ("string" != typeof e)
                return void (t.original ? t.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."),
                console.trace()));
            2 == arguments.length && (i = n),
            t.modules[e] || (t.payloads[e] = i,
            t.modules[e] = null)
        };
        t.modules = {},
        t.payloads = {};
        var n = function(e, t, n) {
            if ("string" == typeof t) {
                var r = o(e, t);
                if (void 0 != r)
                    return n && n(),
                    r
            } else if ("[object Array]" === Object.prototype.toString.call(t)) {
                for (var s = [], a = 0, l = t.length; a < l; ++a) {
                    var c = o(e, t[a]);
                    if (void 0 == c && i.original)
                        return;
                    s.push(c)
                }
                return n && n.apply(null, s) || !0
            }
        }
          , i = function(e, t) {
            var r = n("", e, t);
            return void 0 == r && i.original ? i.original.apply(this, arguments) : r
        }
          , r = function(e, t) {
            if (-1 !== t.indexOf("!")) {
                var n = t.split("!");
                return r(e, n[0]) + "!" + r(e, n[1])
            }
            if ("." == t.charAt(0)) {
                var i = e.split("/").slice(0, -1).join("/");
                for (t = i + "/" + t; -1 !== t.indexOf(".") && o != t; ) {
                    var o = t;
                    t = t.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "")
                }
            }
            return t
        }
          , o = function(e, i) {
            i = r(e, i);
            var o = t.modules[i];
            if (!o) {
                if ("function" == typeof (o = t.payloads[i])) {
                    var s = {}
                      , a = {
                        id: i,
                        uri: "",
                        exports: s,
                        packaged: !0
                    };
                    s = o(function(e, t) {
                        return n(i, e, t)
                    }, s, a) || a.exports,
                    t.modules[i] = s,
                    delete t.payloads[i]
                }
                o = t.modules[i] = s || o
            }
            return o
        };
        !function(n) {
            var r = e;
            n && (e[n] || (e[n] = {}),
            r = e[n]),
            r.define && r.define.packaged || (t.original = r.define,
            r.define = t,
            r.define.packaged = !0),
            r.acequire && r.acequire.packaged || (i.original = r.acequire,
            r.acequire = i,
            r.acequire.packaged = !0)
        }("ace")
    }(),
    ace.define("ace/lib/regexp", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        function i(e) {
            return (e.global ? "g" : "") + (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.extended ? "x" : "") + (e.sticky ? "y" : "")
        }
        function r(e, t, n) {
            if (Array.prototype.indexOf)
                return e.indexOf(t, n);
            for (var i = n || 0; i < e.length; i++)
                if (e[i] === t)
                    return i;
            return -1
        }
        var o = {
            exec: RegExp.prototype.exec,
            test: RegExp.prototype.test,
            match: String.prototype.match,
            replace: String.prototype.replace,
            split: String.prototype.split
        }
          , s = void 0 === o.exec.call(/()??/, "")[1]
          , a = function() {
            var e = /^/g;
            return o.test.call(e, ""),
            !e.lastIndex
        }();
        a && s || (RegExp.prototype.exec = function(e) {
            var t, n, l = o.exec.apply(this, arguments);
            if ("string" == typeof e && l) {
                if (!s && l.length > 1 && r(l, "") > -1 && (n = RegExp(this.source, o.replace.call(i(this), "g", "")),
                o.replace.call(e.slice(l.index), n, function() {
                    for (var e = 1; e < arguments.length - 2; e++)
                        void 0 === arguments[e] && (l[e] = void 0)
                })),
                this._xregexp && this._xregexp.captureNames)
                    for (var c = 1; c < l.length; c++)
                        (t = this._xregexp.captureNames[c - 1]) && (l[t] = l[c]);
                !a && this.global && !l[0].length && this.lastIndex > l.index && this.lastIndex--
            }
            return l
        }
        ,
        a || (RegExp.prototype.test = function(e) {
            var t = o.exec.call(this, e);
            return t && this.global && !t[0].length && this.lastIndex > t.index && this.lastIndex--,
            !!t
        }
        ))
    }),
    ace.define("ace/lib/es5-shim", ["require", "exports", "module"], function(e, t, n) {
        function i() {}
        function r(e) {
            try {
                return Object.defineProperty(e, "sentinel", {}),
                "sentinel"in e
            } catch (e) {}
        }
        function o(e) {
            return e = +e,
            e !== e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (e > 0 || -1) * Math.floor(Math.abs(e))),
            e
        }
        Function.prototype.bind || (Function.prototype.bind = function(e) {
            var t = this;
            if ("function" != typeof t)
                throw new TypeError("Function.prototype.bind called on incompatible " + t);
            var n = g.call(arguments, 1)
              , r = function() {
                if (this instanceof r) {
                    var i = t.apply(this, n.concat(g.call(arguments)));
                    return Object(i) === i ? i : this
                }
                return t.apply(e, n.concat(g.call(arguments)))
            };
            return t.prototype && (i.prototype = t.prototype,
            r.prototype = new i,
            i.prototype = null),
            r
        }
        );
        var s, a, l, c, u, h = Function.prototype.call, d = Array.prototype, f = Object.prototype, g = d.slice, p = h.bind(f.toString), m = h.bind(f.hasOwnProperty);
        if ((u = m(f, "__defineGetter__")) && (s = h.bind(f.__defineGetter__),
        a = h.bind(f.__defineSetter__),
        l = h.bind(f.__lookupGetter__),
        c = h.bind(f.__lookupSetter__)),
        2 != [1, 2].splice(0).length)
            if (function() {
                function e(e) {
                    var t = new Array(e + 2);
                    return t[0] = t[1] = 0,
                    t
                }
                var t, n = [];
                if (n.splice.apply(n, e(20)),
                n.splice.apply(n, e(26)),
                t = n.length,
                n.splice(5, 0, "XXX"),
                n.length,
                t + 1 == n.length)
                    return !0
            }()) {
                var v = Array.prototype.splice;
                Array.prototype.splice = function(e, t) {
                    return arguments.length ? v.apply(this, [void 0 === e ? 0 : e, void 0 === t ? this.length - e : t].concat(g.call(arguments, 2))) : []
                }
            } else
                Array.prototype.splice = function(e, t) {
                    var n = this.length;
                    e > 0 ? e > n && (e = n) : void 0 == e ? e = 0 : e < 0 && (e = Math.max(n + e, 0)),
                    e + t < n || (t = n - e);
                    var i = this.slice(e, e + t)
                      , r = g.call(arguments, 2)
                      , o = r.length;
                    if (e === n)
                        o && this.push.apply(this, r);
                    else {
                        var s = Math.min(t, n - e)
                          , a = e + s
                          , l = a + o - s
                          , c = n - a
                          , u = n - s;
                        if (l < a)
                            for (var h = 0; h < c; ++h)
                                this[l + h] = this[a + h];
                        else if (l > a)
                            for (h = c; h--; )
                                this[l + h] = this[a + h];
                        if (o && e === u)
                            this.length = u,
                            this.push.apply(this, r);
                        else
                            for (this.length = u + o,
                            h = 0; h < o; ++h)
                                this[e + h] = r[h]
                    }
                    return i
                }
                ;
        Array.isArray || (Array.isArray = function(e) {
            return "[object Array]" == p(e)
        }
        );
        var A = Object("a")
          , w = "a" != A[0] || !(0 in A);
        if (Array.prototype.forEach || (Array.prototype.forEach = function(e) {
            var t = M(this)
              , n = w && "[object String]" == p(this) ? this.split("") : t
              , i = arguments[1]
              , r = -1
              , o = n.length >>> 0;
            if ("[object Function]" != p(e))
                throw new TypeError;
            for (; ++r < o; )
                r in n && e.call(i, n[r], r, t)
        }
        ),
        Array.prototype.map || (Array.prototype.map = function(e) {
            var t = M(this)
              , n = w && "[object String]" == p(this) ? this.split("") : t
              , i = n.length >>> 0
              , r = Array(i)
              , o = arguments[1];
            if ("[object Function]" != p(e))
                throw new TypeError(e + " is not a function");
            for (var s = 0; s < i; s++)
                s in n && (r[s] = e.call(o, n[s], s, t));
            return r
        }
        ),
        Array.prototype.filter || (Array.prototype.filter = function(e) {
            var t, n = M(this), i = w && "[object String]" == p(this) ? this.split("") : n, r = i.length >>> 0, o = [], s = arguments[1];
            if ("[object Function]" != p(e))
                throw new TypeError(e + " is not a function");
            for (var a = 0; a < r; a++)
                a in i && (t = i[a],
                e.call(s, t, a, n) && o.push(t));
            return o
        }
        ),
        Array.prototype.every || (Array.prototype.every = function(e) {
            var t = M(this)
              , n = w && "[object String]" == p(this) ? this.split("") : t
              , i = n.length >>> 0
              , r = arguments[1];
            if ("[object Function]" != p(e))
                throw new TypeError(e + " is not a function");
            for (var o = 0; o < i; o++)
                if (o in n && !e.call(r, n[o], o, t))
                    return !1;
            return !0
        }
        ),
        Array.prototype.some || (Array.prototype.some = function(e) {
            var t = M(this)
              , n = w && "[object String]" == p(this) ? this.split("") : t
              , i = n.length >>> 0
              , r = arguments[1];
            if ("[object Function]" != p(e))
                throw new TypeError(e + " is not a function");
            for (var o = 0; o < i; o++)
                if (o in n && e.call(r, n[o], o, t))
                    return !0;
            return !1
        }
        ),
        Array.prototype.reduce || (Array.prototype.reduce = function(e) {
            var t = M(this)
              , n = w && "[object String]" == p(this) ? this.split("") : t
              , i = n.length >>> 0;
            if ("[object Function]" != p(e))
                throw new TypeError(e + " is not a function");
            if (!i && 1 == arguments.length)
                throw new TypeError("reduce of empty array with no initial value");
            var r, o = 0;
            if (arguments.length >= 2)
                r = arguments[1];
            else
                for (; ; ) {
                    if (o in n) {
                        r = n[o++];
                        break
                    }
                    if (++o >= i)
                        throw new TypeError("reduce of empty array with no initial value")
                }
            for (; o < i; o++)
                o in n && (r = e.call(void 0, r, n[o], o, t));
            return r
        }
        ),
        Array.prototype.reduceRight || (Array.prototype.reduceRight = function(e) {
            var t = M(this)
              , n = w && "[object String]" == p(this) ? this.split("") : t
              , i = n.length >>> 0;
            if ("[object Function]" != p(e))
                throw new TypeError(e + " is not a function");
            if (!i && 1 == arguments.length)
                throw new TypeError("reduceRight of empty array with no initial value");
            var r, o = i - 1;
            if (arguments.length >= 2)
                r = arguments[1];
            else
                for (; ; ) {
                    if (o in n) {
                        r = n[o--];
                        break
                    }
                    if (--o < 0)
                        throw new TypeError("reduceRight of empty array with no initial value")
                }
            do {
                o in this && (r = e.call(void 0, r, n[o], o, t))
            } while (o--);
            return r
        }
        ),
        Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2) || (Array.prototype.indexOf = function(e) {
            var t = w && "[object String]" == p(this) ? this.split("") : M(this)
              , n = t.length >>> 0;
            if (!n)
                return -1;
            var i = 0;
            for (arguments.length > 1 && (i = o(arguments[1])),
            i = i >= 0 ? i : Math.max(0, n + i); i < n; i++)
                if (i in t && t[i] === e)
                    return i;
            return -1
        }
        ),
        Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(e) {
            var t = w && "[object String]" == p(this) ? this.split("") : M(this)
              , n = t.length >>> 0;
            if (!n)
                return -1;
            var i = n - 1;
            for (arguments.length > 1 && (i = Math.min(i, o(arguments[1]))),
            i = i >= 0 ? i : n - Math.abs(i); i >= 0; i--)
                if (i in t && e === t[i])
                    return i;
            return -1
        }
        ),
        Object.getPrototypeOf || (Object.getPrototypeOf = function(e) {
            return e.__proto__ || (e.constructor ? e.constructor.prototype : f)
        }
        ),
        !Object.getOwnPropertyDescriptor) {
            Object.getOwnPropertyDescriptor = function(e, t) {
                if ("object" != typeof e && "function" != typeof e || null === e)
                    throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: " + e);
                if (m(e, t)) {
                    var n, i, r;
                    if (n = {
                        enumerable: !0,
                        configurable: !0
                    },
                    u) {
                        var o = e.__proto__;
                        e.__proto__ = f;
                        var i = l(e, t)
                          , r = c(e, t);
                        if (e.__proto__ = o,
                        i || r)
                            return i && (n.get = i),
                            r && (n.set = r),
                            n
                    }
                    return n.value = e[t],
                    n
                }
            }
        }
        if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(e) {
            return Object.keys(e)
        }
        ),
        !Object.create) {
            var C;
            C = null === Object.prototype.__proto__ ? function() {
                return {
                    __proto__: null
                }
            }
            : function() {
                var e = {};
                for (var t in e)
                    e[t] = null;
                return e.constructor = e.hasOwnProperty = e.propertyIsEnumerable = e.isPrototypeOf = e.toLocaleString = e.toString = e.valueOf = e.__proto__ = null,
                e
            }
            ,
            Object.create = function(e, t) {
                var n;
                if (null === e)
                    n = C();
                else {
                    if ("object" != typeof e)
                        throw new TypeError("typeof prototype[" + typeof e + "] != 'object'");
                    var i = function() {};
                    i.prototype = e,
                    n = new i,
                    n.__proto__ = e
                }
                return void 0 !== t && Object.defineProperties(n, t),
                n
            }
        }
        if (Object.defineProperty) {
            var y = r({})
              , b = "undefined" == typeof document || r(document.createElement("div"));
            if (!y || !b)
                var F = Object.defineProperty
        }
        if (!Object.defineProperty || F) {
            Object.defineProperty = function(e, t, n) {
                if ("object" != typeof e && "function" != typeof e || null === e)
                    throw new TypeError("Object.defineProperty called on non-object: " + e);
                if ("object" != typeof n && "function" != typeof n || null === n)
                    throw new TypeError("Property description must be an object: " + n);
                if (F)
                    try {
                        return F.call(Object, e, t, n)
                    } catch (e) {}
                if (m(n, "value"))
                    if (u && (l(e, t) || c(e, t))) {
                        var i = e.__proto__;
                        e.__proto__ = f,
                        delete e[t],
                        e[t] = n.value,
                        e.__proto__ = i
                    } else
                        e[t] = n.value;
                else {
                    if (!u)
                        throw new TypeError("getters & setters can not be defined on this javascript engine");
                    m(n, "get") && s(e, t, n.get),
                    m(n, "set") && a(e, t, n.set)
                }
                return e
            }
        }
        Object.defineProperties || (Object.defineProperties = function(e, t) {
            for (var n in t)
                m(t, n) && Object.defineProperty(e, n, t[n]);
            return e
        }
        ),
        Object.seal || (Object.seal = function(e) {
            return e
        }
        ),
        Object.freeze || (Object.freeze = function(e) {
            return e
        }
        );
        try {
            Object.freeze(function() {})
        } catch (e) {
            Object.freeze = function(e) {
                return function(t) {
                    return "function" == typeof t ? t : e(t)
                }
            }(Object.freeze)
        }
        if (Object.preventExtensions || (Object.preventExtensions = function(e) {
            return e
        }
        ),
        Object.isSealed || (Object.isSealed = function(e) {
            return !1
        }
        ),
        Object.isFrozen || (Object.isFrozen = function(e) {
            return !1
        }
        ),
        Object.isExtensible || (Object.isExtensible = function(e) {
            if (Object(e) === e)
                throw new TypeError;
            for (var t = ""; m(e, t); )
                t += "?";
            e[t] = !0;
            var n = m(e, t);
            return delete e[t],
            n
        }
        ),
        !Object.keys) {
            var E = !0
              , x = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"]
              , S = x.length;
            for (var k in {
                toString: null
            })
                E = !1;
            Object.keys = function(e) {
                if ("object" != typeof e && "function" != typeof e || null === e)
                    throw new TypeError("Object.keys called on a non-object");
                var t = [];
                for (var n in e)
                    m(e, n) && t.push(n);
                if (E)
                    for (var i = 0, r = S; i < r; i++) {
                        var o = x[i];
                        m(e, o) && t.push(o)
                    }
                return t
            }
        }
        Date.now || (Date.now = function() {
            return (new Date).getTime()
        }
        );
        var $ = "\t\n\v\f\r \u2028\u2029\ufeff";
        if (!String.prototype.trim || $.trim()) {
            $ = "[" + $ + "]";
            var B = new RegExp("^" + $ + $ + "*")
              , D = new RegExp($ + $ + "*$");
            String.prototype.trim = function() {
                return String(this).replace(B, "").replace(D, "")
            }
        }
        var M = function(e) {
            if (null == e)
                throw new TypeError("can't convert " + e + " to object");
            return Object(e)
        }
    }),
    ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/regexp", "ace/lib/es5-shim"], function(e, t, n) {
        "use strict";
        e("./regexp"),
        e("./es5-shim")
    }),
    ace.define("ace/lib/dom", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        if (t.getDocumentHead = function(e) {
            return e || (e = document),
            e.head || e.getElementsByTagName("head")[0] || e.documentElement
        }
        ,
        t.createElement = function(e, t) {
            return document.createElementNS ? document.createElementNS(t || "http://www.w3.org/1999/xhtml", e) : document.createElement(e)
        }
        ,
        t.hasCssClass = function(e, t) {
            return -1 !== (e.className + "").split(/\s+/g).indexOf(t)
        }
        ,
        t.addCssClass = function(e, n) {
            t.hasCssClass(e, n) || (e.className += " " + n)
        }
        ,
        t.removeCssClass = function(e, t) {
            for (var n = e.className.split(/\s+/g); ; ) {
                var i = n.indexOf(t);
                if (-1 == i)
                    break;
                n.splice(i, 1)
            }
            e.className = n.join(" ")
        }
        ,
        t.toggleCssClass = function(e, t) {
            for (var n = e.className.split(/\s+/g), i = !0; ; ) {
                var r = n.indexOf(t);
                if (-1 == r)
                    break;
                i = !1,
                n.splice(r, 1)
            }
            return i && n.push(t),
            e.className = n.join(" "),
            i
        }
        ,
        t.setCssClass = function(e, n, i) {
            i ? t.addCssClass(e, n) : t.removeCssClass(e, n)
        }
        ,
        t.hasCssString = function(e, t) {
            var n, i = 0;
            if (t = t || document,
            t.createStyleSheet && (n = t.styleSheets)) {
                for (; i < n.length; )
                    if (n[i++].owningElement.id === e)
                        return !0
            } else if (n = t.getElementsByTagName("style"))
                for (; i < n.length; )
                    if (n[i++].id === e)
                        return !0;
            return !1
        }
        ,
        t.importCssString = function(e, n, i) {
            if (i = i || document,
            n && t.hasCssString(n, i))
                return null;
            var r;
            n && (e += "\n/*# sourceURL=ace/css/" + n + " */"),
            i.createStyleSheet ? (r = i.createStyleSheet(),
            r.cssText = e,
            n && (r.owningElement.id = n)) : (r = t.createElement("style"),
            r.appendChild(i.createTextNode(e)),
            n && (r.id = n),
            t.getDocumentHead(i).appendChild(r))
        }
        ,
        t.importCssStylsheet = function(e, n) {
            if (n.createStyleSheet)
                n.createStyleSheet(e);
            else {
                var i = t.createElement("link");
                i.rel = "stylesheet",
                i.href = e,
                t.getDocumentHead(n).appendChild(i)
            }
        }
        ,
        t.getInnerWidth = function(e) {
            return parseInt(t.computedStyle(e, "paddingLeft"), 10) + parseInt(t.computedStyle(e, "paddingRight"), 10) + e.clientWidth
        }
        ,
        t.getInnerHeight = function(e) {
            return parseInt(t.computedStyle(e, "paddingTop"), 10) + parseInt(t.computedStyle(e, "paddingBottom"), 10) + e.clientHeight
        }
        ,
        t.scrollbarWidth = function(e) {
            var n = t.createElement("ace_inner");
            n.style.width = "100%",
            n.style.minWidth = "0px",
            n.style.height = "200px",
            n.style.display = "block";
            var i = t.createElement("ace_outer")
              , r = i.style;
            r.position = "absolute",
            r.left = "-10000px",
            r.overflow = "hidden",
            r.width = "200px",
            r.minWidth = "0px",
            r.height = "150px",
            r.display = "block",
            i.appendChild(n);
            var o = e.documentElement;
            o.appendChild(i);
            var s = n.offsetWidth;
            r.overflow = "scroll";
            var a = n.offsetWidth;
            return s == a && (a = i.clientWidth),
            o.removeChild(i),
            s - a
        }
        ,
        "undefined" == typeof document)
            return void (t.importCssString = function() {}
            );
        void 0 !== window.pageYOffset ? (t.getPageScrollTop = function() {
            return window.pageYOffset
        }
        ,
        t.getPageScrollLeft = function() {
            return window.pageXOffset
        }
        ) : (t.getPageScrollTop = function() {
            return document.body.scrollTop
        }
        ,
        t.getPageScrollLeft = function() {
            return document.body.scrollLeft
        }
        ),
        window.getComputedStyle ? t.computedStyle = function(e, t) {
            return t ? (window.getComputedStyle(e, "") || {})[t] || "" : window.getComputedStyle(e, "") || {}
        }
        : t.computedStyle = function(e, t) {
            return t ? e.currentStyle[t] : e.currentStyle
        }
        ,
        t.setInnerHtml = function(e, t) {
            var n = e.cloneNode(!1);
            return n.innerHTML = t,
            e.parentNode.replaceChild(n, e),
            n
        }
        ,
        "textContent"in document.documentElement ? (t.setInnerText = function(e, t) {
            e.textContent = t
        }
        ,
        t.getInnerText = function(e) {
            return e.textContent
        }
        ) : (t.setInnerText = function(e, t) {
            e.innerText = t
        }
        ,
        t.getInnerText = function(e) {
            return e.innerText
        }
        ),
        t.getParentWindow = function(e) {
            return e.defaultView || e.parentWindow
        }
    }),
    ace.define("ace/lib/oop", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        t.inherits = function(e, t) {
            e.super_ = t,
            e.prototype = Object.create(t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            })
        }
        ,
        t.mixin = function(e, t) {
            for (var n in t)
                e[n] = t[n];
            return e
        }
        ,
        t.implement = function(e, n) {
            t.mixin(e, n)
        }
    }),
    ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop"], function(e, t, n) {
        "use strict";
        e("./fixoldbrowsers");
        var i = e("./oop")
          , r = function() {
            var e, t, n = {
                MODIFIER_KEYS: {
                    16: "Shift",
                    17: "Ctrl",
                    18: "Alt",
                    224: "Meta"
                },
                KEY_MODS: {
                    ctrl: 1,
                    alt: 2,
                    option: 2,
                    shift: 4,
                    super: 8,
                    meta: 8,
                    command: 8,
                    cmd: 8
                },
                FUNCTION_KEYS: {
                    8: "Backspace",
                    9: "Tab",
                    13: "Return",
                    19: "Pause",
                    27: "Esc",
                    32: "Space",
                    33: "PageUp",
                    34: "PageDown",
                    35: "End",
                    36: "Home",
                    37: "Left",
                    38: "Up",
                    39: "Right",
                    40: "Down",
                    44: "Print",
                    45: "Insert",
                    46: "Delete",
                    96: "Numpad0",
                    97: "Numpad1",
                    98: "Numpad2",
                    99: "Numpad3",
                    100: "Numpad4",
                    101: "Numpad5",
                    102: "Numpad6",
                    103: "Numpad7",
                    104: "Numpad8",
                    105: "Numpad9",
                    "-13": "NumpadEnter",
                    112: "F1",
                    113: "F2",
                    114: "F3",
                    115: "F4",
                    116: "F5",
                    117: "F6",
                    118: "F7",
                    119: "F8",
                    120: "F9",
                    121: "F10",
                    122: "F11",
                    123: "F12",
                    144: "Numlock",
                    145: "Scrolllock"
                },
                PRINTABLE_KEYS: {
                    32: " ",
                    48: "0",
                    49: "1",
                    50: "2",
                    51: "3",
                    52: "4",
                    53: "5",
                    54: "6",
                    55: "7",
                    56: "8",
                    57: "9",
                    59: ";",
                    61: "=",
                    65: "a",
                    66: "b",
                    67: "c",
                    68: "d",
                    69: "e",
                    70: "f",
                    71: "g",
                    72: "h",
                    73: "i",
                    74: "j",
                    75: "k",
                    76: "l",
                    77: "m",
                    78: "n",
                    79: "o",
                    80: "p",
                    81: "q",
                    82: "r",
                    83: "s",
                    84: "t",
                    85: "u",
                    86: "v",
                    87: "w",
                    88: "x",
                    89: "y",
                    90: "z",
                    107: "+",
                    109: "-",
                    110: ".",
                    186: ";",
                    187: "=",
                    188: ",",
                    189: "-",
                    190: ".",
                    191: "/",
                    192: "`",
                    219: "[",
                    220: "\\",
                    221: "]",
                    222: "'",
                    111: "/",
                    106: "*"
                }
            };
            for (t in n.FUNCTION_KEYS)
                e = n.FUNCTION_KEYS[t].toLowerCase(),
                n[e] = parseInt(t, 10);
            for (t in n.PRINTABLE_KEYS)
                e = n.PRINTABLE_KEYS[t].toLowerCase(),
                n[e] = parseInt(t, 10);
            return i.mixin(n, n.MODIFIER_KEYS),
            i.mixin(n, n.PRINTABLE_KEYS),
            i.mixin(n, n.FUNCTION_KEYS),
            n.enter = n.return,
            n.escape = n.esc,
            n.del = n.delete,
            n[173] = "-",
            function() {
                for (var e = ["cmd", "ctrl", "alt", "shift"], t = Math.pow(2, e.length); t--; )
                    n.KEY_MODS[t] = e.filter(function(e) {
                        return t & n.KEY_MODS[e]
                    }).join("-") + "-"
            }(),
            n.KEY_MODS[0] = "",
            n.KEY_MODS[-1] = "input-",
            n
        }();
        i.mixin(t, r),
        t.keyCodeToString = function(e) {
            var t = r[e];
            return "string" != typeof t && (t = String.fromCharCode(e)),
            t.toLowerCase()
        }
    }),
    ace.define("ace/lib/useragent", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        if (t.OS = {
            LINUX: "LINUX",
            MAC: "MAC",
            WINDOWS: "WINDOWS"
        },
        t.getOS = function() {
            return t.isMac ? t.OS.MAC : t.isLinux ? t.OS.LINUX : t.OS.WINDOWS
        }
        ,
        "object" == typeof navigator) {
            var i = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase()
              , r = navigator.userAgent;
            t.isWin = "win" == i,
            t.isMac = "mac" == i,
            t.isLinux = "linux" == i,
            t.isIE = "Microsoft Internet Explorer" == navigator.appName || navigator.appName.indexOf("MSAppHost") >= 0 ? parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]),
            t.isOldIE = t.isIE && t.isIE < 9,
            t.isGecko = t.isMozilla = (window.Controllers || window.controllers) && "Gecko" === window.navigator.product,
            t.isOldGecko = t.isGecko && parseInt((r.match(/rv:(\d+)/) || [])[1], 10) < 4,
            t.isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera),
            t.isWebKit = parseFloat(r.split("WebKit/")[1]) || void 0,
            t.isChrome = parseFloat(r.split(" Chrome/")[1]) || void 0,
            t.isAIR = r.indexOf("AdobeAIR") >= 0,
            t.isIPad = r.indexOf("iPad") >= 0,
            t.isChromeOS = r.indexOf(" CrOS ") >= 0,
            t.isIOS = /iPad|iPhone|iPod/.test(r) && !window.MSStream,
            t.isIOS && (t.isMac = !0)
        }
    }),
    ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(e, t, n) {
        "use strict";
        function i(e, t, n) {
            var i = c(t);
            if (!s.isMac && a) {
                if (t.getModifierState && (t.getModifierState("OS") || t.getModifierState("Win")) && (i |= 8),
                a.altGr) {
                    if (3 == (3 & i))
                        return;
                    a.altGr = 0
                }
                if (18 === n || 17 === n) {
                    var r = "location"in t ? t.location : t.keyLocation;
                    if (17 === n && 1 === r)
                        1 == a[n] && (l = t.timeStamp);
                    else if (18 === n && 3 === i && 2 === r) {
                        var u = t.timeStamp - l;
                        u < 50 && (a.altGr = !0)
                    }
                }
            }
            if (n in o.MODIFIER_KEYS && (n = -1),
            8 & i && n >= 91 && n <= 93 && (n = -1),
            !i && 13 === n) {
                var r = "location"in t ? t.location : t.keyLocation;
                if (3 === r && (e(t, i, -n),
                t.defaultPrevented))
                    return
            }
            if (s.isChromeOS && 8 & i) {
                if (e(t, i, n),
                t.defaultPrevented)
                    return;
                i &= -9
            }
            return !!(i || n in o.FUNCTION_KEYS || n in o.PRINTABLE_KEYS) && e(t, i, n)
        }
        function r() {
            a = Object.create(null)
        }
        var o = e("./keys")
          , s = e("./useragent")
          , a = null
          , l = 0;
        t.addListener = function(e, t, n) {
            if (e.addEventListener)
                return e.addEventListener(t, n, !1);
            if (e.attachEvent) {
                var i = function() {
                    n.call(e, window.event)
                };
                n._wrapper = i,
                e.attachEvent("on" + t, i)
            }
        }
        ,
        t.removeListener = function(e, t, n) {
            if (e.removeEventListener)
                return e.removeEventListener(t, n, !1);
            e.detachEvent && e.detachEvent("on" + t, n._wrapper || n)
        }
        ,
        t.stopEvent = function(e) {
            return t.stopPropagation(e),
            t.preventDefault(e),
            !1
        }
        ,
        t.stopPropagation = function(e) {
            e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
        }
        ,
        t.preventDefault = function(e) {
            e.preventDefault ? e.preventDefault() : e.returnValue = !1
        }
        ,
        t.getButton = function(e) {
            return "dblclick" == e.type ? 0 : "contextmenu" == e.type || s.isMac && e.ctrlKey && !e.altKey && !e.shiftKey ? 2 : e.preventDefault ? e.button : {
                1: 0,
                2: 2,
                4: 1
            }[e.button]
        }
        ,
        t.capture = function(e, n, i) {
            function r(e) {
                n && n(e),
                i && i(e),
                t.removeListener(document, "mousemove", n, !0),
                t.removeListener(document, "mouseup", r, !0),
                t.removeListener(document, "dragstart", r, !0)
            }
            return t.addListener(document, "mousemove", n, !0),
            t.addListener(document, "mouseup", r, !0),
            t.addListener(document, "dragstart", r, !0),
            r
        }
        ,
        t.addTouchMoveListener = function(e, n) {
            var i, r;
            t.addListener(e, "touchstart", function(e) {
                var t = e.touches
                  , n = t[0];
                i = n.clientX,
                r = n.clientY
            }),
            t.addListener(e, "touchmove", function(e) {
                var t = e.touches;
                if (!(t.length > 1)) {
                    var o = t[0];
                    e.wheelX = i - o.clientX,
                    e.wheelY = r - o.clientY,
                    i = o.clientX,
                    r = o.clientY,
                    n(e)
                }
            })
        }
        ,
        t.addMouseWheelListener = function(e, n) {
            "onmousewheel"in e ? t.addListener(e, "mousewheel", function(e) {
                void 0 !== e.wheelDeltaX ? (e.wheelX = -e.wheelDeltaX / 8,
                e.wheelY = -e.wheelDeltaY / 8) : (e.wheelX = 0,
                e.wheelY = -e.wheelDelta / 8),
                n(e)
            }) : "onwheel"in e ? t.addListener(e, "wheel", function(e) {
                switch (e.deltaMode) {
                case e.DOM_DELTA_PIXEL:
                    e.wheelX = .35 * e.deltaX || 0,
                    e.wheelY = .35 * e.deltaY || 0;
                    break;
                case e.DOM_DELTA_LINE:
                case e.DOM_DELTA_PAGE:
                    e.wheelX = 5 * (e.deltaX || 0),
                    e.wheelY = 5 * (e.deltaY || 0)
                }
                n(e)
            }) : t.addListener(e, "DOMMouseScroll", function(e) {
                e.axis && e.axis == e.HORIZONTAL_AXIS ? (e.wheelX = 5 * (e.detail || 0),
                e.wheelY = 0) : (e.wheelX = 0,
                e.wheelY = 5 * (e.detail || 0)),
                n(e)
            })
        }
        ,
        t.addMultiMouseDownListener = function(e, n, i, r) {
            function o(e) {
                if (0 !== t.getButton(e) ? h = 0 : e.detail > 1 ? ++h > 4 && (h = 1) : h = 1,
                s.isIE) {
                    var o = Math.abs(e.clientX - l) > 5 || Math.abs(e.clientY - c) > 5;
                    u && !o || (h = 1),
                    u && clearTimeout(u),
                    u = setTimeout(function() {
                        u = null
                    }, n[h - 1] || 600),
                    1 == h && (l = e.clientX,
                    c = e.clientY)
                }
                if (e._clicks = h,
                i[r]("mousedown", e),
                h > 4)
                    h = 0;
                else if (h > 1)
                    return i[r](d[h], e)
            }
            function a(e) {
                h = 2,
                u && clearTimeout(u),
                u = setTimeout(function() {
                    u = null
                }, n[h - 1] || 600),
                i[r]("mousedown", e),
                i[r](d[h], e)
            }
            var l, c, u, h = 0, d = {
                2: "dblclick",
                3: "tripleclick",
                4: "quadclick"
            };
            Array.isArray(e) || (e = [e]),
            e.forEach(function(e) {
                t.addListener(e, "mousedown", o),
                s.isOldIE && t.addListener(e, "dblclick", a)
            })
        }
        ;
        var c = !s.isMac || !s.isOpera || "KeyboardEvent"in window ? function(e) {
            return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0)
        }
        : function(e) {
            return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0)
        }
        ;
        if (t.getModifierString = function(e) {
            return o.KEY_MODS[c(e)]
        }
        ,
        t.addCommandKeyListener = function(e, n) {
            var o = t.addListener;
            if (s.isOldGecko || s.isOpera && !("KeyboardEvent"in window)) {
                var l = null;
                o(e, "keydown", function(e) {
                    l = e.keyCode
                }),
                o(e, "keypress", function(e) {
                    return i(n, e, l)
                })
            } else {
                var c = null;
                o(e, "keydown", function(e) {
                    a[e.keyCode] = (a[e.keyCode] || 0) + 1;
                    var t = i(n, e, e.keyCode);
                    return c = e.defaultPrevented,
                    t
                }),
                o(e, "keypress", function(e) {
                    c && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && (t.stopEvent(e),
                    c = null)
                }),
                o(e, "keyup", function(e) {
                    a[e.keyCode] = null
                }),
                a || (r(),
                o(window, "focus", r))
            }
        }
        ,
        "object" == typeof window && window.postMessage && !s.isOldIE) {
            t.nextTick = function(e, n) {
                n = n || window;
                t.addListener(n, "message", function i(r) {
                    "zero-timeout-message-1" == r.data && (t.stopPropagation(r),
                    t.removeListener(n, "message", i),
                    e())
                }),
                n.postMessage("zero-timeout-message-1", "*")
            }
        }
        t.nextFrame = "object" == typeof window && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame),
        t.nextFrame ? t.nextFrame = t.nextFrame.bind(window) : t.nextFrame = function(e) {
            setTimeout(e, 17)
        }
    }),
    ace.define("ace/lib/lang", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        t.last = function(e) {
            return e[e.length - 1]
        }
        ,
        t.stringReverse = function(e) {
            return e.split("").reverse().join("")
        }
        ,
        t.stringRepeat = function(e, t) {
            for (var n = ""; t > 0; )
                1 & t && (n += e),
                (t >>= 1) && (e += e);
            return n
        }
        ;
        var i = /^\s\s*/
          , r = /\s\s*$/;
        t.stringTrimLeft = function(e) {
            return e.replace(i, "")
        }
        ,
        t.stringTrimRight = function(e) {
            return e.replace(r, "")
        }
        ,
        t.copyObject = function(e) {
            var t = {};
            for (var n in e)
                t[n] = e[n];
            return t
        }
        ,
        t.copyArray = function(e) {
            for (var t = [], n = 0, i = e.length; n < i; n++)
                e[n] && "object" == typeof e[n] ? t[n] = this.copyObject(e[n]) : t[n] = e[n];
            return t
        }
        ,
        t.deepCopy = function e(t) {
            if ("object" != typeof t || !t)
                return t;
            var n;
            if (Array.isArray(t)) {
                n = [];
                for (var i = 0; i < t.length; i++)
                    n[i] = e(t[i]);
                return n
            }
            if ("[object Object]" !== Object.prototype.toString.call(t))
                return t;
            n = {};
            for (var i in t)
                n[i] = e(t[i]);
            return n
        }
        ,
        t.arrayToMap = function(e) {
            for (var t = {}, n = 0; n < e.length; n++)
                t[e[n]] = 1;
            return t
        }
        ,
        t.createMap = function(e) {
            var t = Object.create(null);
            for (var n in e)
                t[n] = e[n];
            return t
        }
        ,
        t.arrayRemove = function(e, t) {
            for (var n = 0; n <= e.length; n++)
                t === e[n] && e.splice(n, 1)
        }
        ,
        t.escapeRegExp = function(e) {
            return e.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1")
        }
        ,
        t.escapeHTML = function(e) {
            return e.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;")
        }
        ,
        t.getMatchOffsets = function(e, t) {
            var n = [];
            return e.replace(t, function(e) {
                n.push({
                    offset: arguments[arguments.length - 2],
                    length: e.length
                })
            }),
            n
        }
        ,
        t.deferredCall = function(e) {
            var t = null
              , n = function() {
                t = null,
                e()
            }
              , i = function(e) {
                return i.cancel(),
                t = setTimeout(n, e || 0),
                i
            };
            return i.schedule = i,
            i.call = function() {
                return this.cancel(),
                e(),
                i
            }
            ,
            i.cancel = function() {
                return clearTimeout(t),
                t = null,
                i
            }
            ,
            i.isPending = function() {
                return t
            }
            ,
            i
        }
        ,
        t.delayedCall = function(e, t) {
            var n = null
              , i = function() {
                n = null,
                e()
            }
              , r = function(e) {
                null == n && (n = setTimeout(i, e || t))
            };
            return r.delay = function(e) {
                n && clearTimeout(n),
                n = setTimeout(i, e || t)
            }
            ,
            r.schedule = r,
            r.call = function() {
                this.cancel(),
                e()
            }
            ,
            r.cancel = function() {
                n && clearTimeout(n),
                n = null
            }
            ,
            r.isPending = function() {
                return n
            }
            ,
            r
        }
    }),
    ace.define("ace/keyboard/textinput_ios", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/lib/keys"], function(e, t, n) {
        "use strict";
        var i = e("../lib/event")
          , r = e("../lib/useragent")
          , o = e("../lib/dom")
          , s = e("../lib/lang")
          , a = e("../lib/keys")
          , l = a.KEY_MODS
          , c = r.isChrome < 18
          , u = r.isIE
          , h = function(e, t) {
            function n(e) {
                if (!A) {
                    if (A = !0,
                    S)
                        t = 0,
                        n = e ? 0 : f.value.length - 1;
                    else
                        var t = 4
                          , n = 5;
                    try {
                        f.setSelectionRange(t, n)
                    } catch (e) {}
                    A = !1
                }
            }
            function h() {
                A || (f.value = g,
                r.isWebKit && F.schedule())
            }
            function d() {
                clearTimeout(W),
                W = setTimeout(function() {
                    w && (f.style.cssText = w,
                    w = ""),
                    null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0,
                    t.renderer.$moveTextAreaToCursor())
                }, 0)
            }
            var f = o.createElement("textarea");
            f.className = r.isIOS ? "ace_text-input ace_text-input-ios" : "ace_text-input",
            r.isTouchPad && f.setAttribute("x-palm-disable-auto-cap", !0),
            f.setAttribute("wrap", "off"),
            f.setAttribute("autocorrect", "off"),
            f.setAttribute("autocapitalize", "off"),
            f.setAttribute("spellcheck", !1),
            f.style.opacity = "0",
            e.insertBefore(f, e.firstChild);
            var g = "\n aaaa a\n"
              , p = !1
              , m = !1
              , v = !1
              , A = !1
              , w = ""
              , C = !0;
            try {
                var y = document.activeElement === f
            } catch (e) {}
            i.addListener(f, "blur", function(e) {
                t.onBlur(e),
                y = !1
            }),
            i.addListener(f, "focus", function(e) {
                y = !0,
                t.onFocus(e),
                n()
            }),
            this.focus = function() {
                if (w)
                    return f.focus();
                f.style.position = "fixed",
                f.focus()
            }
            ,
            this.blur = function() {
                f.blur()
            }
            ,
            this.isFocused = function() {
                return y
            }
            ;
            var b = s.delayedCall(function() {
                y && n(C)
            })
              , F = s.delayedCall(function() {
                A || (f.value = g,
                y && n())
            });
            r.isWebKit || t.addEventListener("changeSelection", function() {
                t.selection.isEmpty() != C && (C = !C,
                b.schedule())
            }),
            h(),
            y && t.onFocus();
            var E = function(e) {
                return 0 === e.selectionStart && e.selectionEnd === e.value.length
            }
              , x = function(e) {
                E(f) ? (t.selectAll(),
                n()) : S && n(t.selection.isEmpty())
            }
              , S = null;
            this.setInputHandler = function(e) {
                S = e
            }
            ,
            this.getInputHandler = function() {
                return S
            }
            ;
            var k = !1
              , $ = function(e) {
                4 === f.selectionStart && 5 === f.selectionEnd || (S && (e = S(e),
                S = null),
                v ? (n(),
                e && t.onPaste(e),
                v = !1) : e == g.substr(0) && 4 === f.selectionStart ? k ? t.execCommand("del", {
                    source: "ace"
                }) : t.execCommand("backspace", {
                    source: "ace"
                }) : p || (e.substring(0, 9) == g && e.length > g.length ? e = e.substr(9) : e.substr(0, 4) == g.substr(0, 4) ? e = e.substr(4, e.length - g.length + 1) : e.charAt(e.length - 1) == g.charAt(0) && (e = e.slice(0, -1)),
                e == g.charAt(0) || e.charAt(e.length - 1) == g.charAt(0) && (e = e.slice(0, -1)),
                e && t.onTextInput(e)),
                p && (p = !1),
                k && (k = !1))
            }
              , B = function(e) {
                if (!A) {
                    var t = f.value;
                    $(t),
                    h()
                }
            }
              , D = function(e, t, n) {
                var i = e.clipboardData || window.clipboardData;
                if (i && !c) {
                    var r = u || n ? "Text" : "text/plain";
                    try {
                        return t ? !1 !== i.setData(r, t) : i.getData(r)
                    } catch (e) {
                        if (!n)
                            return D(e, t, !0)
                    }
                }
            }
              , M = function(e, o) {
                var s = t.getCopyText();
                if (!s)
                    return i.preventDefault(e);
                D(e, s) ? (r.isIOS && (m = o,
                f.value = "\n aa" + s + "a a\n",
                f.setSelectionRange(4, 4 + s.length),
                p = {
                    value: s
                }),
                o ? t.onCut() : t.onCopy(),
                r.isIOS || i.preventDefault(e)) : (p = !0,
                f.value = s,
                f.select(),
                setTimeout(function() {
                    p = !1,
                    h(),
                    n(),
                    o ? t.onCut() : t.onCopy()
                }))
            }
              , L = function(e) {
                M(e, !0)
            }
              , _ = function(e) {
                M(e, !1)
            }
              , R = function(e) {
                var o = D(e);
                "string" == typeof o ? (o && t.onPaste(o, e),
                r.isIE && setTimeout(n),
                i.preventDefault(e)) : (f.value = "",
                v = !0)
            };
            i.addCommandKeyListener(f, t.onCommandKey.bind(t)),
            i.addListener(f, "select", x),
            i.addListener(f, "input", B),
            i.addListener(f, "cut", L),
            i.addListener(f, "copy", _),
            i.addListener(f, "paste", R);
            var T = function(e) {
                A || !t.onCompositionStart || t.$readOnly || (A = {},
                A.canUndo = t.session.$undoManager,
                t.onCompositionStart(),
                setTimeout(I, 0),
                t.on("mousedown", O),
                A.canUndo && !t.selection.isEmpty() && (t.insert(""),
                t.session.markUndoGroup(),
                t.selection.clearSelection()),
                t.session.markUndoGroup())
            }
              , I = function() {
                if (A && t.onCompositionUpdate && !t.$readOnly) {
                    var e = f.value.replace(/\x01/g, "");
                    if (A.lastValue !== e && (t.onCompositionUpdate(e),
                    A.lastValue && t.undo(),
                    A.canUndo && (A.lastValue = e),
                    A.lastValue)) {
                        var n = t.selection.getRange();
                        t.insert(A.lastValue),
                        t.session.markUndoGroup(),
                        A.range = t.selection.getRange(),
                        t.selection.setRange(n),
                        t.selection.clearSelection()
                    }
                }
            }
              , O = function(e) {
                if (t.onCompositionEnd && !t.$readOnly) {
                    var n = A;
                    A = !1;
                    var i = setTimeout(function() {
                        i = null;
                        var e = f.value.replace(/\x01/g, "");
                        A || (e == n.lastValue ? h() : !n.lastValue && e && (h(),
                        $(e)))
                    });
                    S = function(e) {
                        return i && clearTimeout(i),
                        (e = e.replace(/\x01/g, "")) == n.lastValue ? "" : (n.lastValue && i && t.undo(),
                        e)
                    }
                    ,
                    t.onCompositionEnd(),
                    t.removeListener("mousedown", O),
                    "compositionend" == e.type && n.range && t.selection.setRange(n.range);
                    (!!r.isChrome && r.isChrome >= 53 || !!r.isWebKit && r.isWebKit >= 603) && B()
                }
            }
              , N = s.delayedCall(I, 50);
            i.addListener(f, "compositionstart", T),
            r.isGecko ? i.addListener(f, "text", function() {
                N.schedule()
            }) : (i.addListener(f, "keyup", function() {
                N.schedule()
            }),
            i.addListener(f, "keydown", function() {
                N.schedule()
            })),
            i.addListener(f, "compositionend", O),
            this.getElement = function() {
                return f
            }
            ,
            this.setReadOnly = function(e) {
                f.readOnly = e
            }
            ,
            this.onContextMenu = function(e) {
                k = !0,
                n(t.selection.isEmpty()),
                t._emit("nativecontextmenu", {
                    target: t,
                    domEvent: e
                }),
                this.moveToMouse(e, !0)
            }
            ,
            this.moveToMouse = function(e, n) {
                w || (w = f.style.cssText),
                f.style.cssText = (n ? "z-index:100000;" : "") + "height:" + f.style.height + ";" + (r.isIE ? "opacity:0.1;" : "");
                var s = t.container.getBoundingClientRect()
                  , a = o.computedStyle(t.container)
                  , l = s.top + (parseInt(a.borderTopWidth) || 0)
                  , c = s.left + (parseInt(s.borderLeftWidth) || 0)
                  , u = s.bottom - l - f.clientHeight - 2
                  , h = function(e) {
                    f.style.left = e.clientX - c - 2 + "px",
                    f.style.top = Math.min(e.clientY - l - 2, u) + "px"
                };
                h(e),
                "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null),
                clearTimeout(W),
                r.isWin && i.capture(t.container, h, d))
            }
            ,
            this.onContextMenuClose = d;
            var W, P = function(e) {
                t.textInput.onContextMenu(e),
                d()
            };
            if (i.addListener(f, "mouseup", P),
            i.addListener(f, "mousedown", function(e) {
                e.preventDefault(),
                d()
            }),
            i.addListener(t.renderer.scroller, "contextmenu", P),
            i.addListener(f, "contextmenu", P),
            r.isIOS) {
                var H = null
                  , z = !1;
                e.addEventListener("keydown", function(e) {
                    H && clearTimeout(H),
                    z = !0
                }),
                e.addEventListener("keyup", function(e) {
                    H = setTimeout(function() {
                        z = !1
                    }, 100)
                });
                var V = function(e) {
                    if (document.activeElement === f && !z) {
                        if (m)
                            return setTimeout(function() {
                                m = !1
                            }, 100);
                        var n = f.selectionStart
                          , i = f.selectionEnd;
                        if (f.setSelectionRange(4, 5),
                        n == i)
                            switch (n) {
                            case 0:
                                t.onCommandKey(null, 0, a.up);
                                break;
                            case 1:
                                t.onCommandKey(null, 0, a.home);
                                break;
                            case 2:
                                t.onCommandKey(null, l.option, a.left);
                                break;
                            case 4:
                                t.onCommandKey(null, 0, a.left);
                                break;
                            case 5:
                                t.onCommandKey(null, 0, a.right);
                                break;
                            case 7:
                                t.onCommandKey(null, l.option, a.right);
                                break;
                            case 8:
                                t.onCommandKey(null, 0, a.end);
                                break;
                            case 9:
                                t.onCommandKey(null, 0, a.down)
                            }
                        else {
                            switch (i) {
                            case 6:
                                t.onCommandKey(null, l.shift, a.right);
                                break;
                            case 7:
                                t.onCommandKey(null, l.shift | l.option, a.right);
                                break;
                            case 8:
                                t.onCommandKey(null, l.shift, a.end);
                                break;
                            case 9:
                                t.onCommandKey(null, l.shift, a.down)
                            }
                            switch (n) {
                            case 0:
                                t.onCommandKey(null, l.shift, a.up);
                                break;
                            case 1:
                                t.onCommandKey(null, l.shift, a.home);
                                break;
                            case 2:
                                t.onCommandKey(null, l.shift | l.option, a.left);
                                break;
                            case 3:
                                t.onCommandKey(null, l.shift, a.left)
                            }
                        }
                    }
                };
                document.addEventListener("selectionchange", V),
                t.on("destroy", function() {
                    document.removeEventListener("selectionchange", V)
                })
            }
        };
        t.TextInput = h
    }),
    ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/keyboard/textinput_ios"], function(e, t, n) {
        "use strict";
        var i = e("../lib/event")
          , r = e("../lib/useragent")
          , o = e("../lib/dom")
          , s = e("../lib/lang")
          , a = r.isChrome < 18
          , l = r.isIE
          , c = e("./textinput_ios").TextInput
          , u = function(e, t) {
            function n(e) {
                if (!m) {
                    if (m = !0,
                    E)
                        var t = 0
                          , n = e ? 0 : d.value.length - 1;
                    else
                        var t = e ? 2 : 1
                          , n = 2;
                    try {
                        d.setSelectionRange(t, n)
                    } catch (e) {}
                    m = !1
                }
            }
            function u() {
                m || (d.value = f,
                r.isWebKit && y.schedule())
            }
            function h() {
                clearTimeout(O),
                O = setTimeout(function() {
                    v && (d.style.cssText = v,
                    v = ""),
                    null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0,
                    t.renderer.$moveTextAreaToCursor())
                }, 0)
            }
            if (r.isIOS)
                return c.call(this, e, t);
            var d = o.createElement("textarea");
            d.className = "ace_text-input",
            d.setAttribute("wrap", "off"),
            d.setAttribute("autocorrect", "off"),
            d.setAttribute("autocapitalize", "off"),
            d.setAttribute("spellcheck", !1),
            d.style.opacity = "0",
            e.insertBefore(d, e.firstChild);
            var f = "\u2028\u2028"
              , g = !1
              , p = !1
              , m = !1
              , v = ""
              , A = !0;
            try {
                var w = document.activeElement === d
            } catch (e) {}
            i.addListener(d, "blur", function(e) {
                t.onBlur(e),
                w = !1
            }),
            i.addListener(d, "focus", function(e) {
                w = !0,
                t.onFocus(e),
                n()
            }),
            this.focus = function() {
                if (v)
                    return d.focus();
                var e = d.style.top;
                d.style.position = "fixed",
                d.style.top = "0px",
                d.focus(),
                setTimeout(function() {
                    d.style.position = "",
                    "0px" == d.style.top && (d.style.top = e)
                }, 0)
            }
            ,
            this.blur = function() {
                d.blur()
            }
            ,
            this.isFocused = function() {
                return w
            }
            ;
            var C = s.delayedCall(function() {
                w && n(A)
            })
              , y = s.delayedCall(function() {
                m || (d.value = f,
                w && n())
            });
            r.isWebKit || t.addEventListener("changeSelection", function() {
                t.selection.isEmpty() != A && (A = !A,
                C.schedule())
            }),
            u(),
            w && t.onFocus();
            var b = function(e) {
                return 0 === e.selectionStart && e.selectionEnd === e.value.length
            }
              , F = function(e) {
                g ? g = !1 : b(d) ? (t.selectAll(),
                n()) : E && n(t.selection.isEmpty())
            }
              , E = null;
            this.setInputHandler = function(e) {
                E = e
            }
            ,
            this.getInputHandler = function() {
                return E
            }
            ;
            var x = !1
              , S = function(e) {
                E && (e = E(e),
                E = null),
                p ? (n(),
                e && t.onPaste(e),
                p = !1) : e == f.charAt(0) ? x ? t.execCommand("del", {
                    source: "ace"
                }) : t.execCommand("backspace", {
                    source: "ace"
                }) : (e.substring(0, 2) == f ? e = e.substr(2) : e.charAt(0) == f.charAt(0) ? e = e.substr(1) : e.charAt(e.length - 1) == f.charAt(0) && (e = e.slice(0, -1)),
                e.charAt(e.length - 1) == f.charAt(0) && (e = e.slice(0, -1)),
                e && t.onTextInput(e)),
                x && (x = !1)
            }
              , k = function(e) {
                if (!m) {
                    var t = d.value;
                    S(t),
                    u()
                }
            }
              , $ = function(e, t, n) {
                var i = e.clipboardData || window.clipboardData;
                if (i && !a) {
                    var r = l || n ? "Text" : "text/plain";
                    try {
                        return t ? !1 !== i.setData(r, t) : i.getData(r)
                    } catch (e) {
                        if (!n)
                            return $(e, t, !0)
                    }
                }
            }
              , B = function(e, r) {
                var o = t.getCopyText();
                if (!o)
                    return i.preventDefault(e);
                $(e, o) ? (r ? t.onCut() : t.onCopy(),
                i.preventDefault(e)) : (g = !0,
                d.value = o,
                d.select(),
                setTimeout(function() {
                    g = !1,
                    u(),
                    n(),
                    r ? t.onCut() : t.onCopy()
                }))
            }
              , D = function(e) {
                B(e, !0)
            }
              , M = function(e) {
                B(e, !1)
            }
              , L = function(e) {
                var o = $(e);
                "string" == typeof o ? (o && t.onPaste(o, e),
                r.isIE && setTimeout(n),
                i.preventDefault(e)) : (d.value = "",
                p = !0)
            };
            i.addCommandKeyListener(d, t.onCommandKey.bind(t)),
            i.addListener(d, "select", F),
            i.addListener(d, "input", k),
            i.addListener(d, "cut", D),
            i.addListener(d, "copy", M),
            i.addListener(d, "paste", L),
            "oncut"in d && "oncopy"in d && "onpaste"in d || i.addListener(e, "keydown", function(e) {
                if ((!r.isMac || e.metaKey) && e.ctrlKey)
                    switch (e.keyCode) {
                    case 67:
                        M(e);
                        break;
                    case 86:
                        L(e);
                        break;
                    case 88:
                        D(e)
                    }
            });
            var _ = function(e) {
                m || !t.onCompositionStart || t.$readOnly || (m = {},
                m.canUndo = t.session.$undoManager,
                t.onCompositionStart(),
                setTimeout(R, 0),
                t.on("mousedown", T),
                m.canUndo && !t.selection.isEmpty() && (t.insert(""),
                t.session.markUndoGroup(),
                t.selection.clearSelection()),
                t.session.markUndoGroup())
            }
              , R = function() {
                if (m && t.onCompositionUpdate && !t.$readOnly) {
                    var e = d.value.replace(/\u2028/g, "");
                    if (m.lastValue !== e && (t.onCompositionUpdate(e),
                    m.lastValue && t.undo(),
                    m.canUndo && (m.lastValue = e),
                    m.lastValue)) {
                        var n = t.selection.getRange();
                        t.insert(m.lastValue),
                        t.session.markUndoGroup(),
                        m.range = t.selection.getRange(),
                        t.selection.setRange(n),
                        t.selection.clearSelection()
                    }
                }
            }
              , T = function(e) {
                if (t.onCompositionEnd && !t.$readOnly) {
                    var n = m;
                    m = !1;
                    var i = setTimeout(function() {
                        i = null;
                        var e = d.value.replace(/\u2028/g, "");
                        m || (e == n.lastValue ? u() : !n.lastValue && e && (u(),
                        S(e)))
                    });
                    E = function(e) {
                        return i && clearTimeout(i),
                        (e = e.replace(/\u2028/g, "")) == n.lastValue ? "" : (n.lastValue && i && t.undo(),
                        e)
                    }
                    ,
                    t.onCompositionEnd(),
                    t.removeListener("mousedown", T),
                    "compositionend" == e.type && n.range && t.selection.setRange(n.range);
                    (!!r.isChrome && r.isChrome >= 53 || !!r.isWebKit && r.isWebKit >= 603) && k()
                }
            }
              , I = s.delayedCall(R, 50);
            i.addListener(d, "compositionstart", _),
            r.isGecko ? i.addListener(d, "text", function() {
                I.schedule()
            }) : (i.addListener(d, "keyup", function() {
                I.schedule()
            }),
            i.addListener(d, "keydown", function() {
                I.schedule()
            })),
            i.addListener(d, "compositionend", T),
            this.getElement = function() {
                return d
            }
            ,
            this.setReadOnly = function(e) {
                d.readOnly = e
            }
            ,
            this.onContextMenu = function(e) {
                x = !0,
                n(t.selection.isEmpty()),
                t._emit("nativecontextmenu", {
                    target: t,
                    domEvent: e
                }),
                this.moveToMouse(e, !0)
            }
            ,
            this.moveToMouse = function(e, n) {
                v || (v = d.style.cssText),
                d.style.cssText = (n ? "z-index:100000;" : "") + "height:" + d.style.height + ";" + (r.isIE ? "opacity:0.1;" : "");
                var s = t.container.getBoundingClientRect()
                  , a = o.computedStyle(t.container)
                  , l = s.top + (parseInt(a.borderTopWidth) || 0)
                  , c = s.left + (parseInt(s.borderLeftWidth) || 0)
                  , u = s.bottom - l - d.clientHeight - 2
                  , f = function(e) {
                    d.style.left = e.clientX - c - 2 + "px",
                    d.style.top = Math.min(e.clientY - l - 2, u) + "px"
                };
                f(e),
                "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null),
                clearTimeout(O),
                r.isWin && i.capture(t.container, f, h))
            }
            ,
            this.onContextMenuClose = h;
            var O, N = function(e) {
                t.textInput.onContextMenu(e),
                h()
            };
            i.addListener(d, "mouseup", N),
            i.addListener(d, "mousedown", function(e) {
                e.preventDefault(),
                h()
            }),
            i.addListener(t.renderer.scroller, "contextmenu", N),
            i.addListener(d, "contextmenu", N)
        };
        t.TextInput = u
    }),
    ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
        "use strict";
        function i(e) {
            e.$clickSelection = null;
            var t = e.editor;
            t.setDefaultHandler("mousedown", this.onMouseDown.bind(e)),
            t.setDefaultHandler("dblclick", this.onDoubleClick.bind(e)),
            t.setDefaultHandler("tripleclick", this.onTripleClick.bind(e)),
            t.setDefaultHandler("quadclick", this.onQuadClick.bind(e)),
            t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(e)),
            t.setDefaultHandler("touchmove", this.onTouchMove.bind(e)),
            ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"].forEach(function(t) {
                e[t] = this[t]
            }, this),
            e.selectByLines = this.extendSelectionBy.bind(e, "getLineRange"),
            e.selectByWords = this.extendSelectionBy.bind(e, "getWordRange")
        }
        function r(e, t, n, i) {
            return Math.sqrt(Math.pow(n - e, 2) + Math.pow(i - t, 2))
        }
        function o(e, t) {
            if (e.start.row == e.end.row)
                var n = 2 * t.column - e.start.column - e.end.column;
            else if (e.start.row != e.end.row - 1 || e.start.column || e.end.column)
                var n = 2 * t.row - e.start.row - e.end.row;
            else
                var n = t.column - 4;
            return n < 0 ? {
                cursor: e.start,
                anchor: e.end
            } : {
                cursor: e.end,
                anchor: e.start
            }
        }
        var s = (e("../lib/dom"),
        e("../lib/event"),
        e("../lib/useragent"));
        (function() {
            this.onMouseDown = function(e) {
                var t = e.inSelection()
                  , n = e.getDocumentPosition();
                this.mousedownEvent = e;
                var i = this.editor
                  , r = e.getButton();
                if (0 !== r) {
                    var o = i.getSelectionRange()
                      , a = o.isEmpty();
                    return i.$blockScrolling++,
                    (a || 1 == r) && i.selection.moveToPosition(n),
                    i.$blockScrolling--,
                    void (2 == r && (i.textInput.onContextMenu(e.domEvent),
                    s.isMozilla || e.preventDefault()))
                }
                return this.mousedownEvent.time = Date.now(),
                !t || i.isFocused() || (i.focus(),
                !this.$focusTimout || this.$clickSelection || i.inMultiSelectMode) ? (this.captureMouse(e),
                this.startSelect(n, e.domEvent._clicks > 1),
                e.preventDefault()) : (this.setState("focusWait"),
                void this.captureMouse(e))
            }
            ,
            this.startSelect = function(e, t) {
                e = e || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
                var n = this.editor;
                n.$blockScrolling++,
                this.mousedownEvent.getShiftKey() ? n.selection.selectToPosition(e) : t || n.selection.moveToPosition(e),
                t || this.select(),
                n.renderer.scroller.setCapture && n.renderer.scroller.setCapture(),
                n.setStyle("ace_selecting"),
                this.setState("select"),
                n.$blockScrolling--
            }
            ,
            this.select = function() {
                var e, t = this.editor, n = t.renderer.screenToTextCoordinates(this.x, this.y);
                if (t.$blockScrolling++,
                this.$clickSelection) {
                    var i = this.$clickSelection.comparePoint(n);
                    if (-1 == i)
                        e = this.$clickSelection.end;
                    else if (1 == i)
                        e = this.$clickSelection.start;
                    else {
                        var r = o(this.$clickSelection, n);
                        n = r.cursor,
                        e = r.anchor
                    }
                    t.selection.setSelectionAnchor(e.row, e.column)
                }
                t.selection.selectToPosition(n),
                t.$blockScrolling--,
                t.renderer.scrollCursorIntoView()
            }
            ,
            this.extendSelectionBy = function(e) {
                var t, n = this.editor, i = n.renderer.screenToTextCoordinates(this.x, this.y), r = n.selection[e](i.row, i.column);
                if (n.$blockScrolling++,
                this.$clickSelection) {
                    var s = this.$clickSelection.comparePoint(r.start)
                      , a = this.$clickSelection.comparePoint(r.end);
                    if (-1 == s && a <= 0)
                        t = this.$clickSelection.end,
                        r.end.row == i.row && r.end.column == i.column || (i = r.start);
                    else if (1 == a && s >= 0)
                        t = this.$clickSelection.start,
                        r.start.row == i.row && r.start.column == i.column || (i = r.end);
                    else if (-1 == s && 1 == a)
                        i = r.end,
                        t = r.start;
                    else {
                        var l = o(this.$clickSelection, i);
                        i = l.cursor,
                        t = l.anchor
                    }
                    n.selection.setSelectionAnchor(t.row, t.column)
                }
                n.selection.selectToPosition(i),
                n.$blockScrolling--,
                n.renderer.scrollCursorIntoView()
            }
            ,
            this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
                this.$clickSelection = null,
                this.editor.unsetStyle("ace_selecting"),
                this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture()
            }
            ,
            this.focusWait = function() {
                var e = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y)
                  , t = Date.now();
                (e > 0 || t - this.mousedownEvent.time > this.$focusTimout) && this.startSelect(this.mousedownEvent.getDocumentPosition())
            }
            ,
            this.onDoubleClick = function(e) {
                var t = e.getDocumentPosition()
                  , n = this.editor
                  , i = n.session
                  , r = i.getBracketRange(t);
                r ? (r.isEmpty() && (r.start.column--,
                r.end.column++),
                this.setState("select")) : (r = n.selection.getWordRange(t.row, t.column),
                this.setState("selectByWords")),
                this.$clickSelection = r,
                this.select()
            }
            ,
            this.onTripleClick = function(e) {
                var t = e.getDocumentPosition()
                  , n = this.editor;
                this.setState("selectByLines");
                var i = n.getSelectionRange();
                i.isMultiLine() && i.contains(t.row, t.column) ? (this.$clickSelection = n.selection.getLineRange(i.start.row),
                this.$clickSelection.end = n.selection.getLineRange(i.end.row).end) : this.$clickSelection = n.selection.getLineRange(t.row),
                this.select()
            }
            ,
            this.onQuadClick = function(e) {
                var t = this.editor;
                t.selectAll(),
                this.$clickSelection = t.getSelectionRange(),
                this.setState("selectAll")
            }
            ,
            this.onMouseWheel = function(e) {
                if (!e.getAccelKey()) {
                    e.getShiftKey() && e.wheelY && !e.wheelX && (e.wheelX = e.wheelY,
                    e.wheelY = 0);
                    var t = this.editor;
                    this.$lastScroll || (this.$lastScroll = {
                        t: 0,
                        vx: 0,
                        vy: 0,
                        allowed: 0
                    });
                    var n = this.$lastScroll
                      , i = e.domEvent.timeStamp
                      , r = i - n.t
                      , o = e.wheelX / r
                      , s = e.wheelY / r;
                    r < 250 && (o = (o + n.vx) / 2,
                    s = (s + n.vy) / 2);
                    var a = Math.abs(o / s)
                      , l = !1;
                    if (a >= 1 && t.renderer.isScrollableBy(e.wheelX * e.speed, 0) && (l = !0),
                    a <= 1 && t.renderer.isScrollableBy(0, e.wheelY * e.speed) && (l = !0),
                    l)
                        n.allowed = i;
                    else if (i - n.allowed < 250) {
                        var c = Math.abs(o) <= 1.1 * Math.abs(n.vx) && Math.abs(s) <= 1.1 * Math.abs(n.vy);
                        c ? (l = !0,
                        n.allowed = i) : n.allowed = 0
                    }
                    return n.t = i,
                    n.vx = o,
                    n.vy = s,
                    l ? (t.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed),
                    e.stop()) : void 0
                }
            }
            ,
            this.onTouchMove = function(e) {
                this.editor._emit("mousewheel", e)
            }
        }
        ).call(i.prototype),
        t.DefaultHandlers = i
    }),
    ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom"], function(e, t, n) {
        "use strict";
        function i(e) {
            this.isOpen = !1,
            this.$element = null,
            this.$parentNode = e
        }
        var r = (e("./lib/oop"),
        e("./lib/dom"));
        (function() {
            this.$init = function() {
                return this.$element = r.createElement("div"),
                this.$element.className = "ace_tooltip",
                this.$element.style.display = "none",
                this.$parentNode.appendChild(this.$element),
                this.$element
            }
            ,
            this.getElement = function() {
                return this.$element || this.$init()
            }
            ,
            this.setText = function(e) {
                r.setInnerText(this.getElement(), e)
            }
            ,
            this.setHtml = function(e) {
                this.getElement().innerHTML = e
            }
            ,
            this.setPosition = function(e, t) {
                this.getElement().style.left = e + "px",
                this.getElement().style.top = t + "px"
            }
            ,
            this.setClassName = function(e) {
                r.addCssClass(this.getElement(), e)
            }
            ,
            this.show = function(e, t, n) {
                null != e && this.setText(e),
                null != t && null != n && this.setPosition(t, n),
                this.isOpen || (this.getElement().style.display = "block",
                this.isOpen = !0)
            }
            ,
            this.hide = function() {
                this.isOpen && (this.getElement().style.display = "none",
                this.isOpen = !1)
            }
            ,
            this.getHeight = function() {
                return this.getElement().offsetHeight
            }
            ,
            this.getWidth = function() {
                return this.getElement().offsetWidth
            }
            ,
            this.destroy = function() {
                this.isOpen = !1,
                this.$element && this.$element.parentNode && this.$element.parentNode.removeChild(this.$element)
            }
        }
        ).call(i.prototype),
        t.Tooltip = i
    }),
    ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip"], function(e, t, n) {
        "use strict";
        function i(e) {
            function t() {
                var t = h.getDocumentPosition().row
                  , r = l.$annotations[t];
                if (!r)
                    return n();
                if (t == s.session.getLength()) {
                    var o = s.renderer.pixelToScreenCoordinates(0, h.y).row
                      , a = h.$pos;
                    if (o > s.session.documentToScreenRow(a.row, a.column))
                        return n()
                }
                if (d != r)
                    if (d = r.text.join("<br/>"),
                    c.setHtml(d),
                    c.show(),
                    s._signal("showGutterTooltip", c),
                    s.on("mousewheel", n),
                    e.$tooltipFollowsMouse)
                        i(h);
                    else {
                        var u = h.domEvent.target
                          , f = u.getBoundingClientRect()
                          , g = c.getElement().style;
                        g.left = f.right + "px",
                        g.top = f.bottom + "px"
                    }
            }
            function n() {
                u && (u = clearTimeout(u)),
                d && (c.hide(),
                d = null,
                s._signal("hideGutterTooltip", c),
                s.removeEventListener("mousewheel", n))
            }
            function i(e) {
                c.setPosition(e.x, e.y)
            }
            var s = e.editor
              , l = s.renderer.$gutterLayer
              , c = new r(s.container);
            e.editor.setDefaultHandler("guttermousedown", function(t) {
                if (s.isFocused() && 0 == t.getButton()) {
                    if ("foldWidgets" != l.getRegion(t)) {
                        var n = t.getDocumentPosition().row
                          , i = s.session.selection;
                        if (t.getShiftKey())
                            i.selectTo(n, 0);
                        else {
                            if (2 == t.domEvent.detail)
                                return s.selectAll(),
                                t.preventDefault();
                            e.$clickSelection = s.selection.getLineRange(n)
                        }
                        return e.setState("selectByLines"),
                        e.captureMouse(t),
                        t.preventDefault()
                    }
                }
            });
            var u, h, d;
            e.editor.setDefaultHandler("guttermousemove", function(r) {
                var s = r.domEvent.target || r.domEvent.srcElement;
                if (o.hasCssClass(s, "ace_fold-widget"))
                    return n();
                d && e.$tooltipFollowsMouse && i(r),
                h = r,
                u || (u = setTimeout(function() {
                    u = null,
                    h && !e.isMousePressed ? t() : n()
                }, 50))
            }),
            a.addListener(s.renderer.$gutter, "mouseout", function(e) {
                h = null,
                d && !u && (u = setTimeout(function() {
                    u = null,
                    n()
                }, 50))
            }),
            s.on("changeSession", n)
        }
        function r(e) {
            l.call(this, e)
        }
        var o = e("../lib/dom")
          , s = e("../lib/oop")
          , a = e("../lib/event")
          , l = e("../tooltip").Tooltip;
        s.inherits(r, l),
        function() {
            this.setPosition = function(e, t) {
                var n = window.innerWidth || document.documentElement.clientWidth
                  , i = window.innerHeight || document.documentElement.clientHeight
                  , r = this.getWidth()
                  , o = this.getHeight();
                e += 15,
                t += 15,
                e + r > n && (e -= e + r - n),
                t + o > i && (t -= 20 + o),
                l.prototype.setPosition.call(this, e, t)
            }
        }
        .call(r.prototype),
        t.GutterHandler = i
    }),
    ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
        "use strict";
        var i = e("../lib/event")
          , r = e("../lib/useragent")
          , o = t.MouseEvent = function(e, t) {
            this.domEvent = e,
            this.editor = t,
            this.x = this.clientX = e.clientX,
            this.y = this.clientY = e.clientY,
            this.$pos = null,
            this.$inSelection = null,
            this.propagationStopped = !1,
            this.defaultPrevented = !1
        }
        ;
        (function() {
            this.stopPropagation = function() {
                i.stopPropagation(this.domEvent),
                this.propagationStopped = !0
            }
            ,
            this.preventDefault = function() {
                i.preventDefault(this.domEvent),
                this.defaultPrevented = !0
            }
            ,
            this.stop = function() {
                this.stopPropagation(),
                this.preventDefault()
            }
            ,
            this.getDocumentPosition = function() {
                return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY),
                this.$pos)
            }
            ,
            this.inSelection = function() {
                if (null !== this.$inSelection)
                    return this.$inSelection;
                var e = this.editor
                  , t = e.getSelectionRange();
                if (t.isEmpty())
                    this.$inSelection = !1;
                else {
                    var n = this.getDocumentPosition();
                    this.$inSelection = t.contains(n.row, n.column)
                }
                return this.$inSelection
            }
            ,
            this.getButton = function() {
                return i.getButton(this.domEvent)
            }
            ,
            this.getShiftKey = function() {
                return this.domEvent.shiftKey
            }
            ,
            this.getAccelKey = r.isMac ? function() {
                return this.domEvent.metaKey
            }
            : function() {
                return this.domEvent.ctrlKey
            }
        }
        ).call(o.prototype)
    }),
    ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
        "use strict";
        function i(e) {
            function t(e, t) {
                var n = Date.now()
                  , i = !t || e.row != t.row
                  , o = !t || e.column != t.column;
                if (!k || i || o)
                    m.$blockScrolling += 1,
                    m.moveCursorToPosition(e),
                    m.$blockScrolling -= 1,
                    k = n,
                    $ = {
                        x: w,
                        y: C
                    };
                else {
                    r($.x, $.y, w, C) > u ? k = null : n - k >= c && (m.renderer.scrollCursorIntoView(),
                    k = null)
                }
            }
            function n(e, t) {
                var n = Date.now()
                  , i = m.renderer.layerConfig.lineHeight
                  , r = m.renderer.layerConfig.characterWidth
                  , o = m.renderer.scroller.getBoundingClientRect()
                  , s = {
                    x: {
                        left: w - o.left,
                        right: o.right - w
                    },
                    y: {
                        top: C - o.top,
                        bottom: o.bottom - C
                    }
                }
                  , a = Math.min(s.x.left, s.x.right)
                  , c = Math.min(s.y.top, s.y.bottom)
                  , u = {
                    row: e.row,
                    column: e.column
                };
                a / r <= 2 && (u.column += s.x.left < s.x.right ? -3 : 2),
                c / i <= 1 && (u.row += s.y.top < s.y.bottom ? -1 : 1);
                var h = e.row != u.row
                  , d = e.column != u.column
                  , f = !t || e.row != t.row;
                h || d && !f ? S ? n - S >= l && m.renderer.scrollCursorIntoView(u) : S = n : S = null
            }
            function i() {
                var e = F;
                F = m.renderer.screenToTextCoordinates(w, C),
                t(F, e),
                n(F, e)
            }
            function h() {
                b = m.selection.toOrientedRange(),
                A = m.session.addMarker(b, "ace_selection", m.getSelectionStyle()),
                m.clearSelection(),
                m.isFocused() && m.renderer.$cursorLayer.setBlinking(!1),
                clearInterval(y),
                i(),
                y = setInterval(i, 20),
                D = 0,
                s.addListener(document, "mousemove", f)
            }
            function d() {
                clearInterval(y),
                m.session.removeMarker(A),
                A = null,
                m.$blockScrolling += 1,
                m.selection.fromOrientedRange(b),
                m.$blockScrolling -= 1,
                m.isFocused() && !x && m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),
                b = null,
                F = null,
                D = 0,
                S = null,
                k = null,
                s.removeListener(document, "mousemove", f)
            }
            function f() {
                null == M && (M = setTimeout(function() {
                    null != M && A && d()
                }, 20))
            }
            function g(e) {
                var t = e.types;
                return !t || Array.prototype.some.call(t, function(e) {
                    return "text/plain" == e || "Text" == e
                })
            }
            function p(e) {
                var t = ["copy", "copymove", "all", "uninitialized"]
                  , n = ["move", "copymove", "linkmove", "all", "uninitialized"]
                  , i = a.isMac ? e.altKey : e.ctrlKey
                  , r = "uninitialized";
                try {
                    r = e.dataTransfer.effectAllowed.toLowerCase()
                } catch (e) {}
                var o = "none";
                return i && t.indexOf(r) >= 0 ? o = "copy" : n.indexOf(r) >= 0 ? o = "move" : t.indexOf(r) >= 0 && (o = "copy"),
                o
            }
            var m = e.editor
              , v = o.createElement("img");
            v.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",
            a.isOpera && (v.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),
            ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"].forEach(function(t) {
                e[t] = this[t]
            }, this),
            m.addEventListener("mousedown", this.onMouseDown.bind(e));
            var A, w, C, y, b, F, E, x, S, k, $, B = m.container, D = 0;
            this.onDragStart = function(e) {
                if (this.cancelDrag || !B.draggable) {
                    var t = this;
                    return setTimeout(function() {
                        t.startSelect(),
                        t.captureMouse(e)
                    }, 0),
                    e.preventDefault()
                }
                b = m.getSelectionRange();
                var n = e.dataTransfer;
                n.effectAllowed = m.getReadOnly() ? "copy" : "copyMove",
                a.isOpera && (m.container.appendChild(v),
                v.scrollTop = 0),
                n.setDragImage && n.setDragImage(v, 0, 0),
                a.isOpera && m.container.removeChild(v),
                n.clearData(),
                n.setData("Text", m.session.getTextRange()),
                x = !0,
                this.setState("drag")
            }
            ,
            this.onDragEnd = function(e) {
                if (B.draggable = !1,
                x = !1,
                this.setState(null),
                !m.getReadOnly()) {
                    var t = e.dataTransfer.dropEffect;
                    E || "move" != t || m.session.remove(m.getSelectionRange()),
                    m.renderer.$cursorLayer.setBlinking(!0)
                }
                this.editor.unsetStyle("ace_dragging"),
                this.editor.renderer.setCursorStyle("")
            }
            ,
            this.onDragEnter = function(e) {
                if (!m.getReadOnly() && g(e.dataTransfer))
                    return w = e.clientX,
                    C = e.clientY,
                    A || h(),
                    D++,
                    e.dataTransfer.dropEffect = E = p(e),
                    s.preventDefault(e)
            }
            ,
            this.onDragOver = function(e) {
                if (!m.getReadOnly() && g(e.dataTransfer))
                    return w = e.clientX,
                    C = e.clientY,
                    A || (h(),
                    D++),
                    null !== M && (M = null),
                    e.dataTransfer.dropEffect = E = p(e),
                    s.preventDefault(e)
            }
            ,
            this.onDragLeave = function(e) {
                if (--D <= 0 && A)
                    return d(),
                    E = null,
                    s.preventDefault(e)
            }
            ,
            this.onDrop = function(e) {
                if (F) {
                    var t = e.dataTransfer;
                    if (x)
                        switch (E) {
                        case "move":
                            b = b.contains(F.row, F.column) ? {
                                start: F,
                                end: F
                            } : m.moveText(b, F);
                            break;
                        case "copy":
                            b = m.moveText(b, F, !0)
                        }
                    else {
                        var n = t.getData("Text");
                        b = {
                            start: F,
                            end: m.session.insert(F, n)
                        },
                        m.focus(),
                        E = null
                    }
                    return d(),
                    s.preventDefault(e)
                }
            }
            ,
            s.addListener(B, "dragstart", this.onDragStart.bind(e)),
            s.addListener(B, "dragend", this.onDragEnd.bind(e)),
            s.addListener(B, "dragenter", this.onDragEnter.bind(e)),
            s.addListener(B, "dragover", this.onDragOver.bind(e)),
            s.addListener(B, "dragleave", this.onDragLeave.bind(e)),
            s.addListener(B, "drop", this.onDrop.bind(e));
            var M = null
        }
        function r(e, t, n, i) {
            return Math.sqrt(Math.pow(n - e, 2) + Math.pow(i - t, 2))
        }
        var o = e("../lib/dom")
          , s = e("../lib/event")
          , a = e("../lib/useragent")
          , l = 200
          , c = 200
          , u = 5;
        (function() {
            this.dragWait = function() {
                Date.now() - this.mousedownEvent.time > this.editor.getDragDelay() && this.startDrag()
            }
            ,
            this.dragWaitEnd = function() {
                this.editor.container.draggable = !1,
                this.startSelect(this.mousedownEvent.getDocumentPosition()),
                this.selectEnd()
            }
            ,
            this.dragReadyEnd = function(e) {
                this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),
                this.editor.unsetStyle("ace_dragging"),
                this.editor.renderer.setCursorStyle(""),
                this.dragWaitEnd()
            }
            ,
            this.startDrag = function() {
                this.cancelDrag = !1;
                var e = this.editor;
                e.container.draggable = !0,
                e.renderer.$cursorLayer.setBlinking(!1),
                e.setStyle("ace_dragging");
                var t = a.isWin ? "default" : "move";
                e.renderer.setCursorStyle(t),
                this.setState("dragReady")
            }
            ,
            this.onMouseDrag = function(e) {
                var t = this.editor.container;
                if (a.isIE && "dragReady" == this.state) {
                    var n = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
                    n > 3 && t.dragDrop()
                }
                if ("dragWait" === this.state) {
                    var n = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
                    n > 0 && (t.draggable = !1,
                    this.startSelect(this.mousedownEvent.getDocumentPosition()))
                }
            }
            ,
            this.onMouseDown = function(e) {
                if (this.$dragEnabled) {
                    this.mousedownEvent = e;
                    var t = this.editor
                      , n = e.inSelection()
                      , i = e.getButton();
                    if (1 === (e.domEvent.detail || 1) && 0 === i && n) {
                        if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))
                            return;
                        this.mousedownEvent.time = Date.now();
                        var r = e.domEvent.target || e.domEvent.srcElement;
                        if ("unselectable"in r && (r.unselectable = "on"),
                        t.getDragDelay()) {
                            if (a.isWebKit) {
                                this.cancelDrag = !0;
                                t.container.draggable = !0
                            }
                            this.setState("dragWait")
                        } else
                            this.startDrag();
                        this.captureMouse(e, this.onMouseDrag.bind(this)),
                        e.defaultPrevented = !0
                    }
                }
            }
        }
        ).call(i.prototype),
        t.DragdropHandler = i
    }),
    ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
        "use strict";
        var i = e("./dom");
        t.get = function(e, t) {
            var n = new XMLHttpRequest;
            n.open("GET", e, !0),
            n.onreadystatechange = function() {
                4 === n.readyState && t(n.responseText)
            }
            ,
            n.send(null)
        }
        ,
        t.loadScript = function(e, t) {
            var n = i.getDocumentHead()
              , r = document.createElement("script");
            r.src = e,
            n.appendChild(r),
            r.onload = r.onreadystatechange = function(e, n) {
                !n && r.readyState && "loaded" != r.readyState && "complete" != r.readyState || (r = r.onload = r.onreadystatechange = null,
                n || t())
            }
        }
        ,
        t.qualifyURL = function(e) {
            var t = document.createElement("a");
            return t.href = e,
            t.href
        }
    }),
    ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        var i = {}
          , r = function() {
            this.propagationStopped = !0
        }
          , o = function() {
            this.defaultPrevented = !0
        };
        i._emit = i._dispatchEvent = function(e, t) {
            this._eventRegistry || (this._eventRegistry = {}),
            this._defaultHandlers || (this._defaultHandlers = {});
            var n = this._eventRegistry[e] || []
              , i = this._defaultHandlers[e];
            if (n.length || i) {
                "object" == typeof t && t || (t = {}),
                t.type || (t.type = e),
                t.stopPropagation || (t.stopPropagation = r),
                t.preventDefault || (t.preventDefault = o),
                n = n.slice();
                for (var s = 0; s < n.length && (n[s](t, this),
                !t.propagationStopped); s++)
                    ;
                return i && !t.defaultPrevented ? i(t, this) : void 0
            }
        }
        ,
        i._signal = function(e, t) {
            var n = (this._eventRegistry || {})[e];
            if (n) {
                n = n.slice();
                for (var i = 0; i < n.length; i++)
                    n[i](t, this)
            }
        }
        ,
        i.once = function(e, t) {
            var n = this;
            t && this.addEventListener(e, function i() {
                n.removeEventListener(e, i),
                t.apply(null, arguments)
            })
        }
        ,
        i.setDefaultHandler = function(e, t) {
            var n = this._defaultHandlers;
            if (n || (n = this._defaultHandlers = {
                _disabled_: {}
            }),
            n[e]) {
                var i = n[e]
                  , r = n._disabled_[e];
                r || (n._disabled_[e] = r = []),
                r.push(i);
                var o = r.indexOf(t);
                -1 != o && r.splice(o, 1)
            }
            n[e] = t
        }
        ,
        i.removeDefaultHandler = function(e, t) {
            var n = this._defaultHandlers;
            if (n) {
                var i = n._disabled_[e];
                if (n[e] == t) {
                    n[e];
                    i && this.setDefaultHandler(e, i.pop())
                } else if (i) {
                    var r = i.indexOf(t);
                    -1 != r && i.splice(r, 1)
                }
            }
        }
        ,
        i.on = i.addEventListener = function(e, t, n) {
            this._eventRegistry = this._eventRegistry || {};
            var i = this._eventRegistry[e];
            return i || (i = this._eventRegistry[e] = []),
            -1 == i.indexOf(t) && i[n ? "unshift" : "push"](t),
            t
        }
        ,
        i.off = i.removeListener = i.removeEventListener = function(e, t) {
            this._eventRegistry = this._eventRegistry || {};
            var n = this._eventRegistry[e];
            if (n) {
                var i = n.indexOf(t);
                -1 !== i && n.splice(i, 1)
            }
        }
        ,
        i.removeAllListeners = function(e) {
            this._eventRegistry && (this._eventRegistry[e] = [])
        }
        ,
        t.EventEmitter = i
    }),
    ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, n) {
        "no use strict";
        function i(e) {
            "undefined" != typeof console && console.warn && console.warn.apply(console, arguments)
        }
        function r(e, t) {
            var n = new Error(e);
            n.data = t,
            "object" == typeof console && console.error && console.error(n),
            setTimeout(function() {
                throw n
            })
        }
        var o = e("./oop")
          , s = e("./event_emitter").EventEmitter
          , a = {
            setOptions: function(e) {
                Object.keys(e).forEach(function(t) {
                    this.setOption(t, e[t])
                }, this)
            },
            getOptions: function(e) {
                var t = {};
                return e ? Array.isArray(e) || (t = e,
                e = Object.keys(t)) : e = Object.keys(this.$options),
                e.forEach(function(e) {
                    t[e] = this.getOption(e)
                }, this),
                t
            },
            setOption: function(e, t) {
                if (this["$" + e] !== t) {
                    var n = this.$options[e];
                    if (!n)
                        return i('misspelled option "' + e + '"');
                    if (n.forwardTo)
                        return this[n.forwardTo] && this[n.forwardTo].setOption(e, t);
                    n.handlesSet || (this["$" + e] = t),
                    n && n.set && n.set.call(this, t)
                }
            },
            getOption: function(e) {
                var t = this.$options[e];
                return t ? t.forwardTo ? this[t.forwardTo] && this[t.forwardTo].getOption(e) : t && t.get ? t.get.call(this) : this["$" + e] : i('misspelled option "' + e + '"')
            }
        }
          , l = function() {
            this.$defaultOptions = {}
        };
        (function() {
            o.implement(this, s),
            this.defineOptions = function(e, t, n) {
                return e.$options || (this.$defaultOptions[t] = e.$options = {}),
                Object.keys(n).forEach(function(t) {
                    var i = n[t];
                    "string" == typeof i && (i = {
                        forwardTo: i
                    }),
                    i.name || (i.name = t),
                    e.$options[i.name] = i,
                    "initialValue"in i && (e["$" + i.name] = i.initialValue)
                }),
                o.implement(e, a),
                this
            }
            ,
            this.resetOptions = function(e) {
                Object.keys(e.$options).forEach(function(t) {
                    var n = e.$options[t];
                    "value"in n && e.setOption(t, n.value)
                })
            }
            ,
            this.setDefaultValue = function(e, t, n) {
                var i = this.$defaultOptions[e] || (this.$defaultOptions[e] = {});
                i[t] && (i.forwardTo ? this.setDefaultValue(i.forwardTo, t, n) : i[t].value = n)
            }
            ,
            this.setDefaultValues = function(e, t) {
                Object.keys(t).forEach(function(n) {
                    this.setDefaultValue(e, n, t[n])
                }, this)
            }
            ,
            this.warn = i,
            this.reportError = r
        }
        ).call(l.prototype),
        t.AppConfig = l
    }),
    ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/app_config"], function(e, t, i) {
        "no use strict";
        function r(r) {
            if (c && c.document) {
                u.packaged = r || e.packaged || i.packaged || c.define && n(0).packaged;
                for (var s = {}, a = "", l = document.currentScript || document._currentScript, h = l && l.ownerDocument || document, d = h.getElementsByTagName("script"), f = 0; f < d.length; f++) {
                    var g = d[f]
                      , p = g.src || g.getAttribute("src");
                    if (p) {
                        for (var m = g.attributes, v = 0, A = m.length; v < A; v++) {
                            var w = m[v];
                            0 === w.name.indexOf("data-ace-") && (s[o(w.name.replace(/^data-ace-/, ""))] = w.value)
                        }
                        var C = p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
                        C && (a = C[1])
                    }
                }
                a && (s.base = s.base || a,
                s.packaged = !0),
                s.basePath = s.base,
                s.workerPath = s.workerPath || s.base,
                s.modePath = s.modePath || s.base,
                s.themePath = s.themePath || s.base,
                delete s.base;
                for (var y in s)
                    void 0 !== s[y] && t.set(y, s[y])
            }
        }
        function o(e) {
            return e.replace(/-(.)/g, function(e, t) {
                return t.toUpperCase()
            })
        }
        var s = e("./lib/lang")
          , a = (e("./lib/oop"),
        e("./lib/net"))
          , l = e("./lib/app_config").AppConfig;
        i.exports = t = new l;
        var c = function() {
            return this || "undefined" != typeof window && window
        }()
          , u = {
            packaged: !1,
            workerPath: null,
            modePath: null,
            themePath: null,
            basePath: "",
            suffix: ".js",
            $moduleUrls: {}
        };
        t.get = function(e) {
            if (!u.hasOwnProperty(e))
                throw new Error("Unknown config key: " + e);
            return u[e]
        }
        ,
        t.set = function(e, t) {
            if (!u.hasOwnProperty(e))
                throw new Error("Unknown config key: " + e);
            u[e] = t
        }
        ,
        t.all = function() {
            return s.copyObject(u)
        }
        ,
        t.moduleUrl = function(e, t) {
            if (u.$moduleUrls[e])
                return u.$moduleUrls[e];
            var n = e.split("/");
            t = t || n[n.length - 2] || "";
            var i = "snippets" == t ? "/" : "-"
              , r = n[n.length - 1];
            if ("worker" == t && "-" == i) {
                var o = new RegExp("^" + t + "[\\-_]|[\\-_]" + t + "$","g");
                r = r.replace(o, "")
            }
            (!r || r == t) && n.length > 1 && (r = n[n.length - 2]);
            var s = u[t + "Path"];
            return null == s ? s = u.basePath : "/" == i && (t = i = ""),
            s && "/" != s.slice(-1) && (s += "/"),
            s + t + i + r + this.get("suffix")
        }
        ,
        t.setModuleUrl = function(e, t) {
            return u.$moduleUrls[e] = t
        }
        ,
        t.$loading = {},
        t.loadModule = function(n, i) {
            var r, o;
            Array.isArray(n) && (o = n[0],
            n = n[1]);
            try {
                r = e(n)
            } catch (e) {}
            if (r && !t.$loading[n])
                return i && i(r);
            if (t.$loading[n] || (t.$loading[n] = []),
            t.$loading[n].push(i),
            !(t.$loading[n].length > 1)) {
                var s = function() {
                    e([n], function(e) {
                        t._emit("load.module", {
                            name: n,
                            module: e
                        });
                        var i = t.$loading[n];
                        t.$loading[n] = null,
                        i.forEach(function(t) {
                            t && t(e)
                        })
                    })
                };
                if (!t.get("packaged"))
                    return s();
                a.loadScript(t.moduleUrl(n, o), s)
            }
        }
        ,
        r(!0),
        t.init = r
    }),
    ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/config"], function(e, t, n) {
        "use strict";
        var i = e("../lib/event")
          , r = e("../lib/useragent")
          , o = e("./default_handlers").DefaultHandlers
          , s = e("./default_gutter_handler").GutterHandler
          , a = e("./mouse_event").MouseEvent
          , l = e("./dragdrop_handler").DragdropHandler
          , c = e("../config")
          , u = function(e) {
            var t = this;
            this.editor = e,
            new o(this),
            new s(this),
            new l(this);
            var n = function(t) {
                (!document.hasFocus || !document.hasFocus() || !e.isFocused() && document.activeElement == (e.textInput && e.textInput.getElement())) && window.focus(),
                e.focus()
            }
              , a = e.renderer.getMouseEventTarget();
            i.addListener(a, "click", this.onMouseEvent.bind(this, "click")),
            i.addListener(a, "mousemove", this.onMouseMove.bind(this, "mousemove")),
            i.addMultiMouseDownListener([a, e.renderer.scrollBarV && e.renderer.scrollBarV.inner, e.renderer.scrollBarH && e.renderer.scrollBarH.inner, e.textInput && e.textInput.getElement()].filter(Boolean), [400, 300, 250], this, "onMouseEvent"),
            i.addMouseWheelListener(e.container, this.onMouseWheel.bind(this, "mousewheel")),
            i.addTouchMoveListener(e.container, this.onTouchMove.bind(this, "touchmove"));
            var c = e.renderer.$gutter;
            i.addListener(c, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")),
            i.addListener(c, "click", this.onMouseEvent.bind(this, "gutterclick")),
            i.addListener(c, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")),
            i.addListener(c, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")),
            i.addListener(a, "mousedown", n),
            i.addListener(c, "mousedown", n),
            r.isIE && e.renderer.scrollBarV && (i.addListener(e.renderer.scrollBarV.element, "mousedown", n),
            i.addListener(e.renderer.scrollBarH.element, "mousedown", n)),
            e.on("mousemove", function(n) {
                if (!t.state && !t.$dragDelay && t.$dragEnabled) {
                    var i = e.renderer.screenToTextCoordinates(n.x, n.y)
                      , r = e.session.selection.getRange()
                      , o = e.renderer;
                    !r.isEmpty() && r.insideStart(i.row, i.column) ? o.setCursorStyle("default") : o.setCursorStyle("")
                }
            })
        };
        (function() {
            this.onMouseEvent = function(e, t) {
                this.editor._emit(e, new a(t,this.editor))
            }
            ,
            this.onMouseMove = function(e, t) {
                var n = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
                n && n.length && this.editor._emit(e, new a(t,this.editor))
            }
            ,
            this.onMouseWheel = function(e, t) {
                var n = new a(t,this.editor);
                n.speed = 2 * this.$scrollSpeed,
                n.wheelX = t.wheelX,
                n.wheelY = t.wheelY,
                this.editor._emit(e, n)
            }
            ,
            this.onTouchMove = function(e, t) {
                var n = new a(t,this.editor);
                n.speed = 1,
                n.wheelX = t.wheelX,
                n.wheelY = t.wheelY,
                this.editor._emit(e, n)
            }
            ,
            this.setState = function(e) {
                this.state = e
            }
            ,
            this.captureMouse = function(e, t) {
                this.x = e.x,
                this.y = e.y,
                this.isMousePressed = !0;
                var n = this.editor.renderer;
                n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = null);
                var o = this
                  , s = function(e) {
                    if (e) {
                        if (r.isWebKit && !e.which && o.releaseMouse)
                            return o.releaseMouse();
                        o.x = e.clientX,
                        o.y = e.clientY,
                        t && t(e),
                        o.mouseEvent = new a(e,o.editor),
                        o.$mouseMoved = !0
                    }
                }
                  , l = function(e) {
                    clearInterval(u),
                    c(),
                    o[o.state + "End"] && o[o.state + "End"](e),
                    o.state = "",
                    null == n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = !0,
                    n.$moveTextAreaToCursor()),
                    o.isMousePressed = !1,
                    o.$onCaptureMouseMove = o.releaseMouse = null,
                    e && o.onMouseEvent("mouseup", e)
                }
                  , c = function() {
                    o[o.state] && o[o.state](),
                    o.$mouseMoved = !1
                };
                if (r.isOldIE && "dblclick" == e.domEvent.type)
                    return setTimeout(function() {
                        l(e)
                    });
                o.$onCaptureMouseMove = s,
                o.releaseMouse = i.capture(this.editor.container, s, l);
                var u = setInterval(c, 20)
            }
            ,
            this.releaseMouse = null,
            this.cancelContextMenu = function() {
                var e = function(t) {
                    t && t.domEvent && "contextmenu" != t.domEvent.type || (this.editor.off("nativecontextmenu", e),
                    t && t.domEvent && i.stopEvent(t.domEvent))
                }
                .bind(this);
                setTimeout(e, 10),
                this.editor.on("nativecontextmenu", e)
            }
        }
        ).call(u.prototype),
        c.defineOptions(u.prototype, "mouseHandler", {
            scrollSpeed: {
                initialValue: 2
            },
            dragDelay: {
                initialValue: r.isMac ? 150 : 0
            },
            dragEnabled: {
                initialValue: !0
            },
            focusTimout: {
                initialValue: 0
            },
            tooltipFollowsMouse: {
                initialValue: !0
            }
        }),
        t.MouseHandler = u
    }),
    ace.define("ace/mouse/fold_handler", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        function i(e) {
            e.on("click", function(t) {
                var n = t.getDocumentPosition()
                  , i = e.session
                  , r = i.getFoldAt(n.row, n.column, 1);
                r && (t.getAccelKey() ? i.removeFold(r) : i.expandFold(r),
                t.stop())
            }),
            e.on("gutterclick", function(t) {
                if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
                    var n = t.getDocumentPosition().row
                      , i = e.session;
                    i.foldWidgets && i.foldWidgets[n] && e.session.onFoldWidgetClick(n, t),
                    e.isFocused() || e.focus(),
                    t.stop()
                }
            }),
            e.on("gutterdblclick", function(t) {
                if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
                    var n = t.getDocumentPosition().row
                      , i = e.session
                      , r = i.getParentFoldRangeData(n, !0)
                      , o = r.range || r.firstRange;
                    if (o) {
                        n = o.start.row;
                        var s = i.getFoldAt(n, i.getLine(n).length, 1);
                        s ? i.removeFold(s) : (i.addFold("...", o),
                        e.renderer.scrollCursorIntoView({
                            row: o.start.row,
                            column: 0
                        }))
                    }
                    t.stop()
                }
            })
        }
        t.FoldHandler = i
    }),
    ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(e, t, n) {
        "use strict";
        var i = e("../lib/keys")
          , r = e("../lib/event")
          , o = function(e) {
            this.$editor = e,
            this.$data = {
                editor: e
            },
            this.$handlers = [],
            this.setDefaultHandler(e.commands)
        };
        (function() {
            this.setDefaultHandler = function(e) {
                this.removeKeyboardHandler(this.$defaultHandler),
                this.$defaultHandler = e,
                this.addKeyboardHandler(e, 0)
            }
            ,
            this.setKeyboardHandler = function(e) {
                var t = this.$handlers;
                if (t[t.length - 1] != e) {
                    for (; t[t.length - 1] && t[t.length - 1] != this.$defaultHandler; )
                        this.removeKeyboardHandler(t[t.length - 1]);
                    this.addKeyboardHandler(e, 1)
                }
            }
            ,
            this.addKeyboardHandler = function(e, t) {
                if (e) {
                    "function" != typeof e || e.handleKeyboard || (e.handleKeyboard = e);
                    var n = this.$handlers.indexOf(e);
                    -1 != n && this.$handlers.splice(n, 1),
                    void 0 == t ? this.$handlers.push(e) : this.$handlers.splice(t, 0, e),
                    -1 == n && e.attach && e.attach(this.$editor)
                }
            }
            ,
            this.removeKeyboardHandler = function(e) {
                var t = this.$handlers.indexOf(e);
                return -1 != t && (this.$handlers.splice(t, 1),
                e.detach && e.detach(this.$editor),
                !0)
            }
            ,
            this.getKeyboardHandler = function() {
                return this.$handlers[this.$handlers.length - 1]
            }
            ,
            this.getStatusText = function() {
                var e = this.$data
                  , t = e.editor;
                return this.$handlers.map(function(n) {
                    return n.getStatusText && n.getStatusText(t, e) || ""
                }).filter(Boolean).join(" ")
            }
            ,
            this.$callKeyboardHandlers = function(e, t, n, i) {
                for (var o, s = !1, a = this.$editor.commands, l = this.$handlers.length; l-- && !((o = this.$handlers[l].handleKeyboard(this.$data, e, t, n, i)) && o.command && (s = "null" == o.command || a.exec(o.command, this.$editor, o.args, i),
                s && i && -1 != e && 1 != o.passEvent && 1 != o.command.passEvent && r.stopEvent(i),
                s)); )
                    ;
                return s || -1 != e || (o = {
                    command: "insertstring"
                },
                s = a.exec("insertstring", this.$editor, t)),
                s && this.$editor._signal && this.$editor._signal("keyboardActivity", o),
                s
            }
            ,
            this.onCommandKey = function(e, t, n) {
                var r = i.keyCodeToString(n);
                this.$callKeyboardHandlers(t, r, n, e)
            }
            ,
            this.onTextInput = function(e) {
                this.$callKeyboardHandlers(-1, e)
            }
        }
        ).call(o.prototype),
        t.KeyBinding = o
    }),
    ace.define("ace/lib/bidiutil", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        function i(e, t, n, i) {
            var r = a ? g : f
              , p = null
              , m = null
              , v = null
              , A = 0
              , w = null
              , C = -1
              , F = null
              , x = null
              , S = [];
            if (!i)
                for (F = 0,
                i = []; F < n; F++)
                    i[F] = s(e[F]);
            for (l = a,
            c = !1,
            u = !1,
            h = !1,
            d = !1,
            x = 0; x < n; x++) {
                if (p = A,
                S[x] = m = o(e, i, S, x),
                A = r[p][m],
                w = 240 & A,
                A &= 15,
                t[x] = v = r[A][5],
                w > 0)
                    if (16 == w) {
                        for (F = C; F < x; F++)
                            t[F] = 1;
                        C = -1
                    } else
                        C = -1;
                if (r[A][6])
                    -1 == C && (C = x);
                else if (C > -1) {
                    for (F = C; F < x; F++)
                        t[F] = v;
                    C = -1
                }
                i[x] == y && (t[x] = 0),
                l |= v
            }
            if (d)
                for (F = 0; F < n; F++)
                    if (i[F] == b) {
                        t[F] = a;
                        for (var k = F - 1; k >= 0 && i[k] == E; k--)
                            t[k] = a
                    }
        }
        function r(e, t, n) {
            if (!(l < e)) {
                if (1 == e && a == p && !h)
                    return void n.reverse();
                for (var i, r, o, s, c = n.length, u = 0; u < c; ) {
                    if (t[u] >= e) {
                        for (i = u + 1; i < c && t[i] >= e; )
                            i++;
                        for (r = u,
                        o = i - 1; r < o; r++,
                        o--)
                            s = n[r],
                            n[r] = n[o],
                            n[o] = s;
                        u = i
                    }
                    u++
                }
            }
        }
        function o(e, t, n, i) {
            var r, o, s, l, f = t[i];
            switch (f) {
            case m:
            case v:
                c = !1;
            case C:
            case w:
                return f;
            case A:
                return c ? w : A;
            case F:
                return c = !0,
                u = !0,
                v;
            case E:
                return C;
            case x:
                return i < 1 || i + 1 >= t.length || (r = n[i - 1]) != A && r != w || (o = t[i + 1]) != A && o != w ? C : (c && (o = w),
                o == r ? o : C);
            case S:
                return r = i > 0 ? n[i - 1] : y,
                r == A && i + 1 < t.length && t[i + 1] == A ? A : C;
            case k:
                if (i > 0 && n[i - 1] == A)
                    return A;
                if (c)
                    return C;
                for (l = i + 1,
                s = t.length; l < s && t[l] == k; )
                    l++;
                return l < s && t[l] == A ? A : C;
            case $:
                for (s = t.length,
                l = i + 1; l < s && t[l] == $; )
                    l++;
                if (l < s) {
                    var g = e[i]
                      , p = g >= 1425 && g <= 2303 || 64286 == g;
                    if (r = t[l],
                    p && (r == v || r == F))
                        return v
                }
                return i < 1 || (r = t[i - 1]) == y ? C : n[i - 1];
            case y:
                return c = !1,
                h = !0,
                a;
            case b:
                return d = !0,
                C;
            case B:
            case D:
            case L:
            case _:
            case M:
                c = !1;
            case R:
                return C
            }
        }
        function s(e) {
            var t = e.charCodeAt(0)
              , n = t >> 8;
            return 0 == n ? t > 191 ? m : T[t] : 5 == n ? /[\u0591-\u05f4]/.test(e) ? v : m : 6 == n ? /[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e) ? $ : /[\u0660-\u0669\u066b-\u066c]/.test(e) ? w : 1642 == t ? k : /[\u06f0-\u06f9]/.test(e) ? A : F : 32 == n && t <= 8287 ? I[255 & t] : 254 == n && t >= 65136 ? F : C
        }
        var a = 0
          , l = 0
          , c = !1
          , u = !1
          , h = !1
          , d = !1
          , f = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]]
          , g = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]]
          , p = 1
          , m = 0
          , v = 1
          , A = 2
          , w = 3
          , C = 4
          , y = 5
          , b = 6
          , F = 7
          , E = 8
          , x = 9
          , S = 10
          , k = 11
          , $ = 12
          , B = 13
          , D = 14
          , M = 15
          , L = 16
          , _ = 17
          , R = 18
          , T = [R, R, R, R, R, R, R, R, R, b, y, b, E, y, R, R, R, R, R, R, R, R, R, R, R, R, R, R, y, y, y, b, E, C, C, k, k, k, C, C, C, C, C, S, x, S, x, x, A, A, A, A, A, A, A, A, A, A, x, C, C, C, C, C, C, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, C, C, C, C, C, C, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, C, C, C, C, R, R, R, R, R, R, y, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, R, x, C, k, k, k, k, C, C, C, C, m, C, C, R, C, C, k, k, A, A, C, m, C, C, C, A, m, C, C, C, C, C]
          , I = [E, E, E, E, E, E, E, E, E, E, E, R, R, R, m, v, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, E, y, B, D, M, L, _, x, k, k, k, k, k, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, x, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C, E];
        t.L = m,
        t.R = v,
        t.EN = A,
        t.ON_R = 3,
        t.AN = 4,
        t.R_H = 5,
        t.B = 6,
        t.DOT = "",
        t.doBidiReorder = function(e, n, o) {
            if (e.length < 2)
                return {};
            var s = e.split("")
              , l = new Array(s.length)
              , c = new Array(s.length)
              , u = [];
            a = o ? p : 0,
            i(s, u, s.length, n);
            for (var h = 0; h < l.length; l[h] = h,
            h++)
                ;
            r(2, u, l),
            r(1, u, l);
            for (var h = 0; h < l.length - 1; h++)
                n[h] === w ? u[h] = t.AN : u[h] === v && (n[h] > F && n[h] < B || n[h] === C || n[h] === R) ? u[h] = t.ON_R : h > 0 && "" === s[h - 1] && /\u0622|\u0623|\u0625|\u0627/.test(s[h]) && (u[h - 1] = u[h] = t.R_H,
                h++);
            s[s.length - 1] === t.DOT && (u[s.length - 1] = t.B);
            for (var h = 0; h < l.length; h++)
                c[h] = u[l[h]];
            return {
                logicalFromVisual: l,
                bidiLevels: c
            }
        }
        ,
        t.hasBidiCharacters = function(e, t) {
            for (var n = !1, i = 0; i < e.length; i++)
                t[i] = s(e.charAt(i)),
                n || t[i] != v && t[i] != F || (n = !0);
            return n
        }
        ,
        t.getVisualFromLogicalIdx = function(e, t) {
            for (var n = 0; n < t.logicalFromVisual.length; n++)
                if (t.logicalFromVisual[n] == e)
                    return n;
            return 0
        }
    }),
    ace.define("ace/bidihandler", ["require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang", "ace/lib/useragent"], function(e, t, n) {
        "use strict";
        var i = e("./lib/bidiutil")
          , r = e("./lib/lang")
          , o = e("./lib/useragent")
          , s = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/
          , a = function(e) {
            this.session = e,
            this.bidiMap = {},
            this.currentRow = null,
            this.bidiUtil = i,
            this.charWidths = [],
            this.EOL = "",
            this.showInvisibles = !0,
            this.isRtlDir = !1,
            this.line = "",
            this.wrapIndent = 0,
            this.isLastRow = !1,
            this.EOF = "",
            this.seenBidi = !1
        };
        (function() {
            this.isBidiRow = function(e, t, n) {
                return !!this.seenBidi && (e !== this.currentRow && (this.currentRow = e,
                this.updateRowLine(t, n),
                this.updateBidiMap()),
                this.bidiMap.bidiLevels)
            }
            ,
            this.onChange = function(e) {
                this.seenBidi ? this.currentRow = null : "insert" == e.action && s.test(e.lines.join("\n")) && (this.seenBidi = !0,
                this.currentRow = null)
            }
            ,
            this.getDocumentRow = function() {
                var e = 0
                  , t = this.session.$screenRowCache;
                if (t.length) {
                    var n = this.session.$getRowCacheIndex(t, this.currentRow);
                    n >= 0 && (e = this.session.$docRowCache[n])
                }
                return e
            }
            ,
            this.getSplitIndex = function() {
                var e = 0
                  , t = this.session.$screenRowCache;
                if (t.length)
                    for (var n, i = this.session.$getRowCacheIndex(t, this.currentRow); this.currentRow - e > 0 && (n = this.session.$getRowCacheIndex(t, this.currentRow - e - 1)) === i; )
                        i = n,
                        e++;
                return e
            }
            ,
            this.updateRowLine = function(e, t) {
                if (void 0 === e && (e = this.getDocumentRow()),
                this.wrapIndent = 0,
                this.isLastRow = e === this.session.getLength() - 1,
                this.line = this.session.getLine(e),
                this.session.$useWrapMode) {
                    var n = this.session.$wrapData[e];
                    n && (void 0 === t && (t = this.getSplitIndex()),
                    t > 0 && n.length ? (this.wrapIndent = n.indent,
                    this.line = t < n.length ? this.line.substring(n[t - 1], n[n.length - 1]) : this.line.substring(n[n.length - 1])) : this.line = this.line.substring(0, n[t]))
                }
                var o, s = this.session, a = 0;
                this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(e, t) {
                    return "\t" === e || s.isFullWidth(e.charCodeAt(0)) ? (o = "\t" === e ? s.getScreenTabSize(t + a) : 2,
                    a += o - 1,
                    r.stringRepeat(i.DOT, o)) : e
                })
            }
            ,
            this.updateBidiMap = function() {
                var e = []
                  , t = this.isLastRow ? this.EOF : this.EOL
                  , n = this.line + (this.showInvisibles ? t : i.DOT);
                i.hasBidiCharacters(n, e) ? this.bidiMap = i.doBidiReorder(n, e, this.isRtlDir) : this.bidiMap = {}
            }
            ,
            this.markAsDirty = function() {
                this.currentRow = null
            }
            ,
            this.updateCharacterWidths = function(e) {
                if (this.seenBidi && this.characterWidth !== e.$characterSize.width) {
                    var t = this.characterWidth = e.$characterSize.width
                      , n = e.$measureCharWidth("");
                    this.charWidths[i.L] = this.charWidths[i.EN] = this.charWidths[i.ON_R] = t,
                    this.charWidths[i.R] = this.charWidths[i.AN] = n,
                    this.charWidths[i.R_H] = o.isChrome ? n : .45 * n,
                    this.charWidths[i.B] = 0,
                    this.currentRow = null
                }
            }
            ,
            this.getShowInvisibles = function() {
                return this.showInvisibles
            }
            ,
            this.setShowInvisibles = function(e) {
                this.showInvisibles = e,
                this.currentRow = null
            }
            ,
            this.setEolChar = function(e) {
                this.EOL = e
            }
            ,
            this.setTextDir = function(e) {
                this.isRtlDir = e
            }
            ,
            this.getPosLeft = function(e) {
                e -= this.wrapIndent;
                var t = i.getVisualFromLogicalIdx(e > 0 ? e - 1 : 0, this.bidiMap)
                  , n = this.bidiMap.bidiLevels
                  , r = 0;
                0 === e && n[t] % 2 != 0 && t++;
                for (var o = 0; o < t; o++)
                    r += this.charWidths[n[o]];
                return 0 !== e && n[t] % 2 == 0 && (r += this.charWidths[n[t]]),
                this.wrapIndent && (r += this.wrapIndent * this.charWidths[i.L]),
                r
            }
            ,
            this.getSelections = function(e, t) {
                for (var n, r, o = this.bidiMap, s = o.bidiLevels, a = this.wrapIndent * this.charWidths[i.L], l = [], c = Math.min(e, t) - this.wrapIndent, u = Math.max(e, t) - this.wrapIndent, h = !1, d = !1, f = 0, g = 0; g < s.length; g++)
                    r = o.logicalFromVisual[g],
                    n = s[g],
                    h = r >= c && r < u,
                    h && !d ? f = a : !h && d && l.push({
                        left: f,
                        width: a - f
                    }),
                    a += this.charWidths[n],
                    d = h;
                return h && g === s.length && l.push({
                    left: f,
                    width: a - f
                }),
                l
            }
            ,
            this.offsetToCol = function(e) {
                var t = 0
                  , e = Math.max(e, 0)
                  , n = 0
                  , r = 0
                  , o = this.bidiMap.bidiLevels
                  , s = this.charWidths[o[r]];
                for (this.wrapIndent && (e -= this.wrapIndent * this.charWidths[i.L]); e > n + s / 2; ) {
                    if (n += s,
                    r === o.length - 1) {
                        s = 0;
                        break
                    }
                    s = this.charWidths[o[++r]]
                }
                return r > 0 && o[r - 1] % 2 != 0 && o[r] % 2 == 0 ? (e < n && r--,
                t = this.bidiMap.logicalFromVisual[r]) : r > 0 && o[r - 1] % 2 == 0 && o[r] % 2 != 0 ? t = 1 + (e > n ? this.bidiMap.logicalFromVisual[r] : this.bidiMap.logicalFromVisual[r - 1]) : this.isRtlDir && r === o.length - 1 && 0 === s && o[r - 1] % 2 == 0 || !this.isRtlDir && 0 === r && o[r] % 2 != 0 ? t = 1 + this.bidiMap.logicalFromVisual[r] : (r > 0 && o[r - 1] % 2 != 0 && 0 !== s && r--,
                t = this.bidiMap.logicalFromVisual[r]),
                t + this.wrapIndent
            }
        }
        ).call(a.prototype),
        t.BidiHandler = a
    }),
    ace.define("ace/range", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        var i = function(e, t) {
            return e.row - t.row || e.column - t.column
        }
          , r = function(e, t, n, i) {
            this.start = {
                row: e,
                column: t
            },
            this.end = {
                row: n,
                column: i
            }
        };
        (function() {
            this.isEqual = function(e) {
                return this.start.row === e.start.row && this.end.row === e.end.row && this.start.column === e.start.column && this.end.column === e.end.column
            }
            ,
            this.toString = function() {
                return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]"
            }
            ,
            this.contains = function(e, t) {
                return 0 == this.compare(e, t)
            }
            ,
            this.compareRange = function(e) {
                var t, n = e.end, i = e.start;
                return t = this.compare(n.row, n.column),
                1 == t ? (t = this.compare(i.row, i.column),
                1 == t ? 2 : 0 == t ? 1 : 0) : -1 == t ? -2 : (t = this.compare(i.row, i.column),
                -1 == t ? -1 : 1 == t ? 42 : 0)
            }
            ,
            this.comparePoint = function(e) {
                return this.compare(e.row, e.column)
            }
            ,
            this.containsRange = function(e) {
                return 0 == this.comparePoint(e.start) && 0 == this.comparePoint(e.end)
            }
            ,
            this.intersects = function(e) {
                var t = this.compareRange(e);
                return -1 == t || 0 == t || 1 == t
            }
            ,
            this.isEnd = function(e, t) {
                return this.end.row == e && this.end.column == t
            }
            ,
            this.isStart = function(e, t) {
                return this.start.row == e && this.start.column == t
            }
            ,
            this.setStart = function(e, t) {
                "object" == typeof e ? (this.start.column = e.column,
                this.start.row = e.row) : (this.start.row = e,
                this.start.column = t)
            }
            ,
            this.setEnd = function(e, t) {
                "object" == typeof e ? (this.end.column = e.column,
                this.end.row = e.row) : (this.end.row = e,
                this.end.column = t)
            }
            ,
            this.inside = function(e, t) {
                return 0 == this.compare(e, t) && (!this.isEnd(e, t) && !this.isStart(e, t))
            }
            ,
            this.insideStart = function(e, t) {
                return 0 == this.compare(e, t) && !this.isEnd(e, t)
            }
            ,
            this.insideEnd = function(e, t) {
                return 0 == this.compare(e, t) && !this.isStart(e, t)
            }
            ,
            this.compare = function(e, t) {
                return this.isMultiLine() || e !== this.start.row ? e < this.start.row ? -1 : e > this.end.row ? 1 : this.start.row === e ? t >= this.start.column ? 0 : -1 : this.end.row === e ? t <= this.end.column ? 0 : 1 : 0 : t < this.start.column ? -1 : t > this.end.column ? 1 : 0
            }
            ,
            this.compareStart = function(e, t) {
                return this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
            }
            ,
            this.compareEnd = function(e, t) {
                return this.end.row == e && this.end.column == t ? 1 : this.compare(e, t)
            }
            ,
            this.compareInside = function(e, t) {
                return this.end.row == e && this.end.column == t ? 1 : this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
            }
            ,
            this.clipRows = function(e, t) {
                if (this.end.row > t)
                    var n = {
                        row: t + 1,
                        column: 0
                    };
                else if (this.end.row < e)
                    var n = {
                        row: e,
                        column: 0
                    };
                if (this.start.row > t)
                    var i = {
                        row: t + 1,
                        column: 0
                    };
                else if (this.start.row < e)
                    var i = {
                        row: e,
                        column: 0
                    };
                return r.fromPoints(i || this.start, n || this.end)
            }
            ,
            this.extend = function(e, t) {
                var n = this.compare(e, t);
                if (0 == n)
                    return this;
                if (-1 == n)
                    var i = {
                        row: e,
                        column: t
                    };
                else
                    var o = {
                        row: e,
                        column: t
                    };
                return r.fromPoints(i || this.start, o || this.end)
            }
            ,
            this.isEmpty = function() {
                return this.start.row === this.end.row && this.start.column === this.end.column
            }
            ,
            this.isMultiLine = function() {
                return this.start.row !== this.end.row
            }
            ,
            this.clone = function() {
                return r.fromPoints(this.start, this.end)
            }
            ,
            this.collapseRows = function() {
                return 0 == this.end.column ? new r(this.start.row,0,Math.max(this.start.row, this.end.row - 1),0) : new r(this.start.row,0,this.end.row,0)
            }
            ,
            this.toScreenRange = function(e) {
                var t = e.documentToScreenPosition(this.start)
                  , n = e.documentToScreenPosition(this.end);
                return new r(t.row,t.column,n.row,n.column)
            }
            ,
            this.moveBy = function(e, t) {
                this.start.row += e,
                this.start.column += t,
                this.end.row += e,
                this.end.column += t
            }
        }
        ).call(r.prototype),
        r.fromPoints = function(e, t) {
            return new r(e.row,e.column,t.row,t.column)
        }
        ,
        r.comparePoints = i,
        r.comparePoints = function(e, t) {
            return e.row - t.row || e.column - t.column
        }
        ,
        t.Range = r
    }),
    ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./lib/lang")
          , o = e("./lib/event_emitter").EventEmitter
          , s = e("./range").Range
          , a = function(e) {
            this.session = e,
            this.doc = e.getDocument(),
            this.clearSelection(),
            this.lead = this.selectionLead = this.doc.createAnchor(0, 0),
            this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);
            var t = this;
            this.lead.on("change", function(e) {
                t._emit("changeCursor"),
                t.$isEmpty || t._emit("changeSelection"),
                t.$keepDesiredColumnOnChange || e.old.column == e.value.column || (t.$desiredColumn = null)
            }),
            this.selectionAnchor.on("change", function() {
                t.$isEmpty || t._emit("changeSelection")
            })
        };
        (function() {
            i.implement(this, o),
            this.isEmpty = function() {
                return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column
            }
            ,
            this.isMultiLine = function() {
                return !this.isEmpty() && this.getRange().isMultiLine()
            }
            ,
            this.getCursor = function() {
                return this.lead.getPosition()
            }
            ,
            this.setSelectionAnchor = function(e, t) {
                this.anchor.setPosition(e, t),
                this.$isEmpty && (this.$isEmpty = !1,
                this._emit("changeSelection"))
            }
            ,
            this.getSelectionAnchor = function() {
                return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition()
            }
            ,
            this.getSelectionLead = function() {
                return this.lead.getPosition()
            }
            ,
            this.shiftSelection = function(e) {
                if (this.$isEmpty)
                    return void this.moveCursorTo(this.lead.row, this.lead.column + e);
                var t = this.getSelectionAnchor()
                  , n = this.getSelectionLead()
                  , i = this.isBackwards();
                i && 0 === t.column || this.setSelectionAnchor(t.row, t.column + e),
                (i || 0 !== n.column) && this.$moveSelection(function() {
                    this.moveCursorTo(n.row, n.column + e)
                })
            }
            ,
            this.isBackwards = function() {
                var e = this.anchor
                  , t = this.lead;
                return e.row > t.row || e.row == t.row && e.column > t.column
            }
            ,
            this.getRange = function() {
                var e = this.anchor
                  , t = this.lead;
                return this.isEmpty() ? s.fromPoints(t, t) : this.isBackwards() ? s.fromPoints(t, e) : s.fromPoints(e, t)
            }
            ,
            this.clearSelection = function() {
                this.$isEmpty || (this.$isEmpty = !0,
                this._emit("changeSelection"))
            }
            ,
            this.selectAll = function() {
                var e = this.doc.getLength() - 1;
                this.setSelectionAnchor(0, 0),
                this.moveCursorTo(e, this.doc.getLine(e).length)
            }
            ,
            this.setRange = this.setSelectionRange = function(e, t) {
                t ? (this.setSelectionAnchor(e.end.row, e.end.column),
                this.selectTo(e.start.row, e.start.column)) : (this.setSelectionAnchor(e.start.row, e.start.column),
                this.selectTo(e.end.row, e.end.column)),
                this.getRange().isEmpty() && (this.$isEmpty = !0),
                this.$desiredColumn = null
            }
            ,
            this.$moveSelection = function(e) {
                var t = this.lead;
                this.$isEmpty && this.setSelectionAnchor(t.row, t.column),
                e.call(this)
            }
            ,
            this.selectTo = function(e, t) {
                this.$moveSelection(function() {
                    this.moveCursorTo(e, t)
                })
            }
            ,
            this.selectToPosition = function(e) {
                this.$moveSelection(function() {
                    this.moveCursorToPosition(e)
                })
            }
            ,
            this.moveTo = function(e, t) {
                this.clearSelection(),
                this.moveCursorTo(e, t)
            }
            ,
            this.moveToPosition = function(e) {
                this.clearSelection(),
                this.moveCursorToPosition(e)
            }
            ,
            this.selectUp = function() {
                this.$moveSelection(this.moveCursorUp)
            }
            ,
            this.selectDown = function() {
                this.$moveSelection(this.moveCursorDown)
            }
            ,
            this.selectRight = function() {
                this.$moveSelection(this.moveCursorRight)
            }
            ,
            this.selectLeft = function() {
                this.$moveSelection(this.moveCursorLeft)
            }
            ,
            this.selectLineStart = function() {
                this.$moveSelection(this.moveCursorLineStart)
            }
            ,
            this.selectLineEnd = function() {
                this.$moveSelection(this.moveCursorLineEnd)
            }
            ,
            this.selectFileEnd = function() {
                this.$moveSelection(this.moveCursorFileEnd)
            }
            ,
            this.selectFileStart = function() {
                this.$moveSelection(this.moveCursorFileStart)
            }
            ,
            this.selectWordRight = function() {
                this.$moveSelection(this.moveCursorWordRight)
            }
            ,
            this.selectWordLeft = function() {
                this.$moveSelection(this.moveCursorWordLeft)
            }
            ,
            this.getWordRange = function(e, t) {
                if (void 0 === t) {
                    var n = e || this.lead;
                    e = n.row,
                    t = n.column
                }
                return this.session.getWordRange(e, t)
            }
            ,
            this.selectWord = function() {
                this.setSelectionRange(this.getWordRange())
            }
            ,
            this.selectAWord = function() {
                var e = this.getCursor()
                  , t = this.session.getAWordRange(e.row, e.column);
                this.setSelectionRange(t)
            }
            ,
            this.getLineRange = function(e, t) {
                var n, i = "number" == typeof e ? e : this.lead.row, r = this.session.getFoldLine(i);
                return r ? (i = r.start.row,
                n = r.end.row) : n = i,
                !0 === t ? new s(i,0,n,this.session.getLine(n).length) : new s(i,0,n + 1,0)
            }
            ,
            this.selectLine = function() {
                this.setSelectionRange(this.getLineRange())
            }
            ,
            this.moveCursorUp = function() {
                this.moveCursorBy(-1, 0)
            }
            ,
            this.moveCursorDown = function() {
                this.moveCursorBy(1, 0)
            }
            ,
            this.wouldMoveIntoSoftTab = function(e, t, n) {
                var i = e.column
                  , r = e.column + t;
                return n < 0 && (i = e.column - t,
                r = e.column),
                this.session.isTabStop(e) && this.doc.getLine(e.row).slice(i, r).split(" ").length - 1 == t
            }
            ,
            this.moveCursorLeft = function() {
                var e, t = this.lead.getPosition();
                if (e = this.session.getFoldAt(t.row, t.column, -1))
                    this.moveCursorTo(e.start.row, e.start.column);
                else if (0 === t.column)
                    t.row > 0 && this.moveCursorTo(t.row - 1, this.doc.getLine(t.row - 1).length);
                else {
                    var n = this.session.getTabSize();
                    this.wouldMoveIntoSoftTab(t, n, -1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, -n) : this.moveCursorBy(0, -1)
                }
            }
            ,
            this.moveCursorRight = function() {
                var e, t = this.lead.getPosition();
                if (e = this.session.getFoldAt(t.row, t.column, 1))
                    this.moveCursorTo(e.end.row, e.end.column);
                else if (this.lead.column == this.doc.getLine(this.lead.row).length)
                    this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0);
                else {
                    var n = this.session.getTabSize()
                      , t = this.lead;
                    this.wouldMoveIntoSoftTab(t, n, 1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, n) : this.moveCursorBy(0, 1)
                }
            }
            ,
            this.moveCursorLineStart = function() {
                var e = this.lead.row
                  , t = this.lead.column
                  , n = this.session.documentToScreenRow(e, t)
                  , i = this.session.screenToDocumentPosition(n, 0)
                  , r = this.session.getDisplayLine(e, null, i.row, i.column)
                  , o = r.match(/^\s*/);
                o[0].length == t || this.session.$useEmacsStyleLineStart || (i.column += o[0].length),
                this.moveCursorToPosition(i)
            }
            ,
            this.moveCursorLineEnd = function() {
                var e = this.lead
                  , t = this.session.getDocumentLastRowColumnPosition(e.row, e.column);
                if (this.lead.column == t.column) {
                    var n = this.session.getLine(t.row);
                    if (t.column == n.length) {
                        var i = n.search(/\s+$/);
                        i > 0 && (t.column = i)
                    }
                }
                this.moveCursorTo(t.row, t.column)
            }
            ,
            this.moveCursorFileEnd = function() {
                var e = this.doc.getLength() - 1
                  , t = this.doc.getLine(e).length;
                this.moveCursorTo(e, t)
            }
            ,
            this.moveCursorFileStart = function() {
                this.moveCursorTo(0, 0)
            }
            ,
            this.moveCursorLongWordRight = function() {
                var e = this.lead.row
                  , t = this.lead.column
                  , n = this.doc.getLine(e)
                  , i = n.substring(t);
                this.session.nonTokenRe.lastIndex = 0,
                this.session.tokenRe.lastIndex = 0;
                var r = this.session.getFoldAt(e, t, 1);
                return r ? void this.moveCursorTo(r.end.row, r.end.column) : (this.session.nonTokenRe.exec(i) && (t += this.session.nonTokenRe.lastIndex,
                this.session.nonTokenRe.lastIndex = 0,
                i = n.substring(t)),
                t >= n.length ? (this.moveCursorTo(e, n.length),
                this.moveCursorRight(),
                void (e < this.doc.getLength() - 1 && this.moveCursorWordRight())) : (this.session.tokenRe.exec(i) && (t += this.session.tokenRe.lastIndex,
                this.session.tokenRe.lastIndex = 0),
                void this.moveCursorTo(e, t)))
            }
            ,
            this.moveCursorLongWordLeft = function() {
                var e, t = this.lead.row, n = this.lead.column;
                if (e = this.session.getFoldAt(t, n, -1))
                    return void this.moveCursorTo(e.start.row, e.start.column);
                var i = this.session.getFoldStringAt(t, n, -1);
                null == i && (i = this.doc.getLine(t).substring(0, n));
                var o = r.stringReverse(i);
                if (this.session.nonTokenRe.lastIndex = 0,
                this.session.tokenRe.lastIndex = 0,
                this.session.nonTokenRe.exec(o) && (n -= this.session.nonTokenRe.lastIndex,
                o = o.slice(this.session.nonTokenRe.lastIndex),
                this.session.nonTokenRe.lastIndex = 0),
                n <= 0)
                    return this.moveCursorTo(t, 0),
                    this.moveCursorLeft(),
                    void (t > 0 && this.moveCursorWordLeft());
                this.session.tokenRe.exec(o) && (n -= this.session.tokenRe.lastIndex,
                this.session.tokenRe.lastIndex = 0),
                this.moveCursorTo(t, n)
            }
            ,
            this.$shortWordEndIndex = function(e) {
                var t, n = 0, i = /\s/, r = this.session.tokenRe;
                if (r.lastIndex = 0,
                this.session.tokenRe.exec(e))
                    n = this.session.tokenRe.lastIndex;
                else {
                    for (; (t = e[n]) && i.test(t); )
                        n++;
                    if (n < 1)
                        for (r.lastIndex = 0; (t = e[n]) && !r.test(t); )
                            if (r.lastIndex = 0,
                            n++,
                            i.test(t)) {
                                if (n > 2) {
                                    n--;
                                    break
                                }
                                for (; (t = e[n]) && i.test(t); )
                                    n++;
                                if (n > 2)
                                    break
                            }
                }
                return r.lastIndex = 0,
                n
            }
            ,
            this.moveCursorShortWordRight = function() {
                var e = this.lead.row
                  , t = this.lead.column
                  , n = this.doc.getLine(e)
                  , i = n.substring(t)
                  , r = this.session.getFoldAt(e, t, 1);
                if (r)
                    return this.moveCursorTo(r.end.row, r.end.column);
                if (t == n.length) {
                    var o = this.doc.getLength();
                    do {
                        e++,
                        i = this.doc.getLine(e)
                    } while (e < o && /^\s*$/.test(i));
                    /^\s+/.test(i) || (i = ""),
                    t = 0
                }
                var s = this.$shortWordEndIndex(i);
                this.moveCursorTo(e, t + s)
            }
            ,
            this.moveCursorShortWordLeft = function() {
                var e, t = this.lead.row, n = this.lead.column;
                if (e = this.session.getFoldAt(t, n, -1))
                    return this.moveCursorTo(e.start.row, e.start.column);
                var i = this.session.getLine(t).substring(0, n);
                if (0 === n) {
                    do {
                        t--,
                        i = this.doc.getLine(t)
                    } while (t > 0 && /^\s*$/.test(i));
                    n = i.length,
                    /\s+$/.test(i) || (i = "")
                }
                var o = r.stringReverse(i)
                  , s = this.$shortWordEndIndex(o);
                return this.moveCursorTo(t, n - s)
            }
            ,
            this.moveCursorWordRight = function() {
                this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight()
            }
            ,
            this.moveCursorWordLeft = function() {
                this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft()
            }
            ,
            this.moveCursorBy = function(e, t) {
                var n, i = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
                0 === t && (0 !== e && (this.session.$bidiHandler.isBidiRow(i.row, this.lead.row) ? (n = this.session.$bidiHandler.getPosLeft(i.column),
                i.column = Math.round(n / this.session.$bidiHandler.charWidths[0])) : n = i.column * this.session.$bidiHandler.charWidths[0]),
                this.$desiredColumn ? i.column = this.$desiredColumn : this.$desiredColumn = i.column);
                var r = this.session.screenToDocumentPosition(i.row + e, i.column, n);
                0 !== e && 0 === t && r.row === this.lead.row && r.column === this.lead.column && this.session.lineWidgets && this.session.lineWidgets[r.row] && (r.row > 0 || e > 0) && r.row++,
                this.moveCursorTo(r.row, r.column + t, 0 === t)
            }
            ,
            this.moveCursorToPosition = function(e) {
                this.moveCursorTo(e.row, e.column)
            }
            ,
            this.moveCursorTo = function(e, t, n) {
                var i = this.session.getFoldAt(e, t, 1);
                i && (e = i.start.row,
                t = i.start.column),
                this.$keepDesiredColumnOnChange = !0;
                var r = this.session.getLine(e);
                /[\uDC00-\uDFFF]/.test(r.charAt(t)) && r.charAt(t - 1) && (this.lead.row == e && this.lead.column == t + 1 ? t -= 1 : t += 1),
                this.lead.setPosition(e, t),
                this.$keepDesiredColumnOnChange = !1,
                n || (this.$desiredColumn = null)
            }
            ,
            this.moveCursorToScreen = function(e, t, n) {
                var i = this.session.screenToDocumentPosition(e, t);
                this.moveCursorTo(i.row, i.column, n)
            }
            ,
            this.detach = function() {
                this.lead.detach(),
                this.anchor.detach(),
                this.session = this.doc = null
            }
            ,
            this.fromOrientedRange = function(e) {
                this.setSelectionRange(e, e.cursor == e.start),
                this.$desiredColumn = e.desiredColumn || this.$desiredColumn
            }
            ,
            this.toOrientedRange = function(e) {
                var t = this.getRange();
                return e ? (e.start.column = t.start.column,
                e.start.row = t.start.row,
                e.end.column = t.end.column,
                e.end.row = t.end.row) : e = t,
                e.cursor = this.isBackwards() ? e.start : e.end,
                e.desiredColumn = this.$desiredColumn,
                e
            }
            ,
            this.getRangeOfMovements = function(e) {
                var t = this.getCursor();
                try {
                    e(this);
                    var n = this.getCursor();
                    return s.fromPoints(t, n)
                } catch (e) {
                    return s.fromPoints(t, t)
                } finally {
                    this.moveCursorToPosition(t)
                }
            }
            ,
            this.toJSON = function() {
                if (this.rangeCount)
                    var e = this.ranges.map(function(e) {
                        var t = e.clone();
                        return t.isBackwards = e.cursor == e.start,
                        t
                    });
                else {
                    var e = this.getRange();
                    e.isBackwards = this.isBackwards()
                }
                return e
            }
            ,
            this.fromJSON = function(e) {
                if (void 0 == e.start) {
                    if (this.rangeList) {
                        this.toSingleRange(e[0]);
                        for (var t = e.length; t--; ) {
                            var n = s.fromPoints(e[t].start, e[t].end);
                            e[t].isBackwards && (n.cursor = n.start),
                            this.addRange(n, !0)
                        }
                        return
                    }
                    e = e[0]
                }
                this.rangeList && this.toSingleRange(e),
                this.setSelectionRange(e, e.isBackwards)
            }
            ,
            this.isEqual = function(e) {
                if ((e.length || this.rangeCount) && e.length != this.rangeCount)
                    return !1;
                if (!e.length || !this.ranges)
                    return this.getRange().isEqual(e);
                for (var t = this.ranges.length; t--; )
                    if (!this.ranges[t].isEqual(e[t]))
                        return !1;
                return !0
            }
        }
        ).call(a.prototype),
        t.Selection = a
    }),
    ace.define("ace/tokenizer", ["require", "exports", "module", "ace/config"], function(e, t, n) {
        "use strict";
        var i = e("./config")
          , r = 2e3
          , o = function(e) {
            this.states = e,
            this.regExps = {},
            this.matchMappings = {};
            for (var t in this.states) {
                for (var n = this.states[t], i = [], r = 0, o = this.matchMappings[t] = {
                    defaultToken: "text"
                }, s = "g", a = [], l = 0; l < n.length; l++) {
                    var c = n[l];
                    if (c.defaultToken && (o.defaultToken = c.defaultToken),
                    c.caseInsensitive && (s = "gi"),
                    null != c.regex) {
                        c.regex instanceof RegExp && (c.regex = c.regex.toString().slice(1, -1));
                        var u = c.regex
                          , h = new RegExp("(?:(" + u + ")|(.))").exec("a").length - 2;
                        Array.isArray(c.token) ? 1 == c.token.length || 1 == h ? c.token = c.token[0] : h - 1 != c.token.length ? (this.reportError("number of classes and regexp groups doesn't match", {
                            rule: c,
                            groupCount: h - 1
                        }),
                        c.token = c.token[0]) : (c.tokenArray = c.token,
                        c.token = null,
                        c.onMatch = this.$arrayTokens) : "function" != typeof c.token || c.onMatch || (c.onMatch = h > 1 ? this.$applyToken : c.token),
                        h > 1 && (/\\\d/.test(c.regex) ? u = c.regex.replace(/\\([0-9]+)/g, function(e, t) {
                            return "\\" + (parseInt(t, 10) + r + 1)
                        }) : (h = 1,
                        u = this.removeCapturingGroups(c.regex)),
                        c.splitRegex || "string" == typeof c.token || a.push(c)),
                        o[r] = l,
                        r += h,
                        i.push(u),
                        c.onMatch || (c.onMatch = null)
                    }
                }
                i.length || (o[0] = 0,
                i.push("$")),
                a.forEach(function(e) {
                    e.splitRegex = this.createSplitterRegexp(e.regex, s)
                }, this),
                this.regExps[t] = new RegExp("(" + i.join(")|(") + ")|($)",s)
            }
        };
        (function() {
            this.$setMaxTokenCount = function(e) {
                r = 0 | e
            }
            ,
            this.$applyToken = function(e) {
                var t = this.splitRegex.exec(e).slice(1)
                  , n = this.token.apply(this, t);
                if ("string" == typeof n)
                    return [{
                        type: n,
                        value: e
                    }];
                for (var i = [], r = 0, o = n.length; r < o; r++)
                    t[r] && (i[i.length] = {
                        type: n[r],
                        value: t[r]
                    });
                return i
            }
            ,
            this.$arrayTokens = function(e) {
                if (!e)
                    return [];
                var t = this.splitRegex.exec(e);
                if (!t)
                    return "text";
                for (var n = [], i = this.tokenArray, r = 0, o = i.length; r < o; r++)
                    t[r + 1] && (n[n.length] = {
                        type: i[r],
                        value: t[r + 1]
                    });
                return n
            }
            ,
            this.removeCapturingGroups = function(e) {
                return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g, function(e, t) {
                    return t ? "(?:" : e
                })
            }
            ,
            this.createSplitterRegexp = function(e, t) {
                if (-1 != e.indexOf("(?=")) {
                    var n = 0
                      , i = !1
                      , r = {};
                    e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(e, t, o, s, a, l) {
                        return i ? i = "]" != a : a ? i = !0 : s ? (n == r.stack && (r.end = l + 1,
                        r.stack = -1),
                        n--) : o && (n++,
                        1 != o.length && (r.stack = n,
                        r.start = l)),
                        e
                    }),
                    null != r.end && /^\)*$/.test(e.substr(r.end)) && (e = e.substring(0, r.start) + e.substr(r.end))
                }
                return "^" != e.charAt(0) && (e = "^" + e),
                "$" != e.charAt(e.length - 1) && (e += "$"),
                new RegExp(e,(t || "").replace("g", ""))
            }
            ,
            this.getLineTokens = function(e, t) {
                if (t && "string" != typeof t) {
                    var n = t.slice(0);
                    t = n[0],
                    "#tmp" === t && (n.shift(),
                    t = n.shift())
                } else
                    var n = [];
                var i = t || "start"
                  , o = this.states[i];
                o || (i = "start",
                o = this.states[i]);
                var s = this.matchMappings[i]
                  , a = this.regExps[i];
                a.lastIndex = 0;
                for (var l, c = [], u = 0, h = 0, d = {
                    type: null,
                    value: ""
                }; l = a.exec(e); ) {
                    var f = s.defaultToken
                      , g = null
                      , p = l[0]
                      , m = a.lastIndex;
                    if (m - p.length > u) {
                        var v = e.substring(u, m - p.length);
                        d.type == f ? d.value += v : (d.type && c.push(d),
                        d = {
                            type: f,
                            value: v
                        })
                    }
                    for (var A = 0; A < l.length - 2; A++)
                        if (void 0 !== l[A + 1]) {
                            g = o[s[A]],
                            f = g.onMatch ? g.onMatch(p, i, n, e) : g.token,
                            g.next && (i = "string" == typeof g.next ? g.next : g.next(i, n),
                            o = this.states[i],
                            o || (this.reportError("state doesn't exist", i),
                            i = "start",
                            o = this.states[i]),
                            s = this.matchMappings[i],
                            u = m,
                            a = this.regExps[i],
                            a.lastIndex = m),
                            g.consumeLineEnd && (u = m);
                            break
                        }
                    if (p)
                        if ("string" == typeof f)
                            g && !1 === g.merge || d.type !== f ? (d.type && c.push(d),
                            d = {
                                type: f,
                                value: p
                            }) : d.value += p;
                        else if (f) {
                            d.type && c.push(d),
                            d = {
                                type: null,
                                value: ""
                            };
                            for (var A = 0; A < f.length; A++)
                                c.push(f[A])
                        }
                    if (u == e.length)
                        break;
                    if (u = m,
                    h++ > r) {
                        for (h > 2 * e.length && this.reportError("infinite loop with in ace tokenizer", {
                            startState: t,
                            line: e
                        }); u < e.length; )
                            d.type && c.push(d),
                            d = {
                                value: e.substring(u, u += 2e3),
                                type: "overflow"
                            };
                        i = "start",
                        n = [];
                        break
                    }
                }
                return d.type && c.push(d),
                n.length > 1 && n[0] !== i && n.unshift("#tmp", i),
                {
                    tokens: c,
                    state: n.length ? n : i
                }
            }
            ,
            this.reportError = i.reportError
        }
        ).call(o.prototype),
        t.Tokenizer = o
    }),
    ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], function(e, t, n) {
        "use strict";
        var i = e("../lib/lang")
          , r = function() {
            this.$rules = {
                start: [{
                    token: "empty_line",
                    regex: "^$"
                }, {
                    defaultToken: "text"
                }]
            }
        };
        (function() {
            this.addRules = function(e, t) {
                if (t)
                    for (var n in e) {
                        for (var i = e[n], r = 0; r < i.length; r++) {
                            var o = i[r];
                            (o.next || o.onMatch) && ("string" == typeof o.next && 0 !== o.next.indexOf(t) && (o.next = t + o.next),
                            o.nextState && 0 !== o.nextState.indexOf(t) && (o.nextState = t + o.nextState))
                        }
                        this.$rules[t + n] = i
                    }
                else
                    for (var n in e)
                        this.$rules[n] = e[n]
            }
            ,
            this.getRules = function() {
                return this.$rules
            }
            ,
            this.embedRules = function(e, t, n, r, o) {
                var s = "function" == typeof e ? (new e).getRules() : e;
                if (r)
                    for (var a = 0; a < r.length; a++)
                        r[a] = t + r[a];
                else {
                    r = [];
                    for (var l in s)
                        r.push(t + l)
                }
                if (this.addRules(s, t),
                n)
                    for (var c = Array.prototype[o ? "push" : "unshift"], a = 0; a < r.length; a++)
                        c.apply(this.$rules[r[a]], i.deepCopy(n));
                this.$embeds || (this.$embeds = []),
                this.$embeds.push(t)
            }
            ,
            this.getEmbeds = function() {
                return this.$embeds
            }
            ;
            var e = function(e, t) {
                return ("start" != e || t.length) && t.unshift(this.nextState, e),
                this.nextState
            }
              , t = function(e, t) {
                return t.shift(),
                t.shift() || "start"
            };
            this.normalizeRules = function() {
                function n(o) {
                    var s = r[o];
                    s.processed = !0;
                    for (var a = 0; a < s.length; a++) {
                        var l = s[a]
                          , c = null;
                        Array.isArray(l) && (c = l,
                        l = {}),
                        !l.regex && l.start && (l.regex = l.start,
                        l.next || (l.next = []),
                        l.next.push({
                            defaultToken: l.token
                        }, {
                            token: l.token + ".end",
                            regex: l.end || l.start,
                            next: "pop"
                        }),
                        l.token = l.token + ".start",
                        l.push = !0);
                        var u = l.next || l.push;
                        if (u && Array.isArray(u)) {
                            var h = l.stateName;
                            h || (h = l.token,
                            "string" != typeof h && (h = h[0] || ""),
                            r[h] && (h += i++)),
                            r[h] = u,
                            l.next = h,
                            n(h)
                        } else
                            "pop" == u && (l.next = t);
                        if (l.push && (l.nextState = l.next || l.push,
                        l.next = e,
                        delete l.push),
                        l.rules)
                            for (var d in l.rules)
                                r[d] ? r[d].push && r[d].push.apply(r[d], l.rules[d]) : r[d] = l.rules[d];
                        var f = "string" == typeof l ? l : l.include;
                        if (f && (c = Array.isArray(f) ? f.map(function(e) {
                            return r[e]
                        }) : r[f]),
                        c) {
                            var g = [a, 1].concat(c);
                            l.noEscape && (g = g.filter(function(e) {
                                return !e.next
                            })),
                            s.splice.apply(s, g),
                            a--
                        }
                        l.keywordMap && (l.token = this.createKeywordMapper(l.keywordMap, l.defaultToken || "text", l.caseInsensitive),
                        delete l.defaultToken)
                    }
                }
                var i = 0
                  , r = this.$rules;
                Object.keys(r).forEach(n, this)
            }
            ,
            this.createKeywordMapper = function(e, t, n, i) {
                var r = Object.create(null);
                return Object.keys(e).forEach(function(t) {
                    var o = e[t];
                    n && (o = o.toLowerCase());
                    for (var s = o.split(i || "|"), a = s.length; a--; )
                        r[s[a]] = t
                }),
                Object.getPrototypeOf(r) && (r.__proto__ = null),
                this.$keywordList = Object.keys(r),
                e = null,
                n ? function(e) {
                    return r[e.toLowerCase()] || t
                }
                : function(e) {
                    return r[e] || t
                }
            }
            ,
            this.getKeywords = function() {
                return this.$keywords
            }
        }
        ).call(r.prototype),
        t.TextHighlightRules = r
    }),
    ace.define("ace/mode/behaviour", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        var i = function() {
            this.$behaviours = {}
        };
        (function() {
            this.add = function(e, t, n) {
                switch (void 0) {
                case this.$behaviours:
                    this.$behaviours = {};
                case this.$behaviours[e]:
                    this.$behaviours[e] = {}
                }
                this.$behaviours[e][t] = n
            }
            ,
            this.addBehaviours = function(e) {
                for (var t in e)
                    for (var n in e[t])
                        this.add(t, n, e[t][n])
            }
            ,
            this.remove = function(e) {
                this.$behaviours && this.$behaviours[e] && delete this.$behaviours[e]
            }
            ,
            this.inherit = function(e, t) {
                if ("function" == typeof e)
                    var n = (new e).getBehaviours(t);
                else
                    var n = e.getBehaviours(t);
                this.addBehaviours(n)
            }
            ,
            this.getBehaviours = function(e) {
                if (e) {
                    for (var t = {}, n = 0; n < e.length; n++)
                        this.$behaviours[e[n]] && (t[e[n]] = this.$behaviours[e[n]]);
                    return t
                }
                return this.$behaviours
            }
        }
        ).call(i.prototype),
        t.Behaviour = i
    }),
    ace.define("ace/token_iterator", ["require", "exports", "module", "ace/range"], function(e, t, n) {
        "use strict";
        var i = e("./range").Range
          , r = function(e, t, n) {
            this.$session = e,
            this.$row = t,
            this.$rowTokens = e.getTokens(t);
            var i = e.getTokenAt(t, n);
            this.$tokenIndex = i ? i.index : -1
        };
        (function() {
            this.stepBackward = function() {
                for (this.$tokenIndex -= 1; this.$tokenIndex < 0; ) {
                    if (this.$row -= 1,
                    this.$row < 0)
                        return this.$row = 0,
                        null;
                    this.$rowTokens = this.$session.getTokens(this.$row),
                    this.$tokenIndex = this.$rowTokens.length - 1
                }
                return this.$rowTokens[this.$tokenIndex]
            }
            ,
            this.stepForward = function() {
                this.$tokenIndex += 1;
                for (var e; this.$tokenIndex >= this.$rowTokens.length; ) {
                    if (this.$row += 1,
                    e || (e = this.$session.getLength()),
                    this.$row >= e)
                        return this.$row = e - 1,
                        null;
                    this.$rowTokens = this.$session.getTokens(this.$row),
                    this.$tokenIndex = 0
                }
                return this.$rowTokens[this.$tokenIndex]
            }
            ,
            this.getCurrentToken = function() {
                return this.$rowTokens[this.$tokenIndex]
            }
            ,
            this.getCurrentTokenRow = function() {
                return this.$row
            }
            ,
            this.getCurrentTokenColumn = function() {
                var e = this.$rowTokens
                  , t = this.$tokenIndex
                  , n = e[t].start;
                if (void 0 !== n)
                    return n;
                for (n = 0; t > 0; )
                    t -= 1,
                    n += e[t].value.length;
                return n
            }
            ,
            this.getCurrentTokenPosition = function() {
                return {
                    row: this.$row,
                    column: this.getCurrentTokenColumn()
                }
            }
            ,
            this.getCurrentTokenRange = function() {
                var e = this.$rowTokens[this.$tokenIndex]
                  , t = this.getCurrentTokenColumn();
                return new i(this.$row,t,this.$row,t + e.value.length)
            }
        }
        ).call(r.prototype),
        t.TokenIterator = r
    }),
    ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(e, t, n) {
        "use strict";
        var i, r = e("../../lib/oop"), o = e("../behaviour").Behaviour, s = e("../../token_iterator").TokenIterator, a = e("../../lib/lang"), l = ["text", "paren.rparen", "punctuation.operator"], c = ["text", "paren.rparen", "punctuation.operator", "comment"], u = {}, h = {
            '"': '"',
            "'": "'"
        }, d = function(e) {
            var t = -1;
            if (e.multiSelect && (t = e.selection.index,
            u.rangeCount != e.multiSelect.rangeCount && (u = {
                rangeCount: e.multiSelect.rangeCount
            })),
            u[t])
                return i = u[t];
            i = u[t] = {
                autoInsertedBrackets: 0,
                autoInsertedRow: -1,
                autoInsertedLineEnd: "",
                maybeInsertedBrackets: 0,
                maybeInsertedRow: -1,
                maybeInsertedLineStart: "",
                maybeInsertedLineEnd: ""
            }
        }, f = function(e, t, n, i) {
            var r = e.end.row - e.start.row;
            return {
                text: n + t + i,
                selection: [0, e.start.column + 1, r, e.end.column + (r ? 0 : 1)]
            }
        }, g = function(e) {
            this.add("braces", "insertion", function(t, n, r, o, s) {
                var l = r.getCursorPosition()
                  , c = o.doc.getLine(l.row);
                if ("{" == s) {
                    d(r);
                    var u = r.getSelectionRange()
                      , h = o.doc.getTextRange(u);
                    if ("" !== h && "{" !== h && r.getWrapBehavioursEnabled())
                        return f(u, h, "{", "}");
                    if (g.isSaneInsertion(r, o))
                        return /[\]\}\)]/.test(c[l.column]) || r.inMultiSelectMode || e && e.braces ? (g.recordAutoInsert(r, o, "}"),
                        {
                            text: "{}",
                            selection: [1, 1]
                        }) : (g.recordMaybeInsert(r, o, "{"),
                        {
                            text: "{",
                            selection: [1, 1]
                        })
                } else if ("}" == s) {
                    d(r);
                    var p = c.substring(l.column, l.column + 1);
                    if ("}" == p) {
                        var m = o.$findOpeningBracket("}", {
                            column: l.column + 1,
                            row: l.row
                        });
                        if (null !== m && g.isAutoInsertedClosing(l, c, s))
                            return g.popAutoInsertedClosing(),
                            {
                                text: "",
                                selection: [1, 1]
                            }
                    }
                } else {
                    if ("\n" == s || "\r\n" == s) {
                        d(r);
                        var v = "";
                        g.isMaybeInsertedClosing(l, c) && (v = a.stringRepeat("}", i.maybeInsertedBrackets),
                        g.clearMaybeInsertedClosing());
                        var p = c.substring(l.column, l.column + 1);
                        if ("}" === p) {
                            var A = o.findMatchingBracket({
                                row: l.row,
                                column: l.column + 1
                            }, "}");
                            if (!A)
                                return null;
                            var w = this.$getIndent(o.getLine(A.row))
                        } else {
                            if (!v)
                                return void g.clearMaybeInsertedClosing();
                            var w = this.$getIndent(c)
                        }
                        var C = w + o.getTabString();
                        return {
                            text: "\n" + C + "\n" + w + v,
                            selection: [1, C.length, 1, C.length]
                        }
                    }
                    g.clearMaybeInsertedClosing()
                }
            }),
            this.add("braces", "deletion", function(e, t, n, r, o) {
                var s = r.doc.getTextRange(o);
                if (!o.isMultiLine() && "{" == s) {
                    d(n);
                    if ("}" == r.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1))
                        return o.end.column++,
                        o;
                    i.maybeInsertedBrackets--
                }
            }),
            this.add("parens", "insertion", function(e, t, n, i, r) {
                if ("(" == r) {
                    d(n);
                    var o = n.getSelectionRange()
                      , s = i.doc.getTextRange(o);
                    if ("" !== s && n.getWrapBehavioursEnabled())
                        return f(o, s, "(", ")");
                    if (g.isSaneInsertion(n, i))
                        return g.recordAutoInsert(n, i, ")"),
                        {
                            text: "()",
                            selection: [1, 1]
                        }
                } else if (")" == r) {
                    d(n);
                    var a = n.getCursorPosition()
                      , l = i.doc.getLine(a.row)
                      , c = l.substring(a.column, a.column + 1);
                    if (")" == c) {
                        var u = i.$findOpeningBracket(")", {
                            column: a.column + 1,
                            row: a.row
                        });
                        if (null !== u && g.isAutoInsertedClosing(a, l, r))
                            return g.popAutoInsertedClosing(),
                            {
                                text: "",
                                selection: [1, 1]
                            }
                    }
                }
            }),
            this.add("parens", "deletion", function(e, t, n, i, r) {
                var o = i.doc.getTextRange(r);
                if (!r.isMultiLine() && "(" == o) {
                    d(n);
                    if (")" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))
                        return r.end.column++,
                        r
                }
            }),
            this.add("brackets", "insertion", function(e, t, n, i, r) {
                if ("[" == r) {
                    d(n);
                    var o = n.getSelectionRange()
                      , s = i.doc.getTextRange(o);
                    if ("" !== s && n.getWrapBehavioursEnabled())
                        return f(o, s, "[", "]");
                    if (g.isSaneInsertion(n, i))
                        return g.recordAutoInsert(n, i, "]"),
                        {
                            text: "[]",
                            selection: [1, 1]
                        }
                } else if ("]" == r) {
                    d(n);
                    var a = n.getCursorPosition()
                      , l = i.doc.getLine(a.row)
                      , c = l.substring(a.column, a.column + 1);
                    if ("]" == c) {
                        var u = i.$findOpeningBracket("]", {
                            column: a.column + 1,
                            row: a.row
                        });
                        if (null !== u && g.isAutoInsertedClosing(a, l, r))
                            return g.popAutoInsertedClosing(),
                            {
                                text: "",
                                selection: [1, 1]
                            }
                    }
                }
            }),
            this.add("brackets", "deletion", function(e, t, n, i, r) {
                var o = i.doc.getTextRange(r);
                if (!r.isMultiLine() && "[" == o) {
                    d(n);
                    if ("]" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))
                        return r.end.column++,
                        r
                }
            }),
            this.add("string_dquotes", "insertion", function(e, t, n, i, r) {
                var o = i.$mode.$quotes || h;
                if (1 == r.length && o[r]) {
                    if (this.lineCommentStart && -1 != this.lineCommentStart.indexOf(r))
                        return;
                    d(n);
                    var s = r
                      , a = n.getSelectionRange()
                      , l = i.doc.getTextRange(a);
                    if (!("" === l || 1 == l.length && o[l]) && n.getWrapBehavioursEnabled())
                        return f(a, l, s, s);
                    if (!l) {
                        var c = n.getCursorPosition()
                          , u = i.doc.getLine(c.row)
                          , g = u.substring(c.column - 1, c.column)
                          , p = u.substring(c.column, c.column + 1)
                          , m = i.getTokenAt(c.row, c.column)
                          , v = i.getTokenAt(c.row, c.column + 1);
                        if ("\\" == g && m && /escape/.test(m.type))
                            return null;
                        var A, w = m && /string|escape/.test(m.type), C = !v || /string|escape/.test(v.type);
                        if (p == s)
                            (A = w !== C) && /string\.end/.test(v.type) && (A = !1);
                        else {
                            if (w && !C)
                                return null;
                            if (w && C)
                                return null;
                            var y = i.$mode.tokenRe;
                            y.lastIndex = 0;
                            var b = y.test(g);
                            y.lastIndex = 0;
                            var F = y.test(g);
                            if (b || F)
                                return null;
                            if (p && !/[\s;,.})\]\\]/.test(p))
                                return null;
                            A = !0
                        }
                        return {
                            text: A ? s + s : "",
                            selection: [1, 1]
                        }
                    }
                }
            }),
            this.add("string_dquotes", "deletion", function(e, t, n, i, r) {
                var o = i.doc.getTextRange(r);
                if (!r.isMultiLine() && ('"' == o || "'" == o)) {
                    d(n);
                    if (i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2) == o)
                        return r.end.column++,
                        r
                }
            })
        };
        g.isSaneInsertion = function(e, t) {
            var n = e.getCursorPosition()
              , i = new s(t,n.row,n.column);
            if (!this.$matchTokenType(i.getCurrentToken() || "text", l)) {
                var r = new s(t,n.row,n.column + 1);
                if (!this.$matchTokenType(r.getCurrentToken() || "text", l))
                    return !1
            }
            return i.stepForward(),
            i.getCurrentTokenRow() !== n.row || this.$matchTokenType(i.getCurrentToken() || "text", c)
        }
        ,
        g.$matchTokenType = function(e, t) {
            return t.indexOf(e.type || e) > -1
        }
        ,
        g.recordAutoInsert = function(e, t, n) {
            var r = e.getCursorPosition()
              , o = t.doc.getLine(r.row);
            this.isAutoInsertedClosing(r, o, i.autoInsertedLineEnd[0]) || (i.autoInsertedBrackets = 0),
            i.autoInsertedRow = r.row,
            i.autoInsertedLineEnd = n + o.substr(r.column),
            i.autoInsertedBrackets++
        }
        ,
        g.recordMaybeInsert = function(e, t, n) {
            var r = e.getCursorPosition()
              , o = t.doc.getLine(r.row);
            this.isMaybeInsertedClosing(r, o) || (i.maybeInsertedBrackets = 0),
            i.maybeInsertedRow = r.row,
            i.maybeInsertedLineStart = o.substr(0, r.column) + n,
            i.maybeInsertedLineEnd = o.substr(r.column),
            i.maybeInsertedBrackets++
        }
        ,
        g.isAutoInsertedClosing = function(e, t, n) {
            return i.autoInsertedBrackets > 0 && e.row === i.autoInsertedRow && n === i.autoInsertedLineEnd[0] && t.substr(e.column) === i.autoInsertedLineEnd
        }
        ,
        g.isMaybeInsertedClosing = function(e, t) {
            return i.maybeInsertedBrackets > 0 && e.row === i.maybeInsertedRow && t.substr(e.column) === i.maybeInsertedLineEnd && t.substr(0, e.column) == i.maybeInsertedLineStart
        }
        ,
        g.popAutoInsertedClosing = function() {
            i.autoInsertedLineEnd = i.autoInsertedLineEnd.substr(1),
            i.autoInsertedBrackets--
        }
        ,
        g.clearMaybeInsertedClosing = function() {
            i && (i.maybeInsertedBrackets = 0,
            i.maybeInsertedRow = -1)
        }
        ,
        r.inherits(g, o),
        t.CstyleBehaviour = g
    }),
    ace.define("ace/unicode", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        t.packages = {},
        function(e) {
            var n = /\w{4}/g;
            for (var i in e)
                t.packages[i] = e[i].replace(n, "\\u$&")
        }({
            L: "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
            Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
            Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
            Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
            Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
            Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
            M: "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
            Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
            Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
            Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
            N: "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
            Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
            Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
            No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
            P: "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
            Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
            Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
            Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
            Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
            Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
            Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
            Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
            S: "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
            Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
            Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
            Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
            So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
            Z: "002000A01680180E2000-200A20282029202F205F3000",
            Zs: "002000A01680180E2000-200A202F205F3000",
            Zl: "2028",
            Zp: "2029",
            C: "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
            Cc: "0000-001F007F-009F",
            Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
            Co: "E000-F8FF",
            Cs: "D800-DFFF",
            Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
        })
    }),
    ace.define("ace/mode/text", ["require", "exports", "module", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(e, t, n) {
        "use strict";
        var i = e("../tokenizer").Tokenizer
          , r = e("./text_highlight_rules").TextHighlightRules
          , o = e("./behaviour/cstyle").CstyleBehaviour
          , s = e("../unicode")
          , a = e("../lib/lang")
          , l = e("../token_iterator").TokenIterator
          , c = e("../range").Range
          , u = function() {
            this.HighlightRules = r
        };
        (function() {
            this.$defaultBehaviour = new o,
            this.tokenRe = new RegExp("^[" + s.packages.L + s.packages.Mn + s.packages.Mc + s.packages.Nd + s.packages.Pc + "\\$_]+","g"),
            this.nonTokenRe = new RegExp("^(?:[^" + s.packages.L + s.packages.Mn + s.packages.Mc + s.packages.Nd + s.packages.Pc + "\\$_]|\\s])+","g"),
            this.getTokenizer = function() {
                return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig),
                this.$tokenizer = new i(this.$highlightRules.getRules())),
                this.$tokenizer
            }
            ,
            this.lineCommentStart = "",
            this.blockComment = "",
            this.toggleCommentLines = function(e, t, n, i) {
                function r(e) {
                    for (var t = n; t <= i; t++)
                        e(o.getLine(t), t)
                }
                var o = t.doc
                  , s = !0
                  , l = !0
                  , c = 1 / 0
                  , u = t.getTabSize()
                  , h = !1;
                if (this.lineCommentStart) {
                    if (Array.isArray(this.lineCommentStart))
                        var d = this.lineCommentStart.map(a.escapeRegExp).join("|")
                          , f = this.lineCommentStart[0];
                    else
                        var d = a.escapeRegExp(this.lineCommentStart)
                          , f = this.lineCommentStart;
                    d = new RegExp("^(\\s*)(?:" + d + ") ?"),
                    h = t.getUseSoftTabs();
                    var g = function(e, t) {
                        var n = e.match(d);
                        if (n) {
                            var i = n[1].length
                              , r = n[0].length;
                            A(e, i, r) || " " != n[0][r - 1] || r--,
                            o.removeInLine(t, i, r)
                        }
                    }
                      , p = f + " "
                      , m = function(e, t) {
                        s && !/\S/.test(e) || (A(e, c, c) ? o.insertInLine({
                            row: t,
                            column: c
                        }, p) : o.insertInLine({
                            row: t,
                            column: c
                        }, f))
                    }
                      , v = function(e, t) {
                        return d.test(e)
                    }
                      , A = function(e, t, n) {
                        for (var i = 0; t-- && " " == e.charAt(t); )
                            i++;
                        if (i % u != 0)
                            return !1;
                        for (var i = 0; " " == e.charAt(n++); )
                            i++;
                        return u > 2 ? i % u != u - 1 : i % u == 0
                    }
                } else {
                    if (!this.blockComment)
                        return !1;
                    var f = this.blockComment.start
                      , w = this.blockComment.end
                      , d = new RegExp("^(\\s*)(?:" + a.escapeRegExp(f) + ")")
                      , C = new RegExp("(?:" + a.escapeRegExp(w) + ")\\s*$")
                      , m = function(e, t) {
                        v(e, t) || s && !/\S/.test(e) || (o.insertInLine({
                            row: t,
                            column: e.length
                        }, w),
                        o.insertInLine({
                            row: t,
                            column: c
                        }, f))
                    }
                      , g = function(e, t) {
                        var n;
                        (n = e.match(C)) && o.removeInLine(t, e.length - n[0].length, e.length),
                        (n = e.match(d)) && o.removeInLine(t, n[1].length, n[0].length)
                    }
                      , v = function(e, n) {
                        if (d.test(e))
                            return !0;
                        for (var i = t.getTokens(n), r = 0; r < i.length; r++)
                            if ("comment" === i[r].type)
                                return !0
                    }
                }
                var y = 1 / 0;
                r(function(e, t) {
                    var n = e.search(/\S/);
                    -1 !== n ? (n < c && (c = n),
                    l && !v(e, t) && (l = !1)) : y > e.length && (y = e.length)
                }),
                c == 1 / 0 && (c = y,
                s = !1,
                l = !1),
                h && c % u != 0 && (c = Math.floor(c / u) * u),
                r(l ? g : m)
            }
            ,
            this.toggleBlockComment = function(e, t, n, i) {
                var r = this.blockComment;
                if (r) {
                    !r.start && r[0] && (r = r[0]);
                    var o, s, a = new l(t,i.row,i.column), u = a.getCurrentToken(), h = (t.selection,
                    t.selection.toOrientedRange());
                    if (u && /comment/.test(u.type)) {
                        for (var d, f; u && /comment/.test(u.type); ) {
                            var g = u.value.indexOf(r.start);
                            if (-1 != g) {
                                var p = a.getCurrentTokenRow()
                                  , m = a.getCurrentTokenColumn() + g;
                                d = new c(p,m,p,m + r.start.length);
                                break
                            }
                            u = a.stepBackward()
                        }
                        for (var a = new l(t,i.row,i.column), u = a.getCurrentToken(); u && /comment/.test(u.type); ) {
                            var g = u.value.indexOf(r.end);
                            if (-1 != g) {
                                var p = a.getCurrentTokenRow()
                                  , m = a.getCurrentTokenColumn() + g;
                                f = new c(p,m,p,m + r.end.length);
                                break
                            }
                            u = a.stepForward()
                        }
                        f && t.remove(f),
                        d && (t.remove(d),
                        o = d.start.row,
                        s = -r.start.length)
                    } else
                        s = r.start.length,
                        o = n.start.row,
                        t.insert(n.end, r.end),
                        t.insert(n.start, r.start);
                    h.start.row == o && (h.start.column += s),
                    h.end.row == o && (h.end.column += s),
                    t.selection.fromOrientedRange(h)
                }
            }
            ,
            this.getNextLineIndent = function(e, t, n) {
                return this.$getIndent(t)
            }
            ,
            this.checkOutdent = function(e, t, n) {
                return !1
            }
            ,
            this.autoOutdent = function(e, t, n) {}
            ,
            this.$getIndent = function(e) {
                return e.match(/^\s*/)[0]
            }
            ,
            this.createWorker = function(e) {
                return null
            }
            ,
            this.createModeDelegates = function(e) {
                this.$embeds = [],
                this.$modes = {};
                for (var t in e)
                    e[t] && (this.$embeds.push(t),
                    this.$modes[t] = new e[t]);
                for (var n = ["toggleBlockComment", "toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions"], t = 0; t < n.length; t++)
                    !function(e) {
                        var i = n[t]
                          , r = e[i];
                        e[n[t]] = function() {
                            return this.$delegator(i, arguments, r)
                        }
                    }(this)
            }
            ,
            this.$delegator = function(e, t, n) {
                var i = t[0];
                "string" != typeof i && (i = i[0]);
                for (var r = 0; r < this.$embeds.length; r++)
                    if (this.$modes[this.$embeds[r]]) {
                        var o = i.split(this.$embeds[r]);
                        if (!o[0] && o[1]) {
                            t[0] = o[1];
                            var s = this.$modes[this.$embeds[r]];
                            return s[e].apply(s, t)
                        }
                    }
                var a = n.apply(this, t);
                return n ? a : void 0
            }
            ,
            this.transformAction = function(e, t, n, i, r) {
                if (this.$behaviour) {
                    var o = this.$behaviour.getBehaviours();
                    for (var s in o)
                        if (o[s][t]) {
                            var a = o[s][t].apply(this, arguments);
                            if (a)
                                return a
                        }
                }
            }
            ,
            this.getKeywords = function(e) {
                if (!this.completionKeywords) {
                    var t = this.$tokenizer.rules
                      , n = [];
                    for (var i in t)
                        for (var r = t[i], o = 0, s = r.length; o < s; o++)
                            if ("string" == typeof r[o].token)
                                /keyword|support|storage/.test(r[o].token) && n.push(r[o].regex);
                            else if ("object" == typeof r[o].token)
                                for (var a = 0, l = r[o].token.length; a < l; a++)
                                    if (/keyword|support|storage/.test(r[o].token[a])) {
                                        var i = r[o].regex.match(/\(.+?\)/g)[a];
                                        n.push(i.substr(1, i.length - 2))
                                    }
                    this.completionKeywords = n
                }
                return e ? n.concat(this.$keywordList || []) : this.$keywordList
            }
            ,
            this.$createKeywordList = function() {
                return this.$highlightRules || this.getTokenizer(),
                this.$keywordList = this.$highlightRules.$keywordList || []
            }
            ,
            this.getCompletions = function(e, t, n, i) {
                return (this.$keywordList || this.$createKeywordList()).map(function(e) {
                    return {
                        name: e,
                        value: e,
                        score: 0,
                        meta: "keyword"
                    }
                })
            }
            ,
            this.$id = "ace/mode/text"
        }
        ).call(u.prototype),
        t.Mode = u
    }),
    ace.define("ace/apply_delta", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        t.applyDelta = function(e, t, n) {
            var i = t.start.row
              , r = t.start.column
              , o = e[i] || "";
            switch (t.action) {
            case "insert":
                if (1 === t.lines.length)
                    e[i] = o.substring(0, r) + t.lines[0] + o.substring(r);
                else {
                    var s = [i, 1].concat(t.lines);
                    e.splice.apply(e, s),
                    e[i] = o.substring(0, r) + e[i],
                    e[i + t.lines.length - 1] += o.substring(r)
                }
                break;
            case "remove":
                var a = t.end.column
                  , l = t.end.row;
                i === l ? e[i] = o.substring(0, r) + o.substring(a) : e.splice(i, l - i + 1, o.substring(0, r) + e[l].substring(a))
            }
        }
    }),
    ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./lib/event_emitter").EventEmitter
          , o = t.Anchor = function(e, t, n) {
            this.$onChange = this.onChange.bind(this),
            this.attach(e),
            void 0 === n ? this.setPosition(t.row, t.column) : this.setPosition(t, n)
        }
        ;
        (function() {
            function e(e, t, n) {
                var i = n ? e.column <= t.column : e.column < t.column;
                return e.row < t.row || e.row == t.row && i
            }
            function t(t, n, i) {
                var r = "insert" == t.action
                  , o = (r ? 1 : -1) * (t.end.row - t.start.row)
                  , s = (r ? 1 : -1) * (t.end.column - t.start.column)
                  , a = t.start
                  , l = r ? a : t.end;
                return e(n, a, i) ? {
                    row: n.row,
                    column: n.column
                } : e(l, n, !i) ? {
                    row: n.row + o,
                    column: n.column + (n.row == l.row ? s : 0)
                } : {
                    row: a.row,
                    column: a.column
                }
            }
            i.implement(this, r),
            this.getPosition = function() {
                return this.$clipPositionToDocument(this.row, this.column)
            }
            ,
            this.getDocument = function() {
                return this.document
            }
            ,
            this.$insertRight = !1,
            this.onChange = function(e) {
                if (!(e.start.row == e.end.row && e.start.row != this.row || e.start.row > this.row)) {
                    var n = t(e, {
                        row: this.row,
                        column: this.column
                    }, this.$insertRight);
                    this.setPosition(n.row, n.column, !0)
                }
            }
            ,
            this.setPosition = function(e, t, n) {
                var i;
                if (i = n ? {
                    row: e,
                    column: t
                } : this.$clipPositionToDocument(e, t),
                this.row != i.row || this.column != i.column) {
                    var r = {
                        row: this.row,
                        column: this.column
                    };
                    this.row = i.row,
                    this.column = i.column,
                    this._signal("change", {
                        old: r,
                        value: i
                    })
                }
            }
            ,
            this.detach = function() {
                this.document.removeEventListener("change", this.$onChange)
            }
            ,
            this.attach = function(e) {
                this.document = e || this.document,
                this.document.on("change", this.$onChange)
            }
            ,
            this.$clipPositionToDocument = function(e, t) {
                var n = {};
                return e >= this.document.getLength() ? (n.row = Math.max(0, this.document.getLength() - 1),
                n.column = this.document.getLine(n.row).length) : e < 0 ? (n.row = 0,
                n.column = 0) : (n.row = e,
                n.column = Math.min(this.document.getLine(n.row).length, Math.max(0, t))),
                t < 0 && (n.column = 0),
                n
            }
        }
        ).call(o.prototype)
    }),
    ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./apply_delta").applyDelta
          , o = e("./lib/event_emitter").EventEmitter
          , s = e("./range").Range
          , a = e("./anchor").Anchor
          , l = function(e) {
            this.$lines = [""],
            0 === e.length ? this.$lines = [""] : Array.isArray(e) ? this.insertMergedLines({
                row: 0,
                column: 0
            }, e) : this.insert({
                row: 0,
                column: 0
            }, e)
        };
        (function() {
            i.implement(this, o),
            this.setValue = function(e) {
                var t = this.getLength() - 1;
                this.remove(new s(0,0,t,this.getLine(t).length)),
                this.insert({
                    row: 0,
                    column: 0
                }, e)
            }
            ,
            this.getValue = function() {
                return this.getAllLines().join(this.getNewLineCharacter())
            }
            ,
            this.createAnchor = function(e, t) {
                return new a(this,e,t)
            }
            ,
            0 === "aaa".split(/a/).length ? this.$split = function(e) {
                return e.replace(/\r\n|\r/g, "\n").split("\n")
            }
            : this.$split = function(e) {
                return e.split(/\r\n|\r|\n/)
            }
            ,
            this.$detectNewLine = function(e) {
                var t = e.match(/^.*?(\r\n|\r|\n)/m);
                this.$autoNewLine = t ? t[1] : "\n",
                this._signal("changeNewLineMode")
            }
            ,
            this.getNewLineCharacter = function() {
                switch (this.$newLineMode) {
                case "windows":
                    return "\r\n";
                case "unix":
                    return "\n";
                default:
                    return this.$autoNewLine || "\n"
                }
            }
            ,
            this.$autoNewLine = "",
            this.$newLineMode = "auto",
            this.setNewLineMode = function(e) {
                this.$newLineMode !== e && (this.$newLineMode = e,
                this._signal("changeNewLineMode"))
            }
            ,
            this.getNewLineMode = function() {
                return this.$newLineMode
            }
            ,
            this.isNewLine = function(e) {
                return "\r\n" == e || "\r" == e || "\n" == e
            }
            ,
            this.getLine = function(e) {
                return this.$lines[e] || ""
            }
            ,
            this.getLines = function(e, t) {
                return this.$lines.slice(e, t + 1)
            }
            ,
            this.getAllLines = function() {
                return this.getLines(0, this.getLength())
            }
            ,
            this.getLength = function() {
                return this.$lines.length
            }
            ,
            this.getTextRange = function(e) {
                return this.getLinesForRange(e).join(this.getNewLineCharacter())
            }
            ,
            this.getLinesForRange = function(e) {
                var t;
                if (e.start.row === e.end.row)
                    t = [this.getLine(e.start.row).substring(e.start.column, e.end.column)];
                else {
                    t = this.getLines(e.start.row, e.end.row),
                    t[0] = (t[0] || "").substring(e.start.column);
                    var n = t.length - 1;
                    e.end.row - e.start.row == n && (t[n] = t[n].substring(0, e.end.column))
                }
                return t
            }
            ,
            this.insertLines = function(e, t) {
                return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),
                this.insertFullLines(e, t)
            }
            ,
            this.removeLines = function(e, t) {
                return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),
                this.removeFullLines(e, t)
            }
            ,
            this.insertNewLine = function(e) {
                return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),
                this.insertMergedLines(e, ["", ""])
            }
            ,
            this.insert = function(e, t) {
                return this.getLength() <= 1 && this.$detectNewLine(t),
                this.insertMergedLines(e, this.$split(t))
            }
            ,
            this.insertInLine = function(e, t) {
                var n = this.clippedPos(e.row, e.column)
                  , i = this.pos(e.row, e.column + t.length);
                return this.applyDelta({
                    start: n,
                    end: i,
                    action: "insert",
                    lines: [t]
                }, !0),
                this.clonePos(i)
            }
            ,
            this.clippedPos = function(e, t) {
                var n = this.getLength();
                void 0 === e ? e = n : e < 0 ? e = 0 : e >= n && (e = n - 1,
                t = void 0);
                var i = this.getLine(e);
                return void 0 == t && (t = i.length),
                t = Math.min(Math.max(t, 0), i.length),
                {
                    row: e,
                    column: t
                }
            }
            ,
            this.clonePos = function(e) {
                return {
                    row: e.row,
                    column: e.column
                }
            }
            ,
            this.pos = function(e, t) {
                return {
                    row: e,
                    column: t
                }
            }
            ,
            this.$clipPosition = function(e) {
                var t = this.getLength();
                return e.row >= t ? (e.row = Math.max(0, t - 1),
                e.column = this.getLine(t - 1).length) : (e.row = Math.max(0, e.row),
                e.column = Math.min(Math.max(e.column, 0), this.getLine(e.row).length)),
                e
            }
            ,
            this.insertFullLines = function(e, t) {
                e = Math.min(Math.max(e, 0), this.getLength());
                var n = 0;
                e < this.getLength() ? (t = t.concat([""]),
                n = 0) : (t = [""].concat(t),
                e--,
                n = this.$lines[e].length),
                this.insertMergedLines({
                    row: e,
                    column: n
                }, t)
            }
            ,
            this.insertMergedLines = function(e, t) {
                var n = this.clippedPos(e.row, e.column)
                  , i = {
                    row: n.row + t.length - 1,
                    column: (1 == t.length ? n.column : 0) + t[t.length - 1].length
                };
                return this.applyDelta({
                    start: n,
                    end: i,
                    action: "insert",
                    lines: t
                }),
                this.clonePos(i)
            }
            ,
            this.remove = function(e) {
                var t = this.clippedPos(e.start.row, e.start.column)
                  , n = this.clippedPos(e.end.row, e.end.column);
                return this.applyDelta({
                    start: t,
                    end: n,
                    action: "remove",
                    lines: this.getLinesForRange({
                        start: t,
                        end: n
                    })
                }),
                this.clonePos(t)
            }
            ,
            this.removeInLine = function(e, t, n) {
                var i = this.clippedPos(e, t)
                  , r = this.clippedPos(e, n);
                return this.applyDelta({
                    start: i,
                    end: r,
                    action: "remove",
                    lines: this.getLinesForRange({
                        start: i,
                        end: r
                    })
                }, !0),
                this.clonePos(i)
            }
            ,
            this.removeFullLines = function(e, t) {
                e = Math.min(Math.max(0, e), this.getLength() - 1),
                t = Math.min(Math.max(0, t), this.getLength() - 1);
                var n = t == this.getLength() - 1 && e > 0
                  , i = t < this.getLength() - 1
                  , r = n ? e - 1 : e
                  , o = n ? this.getLine(r).length : 0
                  , a = i ? t + 1 : t
                  , l = i ? 0 : this.getLine(a).length
                  , c = new s(r,o,a,l)
                  , u = this.$lines.slice(e, t + 1);
                return this.applyDelta({
                    start: c.start,
                    end: c.end,
                    action: "remove",
                    lines: this.getLinesForRange(c)
                }),
                u
            }
            ,
            this.removeNewLine = function(e) {
                e < this.getLength() - 1 && e >= 0 && this.applyDelta({
                    start: this.pos(e, this.getLine(e).length),
                    end: this.pos(e + 1, 0),
                    action: "remove",
                    lines: ["", ""]
                })
            }
            ,
            this.replace = function(e, t) {
                if (e instanceof s || (e = s.fromPoints(e.start, e.end)),
                0 === t.length && e.isEmpty())
                    return e.start;
                if (t == this.getTextRange(e))
                    return e.end;
                this.remove(e);
                return t ? this.insert(e.start, t) : e.start
            }
            ,
            this.applyDeltas = function(e) {
                for (var t = 0; t < e.length; t++)
                    this.applyDelta(e[t])
            }
            ,
            this.revertDeltas = function(e) {
                for (var t = e.length - 1; t >= 0; t--)
                    this.revertDelta(e[t])
            }
            ,
            this.applyDelta = function(e, t) {
                var n = "insert" == e.action;
                (n ? e.lines.length <= 1 && !e.lines[0] : !s.comparePoints(e.start, e.end)) || (n && e.lines.length > 2e4 && this.$splitAndapplyLargeDelta(e, 2e4),
                r(this.$lines, e, t),
                this._signal("change", e))
            }
            ,
            this.$splitAndapplyLargeDelta = function(e, t) {
                for (var n = e.lines, i = n.length, r = e.start.row, o = e.start.column, s = 0, a = 0; ; ) {
                    s = a,
                    a += t - 1;
                    var l = n.slice(s, a);
                    if (a > i) {
                        e.lines = l,
                        e.start.row = r + s,
                        e.start.column = o;
                        break
                    }
                    l.push(""),
                    this.applyDelta({
                        start: this.pos(r + s, o),
                        end: this.pos(r + a, o = 0),
                        action: e.action,
                        lines: l
                    }, !0)
                }
            }
            ,
            this.revertDelta = function(e) {
                this.applyDelta({
                    start: this.clonePos(e.start),
                    end: this.clonePos(e.end),
                    action: "insert" == e.action ? "remove" : "insert",
                    lines: e.lines.slice()
                })
            }
            ,
            this.indexToPosition = function(e, t) {
                for (var n = this.$lines || this.getAllLines(), i = this.getNewLineCharacter().length, r = t || 0, o = n.length; r < o; r++)
                    if ((e -= n[r].length + i) < 0)
                        return {
                            row: r,
                            column: e + n[r].length + i
                        };
                return {
                    row: o - 1,
                    column: n[o - 1].length
                }
            }
            ,
            this.positionToIndex = function(e, t) {
                for (var n = this.$lines || this.getAllLines(), i = this.getNewLineCharacter().length, r = 0, o = Math.min(e.row, n.length), s = t || 0; s < o; ++s)
                    r += n[s].length + i;
                return r + e.column
            }
        }
        ).call(l.prototype),
        t.Document = l
    }),
    ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./lib/event_emitter").EventEmitter
          , o = function(e, t) {
            this.running = !1,
            this.lines = [],
            this.states = [],
            this.currentLine = 0,
            this.tokenizer = e;
            var n = this;
            this.$worker = function() {
                if (n.running) {
                    for (var e = new Date, t = n.currentLine, i = -1, r = n.doc, o = t; n.lines[t]; )
                        t++;
                    var s = r.getLength()
                      , a = 0;
                    for (n.running = !1; t < s; ) {
                        n.$tokenizeRow(t),
                        i = t;
                        do {
                            t++
                        } while (n.lines[t]);
                        if (++a % 5 == 0 && new Date - e > 20) {
                            n.running = setTimeout(n.$worker, 20);
                            break
                        }
                    }
                    n.currentLine = t,
                    -1 == i && (i = t),
                    o <= i && n.fireUpdateEvent(o, i)
                }
            }
        };
        (function() {
            i.implement(this, r),
            this.setTokenizer = function(e) {
                this.tokenizer = e,
                this.lines = [],
                this.states = [],
                this.start(0)
            }
            ,
            this.setDocument = function(e) {
                this.doc = e,
                this.lines = [],
                this.states = [],
                this.stop()
            }
            ,
            this.fireUpdateEvent = function(e, t) {
                var n = {
                    first: e,
                    last: t
                };
                this._signal("update", {
                    data: n
                })
            }
            ,
            this.start = function(e) {
                this.currentLine = Math.min(e || 0, this.currentLine, this.doc.getLength()),
                this.lines.splice(this.currentLine, this.lines.length),
                this.states.splice(this.currentLine, this.states.length),
                this.stop(),
                this.running = setTimeout(this.$worker, 700)
            }
            ,
            this.scheduleStart = function() {
                this.running || (this.running = setTimeout(this.$worker, 700))
            }
            ,
            this.$updateOnChange = function(e) {
                var t = e.start.row
                  , n = e.end.row - t;
                if (0 === n)
                    this.lines[t] = null;
                else if ("remove" == e.action)
                    this.lines.splice(t, n + 1, null),
                    this.states.splice(t, n + 1, null);
                else {
                    var i = Array(n + 1);
                    i.unshift(t, 1),
                    this.lines.splice.apply(this.lines, i),
                    this.states.splice.apply(this.states, i)
                }
                this.currentLine = Math.min(t, this.currentLine, this.doc.getLength()),
                this.stop()
            }
            ,
            this.stop = function() {
                this.running && clearTimeout(this.running),
                this.running = !1
            }
            ,
            this.getTokens = function(e) {
                return this.lines[e] || this.$tokenizeRow(e)
            }
            ,
            this.getState = function(e) {
                return this.currentLine == e && this.$tokenizeRow(e),
                this.states[e] || "start"
            }
            ,
            this.$tokenizeRow = function(e) {
                var t = this.doc.getLine(e)
                  , n = this.states[e - 1]
                  , i = this.tokenizer.getLineTokens(t, n, e);
                return this.states[e] + "" != i.state + "" ? (this.states[e] = i.state,
                this.lines[e + 1] = null,
                this.currentLine > e + 1 && (this.currentLine = e + 1)) : this.currentLine == e && (this.currentLine = e + 1),
                this.lines[e] = i.tokens
            }
        }
        ).call(o.prototype),
        t.BackgroundTokenizer = o
    }),
    ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, n) {
        "use strict";
        var i = e("./lib/lang")
          , r = (e("./lib/oop"),
        e("./range").Range)
          , o = function(e, t, n) {
            this.setRegexp(e),
            this.clazz = t,
            this.type = n || "text"
        };
        (function() {
            this.MAX_RANGES = 500,
            this.setRegexp = function(e) {
                this.regExp + "" != e + "" && (this.regExp = e,
                this.cache = [])
            }
            ,
            this.update = function(e, t, n, o) {
                if (this.regExp)
                    for (var s = o.firstRow, a = o.lastRow, l = s; l <= a; l++) {
                        var c = this.cache[l];
                        null == c && (c = i.getMatchOffsets(n.getLine(l), this.regExp),
                        c.length > this.MAX_RANGES && (c = c.slice(0, this.MAX_RANGES)),
                        c = c.map(function(e) {
                            return new r(l,e.offset,l,e.offset + e.length)
                        }),
                        this.cache[l] = c.length ? c : "");
                        for (var u = c.length; u--; )
                            t.drawSingleLineMarker(e, c[u].toScreenRange(n), this.clazz, o)
                    }
            }
        }
        ).call(o.prototype),
        t.SearchHighlight = o
    }),
    ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(e, t, n) {
        "use strict";
        function i(e, t) {
            this.foldData = e,
            Array.isArray(t) ? this.folds = t : t = this.folds = [t];
            var n = t[t.length - 1];
            this.range = new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),
            this.start = this.range.start,
            this.end = this.range.end,
            this.folds.forEach(function(e) {
                e.setFoldLine(this)
            }, this)
        }
        var r = e("../range").Range;
        (function() {
            this.shiftRow = function(e) {
                this.start.row += e,
                this.end.row += e,
                this.folds.forEach(function(t) {
                    t.start.row += e,
                    t.end.row += e
                })
            }
            ,
            this.addFold = function(e) {
                if (e.sameRow) {
                    if (e.start.row < this.startRow || e.endRow > this.endRow)
                        throw new Error("Can't add a fold to this FoldLine as it has no connection");
                    this.folds.push(e),
                    this.folds.sort(function(e, t) {
                        return -e.range.compareEnd(t.start.row, t.start.column)
                    }),
                    this.range.compareEnd(e.start.row, e.start.column) > 0 ? (this.end.row = e.end.row,
                    this.end.column = e.end.column) : this.range.compareStart(e.end.row, e.end.column) < 0 && (this.start.row = e.start.row,
                    this.start.column = e.start.column)
                } else if (e.start.row == this.end.row)
                    this.folds.push(e),
                    this.end.row = e.end.row,
                    this.end.column = e.end.column;
                else {
                    if (e.end.row != this.start.row)
                        throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
                    this.folds.unshift(e),
                    this.start.row = e.start.row,
                    this.start.column = e.start.column
                }
                e.foldLine = this
            }
            ,
            this.containsRow = function(e) {
                return e >= this.start.row && e <= this.end.row
            }
            ,
            this.walk = function(e, t, n) {
                var i, r, o, s = 0, a = this.folds, l = !0;
                null == t && (t = this.end.row,
                n = this.end.column);
                for (var c = 0; c < a.length; c++) {
                    if (i = a[c],
                    -1 == (r = i.range.compareStart(t, n)))
                        return void e(null, t, n, s, l);
                    if (o = e(null, i.start.row, i.start.column, s, l),
                    (o = !o && e(i.placeholder, i.start.row, i.start.column, s)) || 0 === r)
                        return;
                    l = !i.sameRow,
                    s = i.end.column
                }
                e(null, t, n, s, l)
            }
            ,
            this.getNextFoldTo = function(e, t) {
                for (var n, i, r = 0; r < this.folds.length; r++) {
                    if (n = this.folds[r],
                    -1 == (i = n.range.compareEnd(e, t)))
                        return {
                            fold: n,
                            kind: "after"
                        };
                    if (0 === i)
                        return {
                            fold: n,
                            kind: "inside"
                        }
                }
                return null
            }
            ,
            this.addRemoveChars = function(e, t, n) {
                var i, r, o = this.getNextFoldTo(e, t);
                if (o)
                    if (i = o.fold,
                    "inside" == o.kind && i.start.column != t && i.start.row != e)
                        window.console && window.console.log(e, t, i);
                    else if (i.start.row == e) {
                        r = this.folds;
                        var s = r.indexOf(i);
                        for (0 === s && (this.start.column += n),
                        s; s < r.length; s++) {
                            if (i = r[s],
                            i.start.column += n,
                            !i.sameRow)
                                return;
                            i.end.column += n
                        }
                        this.end.column += n
                    }
            }
            ,
            this.split = function(e, t) {
                var n = this.getNextFoldTo(e, t);
                if (!n || "inside" == n.kind)
                    return null;
                var r = n.fold
                  , o = this.folds
                  , s = this.foldData
                  , a = o.indexOf(r)
                  , l = o[a - 1];
                this.end.row = l.end.row,
                this.end.column = l.end.column,
                o = o.splice(a, o.length - a);
                var c = new i(s,o);
                return s.splice(s.indexOf(this) + 1, 0, c),
                c
            }
            ,
            this.merge = function(e) {
                for (var t = e.folds, n = 0; n < t.length; n++)
                    this.addFold(t[n]);
                var i = this.foldData;
                i.splice(i.indexOf(e), 1)
            }
            ,
            this.toString = function() {
                var e = [this.range.toString() + ": ["];
                return this.folds.forEach(function(t) {
                    e.push("  " + t.toString())
                }),
                e.push("]"),
                e.join("\n")
            }
            ,
            this.idxToPosition = function(e) {
                for (var t = 0, n = 0; n < this.folds.length; n++) {
                    var i = this.folds[n];
                    if ((e -= i.start.column - t) < 0)
                        return {
                            row: i.start.row,
                            column: i.start.column + e
                        };
                    if ((e -= i.placeholder.length) < 0)
                        return i.start;
                    t = i.end.column
                }
                return {
                    row: this.end.row,
                    column: this.end.column + e
                }
            }
        }
        ).call(i.prototype),
        t.FoldLine = i
    }),
    ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], function(e, t, n) {
        "use strict";
        var i = e("./range").Range
          , r = i.comparePoints
          , o = function() {
            this.ranges = []
        };
        (function() {
            this.comparePoints = r,
            this.pointIndex = function(e, t, n) {
                for (var i = this.ranges, o = n || 0; o < i.length; o++) {
                    var s = i[o]
                      , a = r(e, s.end);
                    if (!(a > 0)) {
                        var l = r(e, s.start);
                        return 0 === a ? t && 0 !== l ? -o - 2 : o : l > 0 || 0 === l && !t ? o : -o - 1
                    }
                }
                return -o - 1
            }
            ,
            this.add = function(e) {
                var t = !e.isEmpty()
                  , n = this.pointIndex(e.start, t);
                n < 0 && (n = -n - 1);
                var i = this.pointIndex(e.end, t, n);
                return i < 0 ? i = -i - 1 : i++,
                this.ranges.splice(n, i - n, e)
            }
            ,
            this.addList = function(e) {
                for (var t = [], n = e.length; n--; )
                    t.push.apply(t, this.add(e[n]));
                return t
            }
            ,
            this.substractPoint = function(e) {
                var t = this.pointIndex(e);
                if (t >= 0)
                    return this.ranges.splice(t, 1)
            }
            ,
            this.merge = function() {
                var e = []
                  , t = this.ranges;
                t = t.sort(function(e, t) {
                    return r(e.start, t.start)
                });
                for (var n, i = t[0], o = 1; o < t.length; o++) {
                    n = i,
                    i = t[o];
                    var s = r(n.end, i.start);
                    s < 0 || (0 != s || n.isEmpty() || i.isEmpty()) && (r(n.end, i.end) < 0 && (n.end.row = i.end.row,
                    n.end.column = i.end.column),
                    t.splice(o, 1),
                    e.push(i),
                    i = n,
                    o--)
                }
                return this.ranges = t,
                e
            }
            ,
            this.contains = function(e, t) {
                return this.pointIndex({
                    row: e,
                    column: t
                }) >= 0
            }
            ,
            this.containsPoint = function(e) {
                return this.pointIndex(e) >= 0
            }
            ,
            this.rangeAtPoint = function(e) {
                var t = this.pointIndex(e);
                if (t >= 0)
                    return this.ranges[t]
            }
            ,
            this.clipRows = function(e, t) {
                var n = this.ranges;
                if (n[0].start.row > t || n[n.length - 1].start.row < e)
                    return [];
                var i = this.pointIndex({
                    row: e,
                    column: 0
                });
                i < 0 && (i = -i - 1);
                var r = this.pointIndex({
                    row: t,
                    column: 0
                }, i);
                r < 0 && (r = -r - 1);
                for (var o = [], s = i; s < r; s++)
                    o.push(n[s]);
                return o
            }
            ,
            this.removeAll = function() {
                return this.ranges.splice(0, this.ranges.length)
            }
            ,
            this.attach = function(e) {
                this.session && this.detach(),
                this.session = e,
                this.onChange = this.$onChange.bind(this),
                this.session.on("change", this.onChange)
            }
            ,
            this.detach = function() {
                this.session && (this.session.removeListener("change", this.onChange),
                this.session = null)
            }
            ,
            this.$onChange = function(e) {
                if ("insert" == e.action)
                    var t = e.start
                      , n = e.end;
                else
                    var n = e.start
                      , t = e.end;
                for (var i = t.row, r = n.row, o = r - i, s = -t.column + n.column, a = this.ranges, l = 0, c = a.length; l < c; l++) {
                    var u = a[l];
                    if (!(u.end.row < i)) {
                        if (u.start.row > i)
                            break;
                        if (u.start.row == i && u.start.column >= t.column && (u.start.column == t.column && this.$insertRight || (u.start.column += s,
                        u.start.row += o)),
                        u.end.row == i && u.end.column >= t.column) {
                            if (u.end.column == t.column && this.$insertRight)
                                continue;
                            u.end.column == t.column && s > 0 && l < c - 1 && u.end.column > u.start.column && u.end.column == a[l + 1].start.column && (u.end.column -= s),
                            u.end.column += s,
                            u.end.row += o
                        }
                    }
                }
                if (0 != o && l < c)
                    for (; l < c; l++) {
                        var u = a[l];
                        u.start.row += o,
                        u.end.row += o
                    }
            }
        }
        ).call(o.prototype),
        t.RangeList = o
    }),
    ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range", "ace/range_list", "ace/lib/oop"], function(e, t, n) {
        "use strict";
        function i(e, t) {
            e.row -= t.row,
            0 == e.row && (e.column -= t.column)
        }
        function r(e, t) {
            i(e.start, t),
            i(e.end, t)
        }
        function o(e, t) {
            0 == e.row && (e.column += t.column),
            e.row += t.row
        }
        function s(e, t) {
            o(e.start, t),
            o(e.end, t)
        }
        var a = (e("../range").Range,
        e("../range_list").RangeList)
          , l = e("../lib/oop")
          , c = t.Fold = function(e, t) {
            this.foldLine = null,
            this.placeholder = t,
            this.range = e,
            this.start = e.start,
            this.end = e.end,
            this.sameRow = e.start.row == e.end.row,
            this.subFolds = this.ranges = []
        }
        ;
        l.inherits(c, a),
        function() {
            this.toString = function() {
                return '"' + this.placeholder + '" ' + this.range.toString()
            }
            ,
            this.setFoldLine = function(e) {
                this.foldLine = e,
                this.subFolds.forEach(function(t) {
                    t.setFoldLine(e)
                })
            }
            ,
            this.clone = function() {
                var e = this.range.clone()
                  , t = new c(e,this.placeholder);
                return this.subFolds.forEach(function(e) {
                    t.subFolds.push(e.clone())
                }),
                t.collapseChildren = this.collapseChildren,
                t
            }
            ,
            this.addSubFold = function(e) {
                if (!this.range.isEqual(e)) {
                    if (!this.range.containsRange(e))
                        throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
                    r(e, this.start);
                    for (var t = e.start.row, n = e.start.column, i = 0, o = -1; i < this.subFolds.length && 1 == (o = this.subFolds[i].range.compare(t, n)); i++)
                        ;
                    var s = this.subFolds[i];
                    if (0 == o)
                        return s.addSubFold(e);
                    for (var t = e.range.end.row, n = e.range.end.column, a = i, o = -1; a < this.subFolds.length && 1 == (o = this.subFolds[a].range.compare(t, n)); a++)
                        ;
                    this.subFolds[a];
                    if (0 == o)
                        throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
                    this.subFolds.splice(i, a - i, e);
                    return e.setFoldLine(this.foldLine),
                    e
                }
            }
            ,
            this.restoreRange = function(e) {
                return s(e, this.start)
            }
        }
        .call(c.prototype)
    }),
    ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], function(e, t, n) {
        "use strict";
        function i() {
            this.getFoldAt = function(e, t, n) {
                var i = this.getFoldLine(e);
                if (!i)
                    return null;
                for (var r = i.folds, o = 0; o < r.length; o++) {
                    var s = r[o];
                    if (s.range.contains(e, t)) {
                        if (1 == n && s.range.isEnd(e, t))
                            continue;
                        if (-1 == n && s.range.isStart(e, t))
                            continue;
                        return s
                    }
                }
            }
            ,
            this.getFoldsInRange = function(e) {
                var t = e.start
                  , n = e.end
                  , i = this.$foldData
                  , r = [];
                t.column += 1,
                n.column -= 1;
                for (var o = 0; o < i.length; o++) {
                    var s = i[o].range.compareRange(e);
                    if (2 != s) {
                        if (-2 == s)
                            break;
                        for (var a = i[o].folds, l = 0; l < a.length; l++) {
                            var c = a[l];
                            if (-2 == (s = c.range.compareRange(e)))
                                break;
                            if (2 != s) {
                                if (42 == s)
                                    break;
                                r.push(c)
                            }
                        }
                    }
                }
                return t.column -= 1,
                n.column += 1,
                r
            }
            ,
            this.getFoldsInRangeList = function(e) {
                if (Array.isArray(e)) {
                    var t = [];
                    e.forEach(function(e) {
                        t = t.concat(this.getFoldsInRange(e))
                    }, this)
                } else
                    var t = this.getFoldsInRange(e);
                return t
            }
            ,
            this.getAllFolds = function() {
                for (var e = [], t = this.$foldData, n = 0; n < t.length; n++)
                    for (var i = 0; i < t[n].folds.length; i++)
                        e.push(t[n].folds[i]);
                return e
            }
            ,
            this.getFoldStringAt = function(e, t, n, i) {
                if (!(i = i || this.getFoldLine(e)))
                    return null;
                for (var r, o, s = {
                    end: {
                        column: 0
                    }
                }, a = 0; a < i.folds.length; a++) {
                    o = i.folds[a];
                    var l = o.range.compareEnd(e, t);
                    if (-1 == l) {
                        r = this.getLine(o.start.row).substring(s.end.column, o.start.column);
                        break
                    }
                    if (0 === l)
                        return null;
                    s = o
                }
                return r || (r = this.getLine(o.start.row).substring(s.end.column)),
                -1 == n ? r.substring(0, t - s.end.column) : 1 == n ? r.substring(t - s.end.column) : r
            }
            ,
            this.getFoldLine = function(e, t) {
                var n = this.$foldData
                  , i = 0;
                for (t && (i = n.indexOf(t)),
                -1 == i && (i = 0),
                i; i < n.length; i++) {
                    var r = n[i];
                    if (r.start.row <= e && r.end.row >= e)
                        return r;
                    if (r.end.row > e)
                        return null
                }
                return null
            }
            ,
            this.getNextFoldLine = function(e, t) {
                var n = this.$foldData
                  , i = 0;
                for (t && (i = n.indexOf(t)),
                -1 == i && (i = 0),
                i; i < n.length; i++) {
                    var r = n[i];
                    if (r.end.row >= e)
                        return r
                }
                return null
            }
            ,
            this.getFoldedRowCount = function(e, t) {
                for (var n = this.$foldData, i = t - e + 1, r = 0; r < n.length; r++) {
                    var o = n[r]
                      , s = o.end.row
                      , a = o.start.row;
                    if (s >= t) {
                        a < t && (a >= e ? i -= t - a : i = 0);
                        break
                    }
                    s >= e && (i -= a >= e ? s - a : s - e + 1)
                }
                return i
            }
            ,
            this.$addFoldLine = function(e) {
                return this.$foldData.push(e),
                this.$foldData.sort(function(e, t) {
                    return e.start.row - t.start.row
                }),
                e
            }
            ,
            this.addFold = function(e, t) {
                var n, i = this.$foldData, r = !1;
                e instanceof s ? n = e : (n = new s(t,e),
                n.collapseChildren = t.collapseChildren),
                this.$clipRangeToDocument(n.range);
                var a = n.start.row
                  , l = n.start.column
                  , c = n.end.row
                  , u = n.end.column;
                if (!(a < c || a == c && l <= u - 2))
                    throw new Error("The range has to be at least 2 characters width");
                var h = this.getFoldAt(a, l, 1)
                  , d = this.getFoldAt(c, u, -1);
                if (h && d == h)
                    return h.addSubFold(n);
                h && !h.range.isStart(a, l) && this.removeFold(h),
                d && !d.range.isEnd(c, u) && this.removeFold(d);
                var f = this.getFoldsInRange(n.range);
                f.length > 0 && (this.removeFolds(f),
                f.forEach(function(e) {
                    n.addSubFold(e)
                }));
                for (var g = 0; g < i.length; g++) {
                    var p = i[g];
                    if (c == p.start.row) {
                        p.addFold(n),
                        r = !0;
                        break
                    }
                    if (a == p.end.row) {
                        if (p.addFold(n),
                        r = !0,
                        !n.sameRow) {
                            var m = i[g + 1];
                            if (m && m.start.row == c) {
                                p.merge(m);
                                break
                            }
                        }
                        break
                    }
                    if (c <= p.start.row)
                        break
                }
                return r || (p = this.$addFoldLine(new o(this.$foldData,n))),
                this.$useWrapMode ? this.$updateWrapData(p.start.row, p.start.row) : this.$updateRowLengthCache(p.start.row, p.start.row),
                this.$modified = !0,
                this._signal("changeFold", {
                    data: n,
                    action: "add"
                }),
                n
            }
            ,
            this.addFolds = function(e) {
                e.forEach(function(e) {
                    this.addFold(e)
                }, this)
            }
            ,
            this.removeFold = function(e) {
                var t = e.foldLine
                  , n = t.start.row
                  , i = t.end.row
                  , r = this.$foldData
                  , o = t.folds;
                if (1 == o.length)
                    r.splice(r.indexOf(t), 1);
                else if (t.range.isEnd(e.end.row, e.end.column))
                    o.pop(),
                    t.end.row = o[o.length - 1].end.row,
                    t.end.column = o[o.length - 1].end.column;
                else if (t.range.isStart(e.start.row, e.start.column))
                    o.shift(),
                    t.start.row = o[0].start.row,
                    t.start.column = o[0].start.column;
                else if (e.sameRow)
                    o.splice(o.indexOf(e), 1);
                else {
                    var s = t.split(e.start.row, e.start.column);
                    o = s.folds,
                    o.shift(),
                    s.start.row = o[0].start.row,
                    s.start.column = o[0].start.column
                }
                this.$updating || (this.$useWrapMode ? this.$updateWrapData(n, i) : this.$updateRowLengthCache(n, i)),
                this.$modified = !0,
                this._signal("changeFold", {
                    data: e,
                    action: "remove"
                })
            }
            ,
            this.removeFolds = function(e) {
                for (var t = [], n = 0; n < e.length; n++)
                    t.push(e[n]);
                t.forEach(function(e) {
                    this.removeFold(e)
                }, this),
                this.$modified = !0
            }
            ,
            this.expandFold = function(e) {
                this.removeFold(e),
                e.subFolds.forEach(function(t) {
                    e.restoreRange(t),
                    this.addFold(t)
                }, this),
                e.collapseChildren > 0 && this.foldAll(e.start.row + 1, e.end.row, e.collapseChildren - 1),
                e.subFolds = []
            }
            ,
            this.expandFolds = function(e) {
                e.forEach(function(e) {
                    this.expandFold(e)
                }, this)
            }
            ,
            this.unfold = function(e, t) {
                var n, i;
                if (null == e ? (n = new r(0,0,this.getLength(),0),
                t = !0) : n = "number" == typeof e ? new r(e,0,e,this.getLine(e).length) : "row"in e ? r.fromPoints(e, e) : e,
                i = this.getFoldsInRangeList(n),
                t)
                    this.removeFolds(i);
                else
                    for (var o = i; o.length; )
                        this.expandFolds(o),
                        o = this.getFoldsInRangeList(n);
                if (i.length)
                    return i
            }
            ,
            this.isRowFolded = function(e, t) {
                return !!this.getFoldLine(e, t)
            }
            ,
            this.getRowFoldEnd = function(e, t) {
                var n = this.getFoldLine(e, t);
                return n ? n.end.row : e
            }
            ,
            this.getRowFoldStart = function(e, t) {
                var n = this.getFoldLine(e, t);
                return n ? n.start.row : e
            }
            ,
            this.getFoldDisplayLine = function(e, t, n, i, r) {
                null == i && (i = e.start.row),
                null == r && (r = 0),
                null == t && (t = e.end.row),
                null == n && (n = this.getLine(t).length);
                var o = this.doc
                  , s = "";
                return e.walk(function(e, t, n, a) {
                    if (!(t < i)) {
                        if (t == i) {
                            if (n < r)
                                return;
                            a = Math.max(r, a)
                        }
                        s += null != e ? e : o.getLine(t).substring(a, n)
                    }
                }, t, n),
                s
            }
            ,
            this.getDisplayLine = function(e, t, n, i) {
                var r = this.getFoldLine(e);
                if (r)
                    return this.getFoldDisplayLine(r, e, t, n, i);
                var o;
                return o = this.doc.getLine(e),
                o.substring(i || 0, t || o.length)
            }
            ,
            this.$cloneFoldData = function() {
                var e = [];
                return e = this.$foldData.map(function(t) {
                    var n = t.folds.map(function(e) {
                        return e.clone()
                    });
                    return new o(e,n)
                })
            }
            ,
            this.toggleFold = function(e) {
                var t, n, i = this.selection, r = i.getRange();
                if (r.isEmpty()) {
                    var o = r.start;
                    if (t = this.getFoldAt(o.row, o.column))
                        return void this.expandFold(t);
                    (n = this.findMatchingBracket(o)) ? 1 == r.comparePoint(n) ? r.end = n : (r.start = n,
                    r.start.column++,
                    r.end.column--) : (n = this.findMatchingBracket({
                        row: o.row,
                        column: o.column + 1
                    })) ? (1 == r.comparePoint(n) ? r.end = n : r.start = n,
                    r.start.column++) : r = this.getCommentFoldRange(o.row, o.column) || r
                } else {
                    var s = this.getFoldsInRange(r);
                    if (e && s.length)
                        return void this.expandFolds(s);
                    1 == s.length && (t = s[0])
                }
                if (t || (t = this.getFoldAt(r.start.row, r.start.column)),
                t && t.range.toString() == r.toString())
                    return void this.expandFold(t);
                var a = "...";
                if (!r.isMultiLine()) {
                    if (a = this.getTextRange(r),
                    a.length < 4)
                        return;
                    a = a.trim().substring(0, 2) + ".."
                }
                this.addFold(a, r)
            }
            ,
            this.getCommentFoldRange = function(e, t, n) {
                var i = new a(this,e,t)
                  , o = i.getCurrentToken()
                  , s = o.type;
                if (o && /^comment|string/.test(s)) {
                    s = s.match(/comment|string/)[0],
                    "comment" == s && (s += "|doc-start");
                    var l = new RegExp(s)
                      , c = new r;
                    if (1 != n) {
                        do {
                            o = i.stepBackward()
                        } while (o && l.test(o.type));
                        i.stepForward()
                    }
                    if (c.start.row = i.getCurrentTokenRow(),
                    c.start.column = i.getCurrentTokenColumn() + 2,
                    i = new a(this,e,t),
                    -1 != n) {
                        var u = -1;
                        do {
                            if (o = i.stepForward(),
                            -1 == u) {
                                var h = this.getState(i.$row);
                                l.test(h) || (u = i.$row)
                            } else if (i.$row > u)
                                break
                        } while (o && l.test(o.type));
                        o = i.stepBackward()
                    } else
                        o = i.getCurrentToken();
                    return c.end.row = i.getCurrentTokenRow(),
                    c.end.column = i.getCurrentTokenColumn() + o.value.length - 2,
                    c
                }
            }
            ,
            this.foldAll = function(e, t, n) {
                void 0 == n && (n = 1e5);
                var i = this.foldWidgets;
                if (i) {
                    t = t || this.getLength(),
                    e = e || 0;
                    for (var r = e; r < t; r++)
                        if (null == i[r] && (i[r] = this.getFoldWidget(r)),
                        "start" == i[r]) {
                            var o = this.getFoldWidgetRange(r);
                            if (o && o.isMultiLine() && o.end.row <= t && o.start.row >= e) {
                                r = o.end.row;
                                try {
                                    var s = this.addFold("...", o);
                                    s && (s.collapseChildren = n)
                                } catch (e) {}
                            }
                        }
                }
            }
            ,
            this.$foldStyles = {
                manual: 1,
                markbegin: 1,
                markbeginend: 1
            },
            this.$foldStyle = "markbegin",
            this.setFoldStyle = function(e) {
                if (!this.$foldStyles[e])
                    throw new Error("invalid fold style: " + e + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
                if (this.$foldStyle != e) {
                    this.$foldStyle = e,
                    "manual" == e && this.unfold();
                    var t = this.$foldMode;
                    this.$setFolding(null),
                    this.$setFolding(t)
                }
            }
            ,
            this.$setFolding = function(e) {
                if (this.$foldMode != e) {
                    if (this.$foldMode = e,
                    this.off("change", this.$updateFoldWidgets),
                    this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets),
                    this._signal("changeAnnotation"),
                    !e || "manual" == this.$foldStyle)
                        return void (this.foldWidgets = null);
                    this.foldWidgets = [],
                    this.getFoldWidget = e.getFoldWidget.bind(e, this, this.$foldStyle),
                    this.getFoldWidgetRange = e.getFoldWidgetRange.bind(e, this, this.$foldStyle),
                    this.$updateFoldWidgets = this.updateFoldWidgets.bind(this),
                    this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this),
                    this.on("change", this.$updateFoldWidgets),
                    this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets)
                }
            }
            ,
            this.getParentFoldRangeData = function(e, t) {
                var n = this.foldWidgets;
                if (!n || t && n[e])
                    return {};
                for (var i, r = e - 1; r >= 0; ) {
                    var o = n[r];
                    if (null == o && (o = n[r] = this.getFoldWidget(r)),
                    "start" == o) {
                        var s = this.getFoldWidgetRange(r);
                        if (i || (i = s),
                        s && s.end.row >= e)
                            break
                    }
                    r--
                }
                return {
                    range: -1 !== r && s,
                    firstRange: i
                }
            }
            ,
            this.onFoldWidgetClick = function(e, t) {
                t = t.domEvent;
                var n = {
                    children: t.shiftKey,
                    all: t.ctrlKey || t.metaKey,
                    siblings: t.altKey
                };
                if (!this.$toggleFoldWidget(e, n)) {
                    var i = t.target || t.srcElement;
                    i && /ace_fold-widget/.test(i.className) && (i.className += " ace_invalid")
                }
            }
            ,
            this.$toggleFoldWidget = function(e, t) {
                if (this.getFoldWidget) {
                    var n = this.getFoldWidget(e)
                      , i = this.getLine(e)
                      , r = "end" === n ? -1 : 1
                      , o = this.getFoldAt(e, -1 === r ? 0 : i.length, r);
                    if (o)
                        return t.children || t.all ? this.removeFold(o) : this.expandFold(o),
                        o;
                    var s = this.getFoldWidgetRange(e, !0);
                    if (s && !s.isMultiLine() && (o = this.getFoldAt(s.start.row, s.start.column, 1)) && s.isEqual(o.range))
                        return this.removeFold(o),
                        o;
                    if (t.siblings) {
                        var a = this.getParentFoldRangeData(e);
                        if (a.range)
                            var l = a.range.start.row + 1
                              , c = a.range.end.row;
                        this.foldAll(l, c, t.all ? 1e4 : 0)
                    } else
                        t.children ? (c = s ? s.end.row : this.getLength(),
                        this.foldAll(e + 1, c, t.all ? 1e4 : 0)) : s && (t.all && (s.collapseChildren = 1e4),
                        this.addFold("...", s));
                    return s
                }
            }
            ,
            this.toggleFoldWidget = function(e) {
                var t = this.selection.getCursor().row;
                t = this.getRowFoldStart(t);
                var n = this.$toggleFoldWidget(t, {});
                if (!n) {
                    var i = this.getParentFoldRangeData(t, !0);
                    if (n = i.range || i.firstRange) {
                        t = n.start.row;
                        var r = this.getFoldAt(t, this.getLine(t).length, 1);
                        r ? this.removeFold(r) : this.addFold("...", n)
                    }
                }
            }
            ,
            this.updateFoldWidgets = function(e) {
                var t = e.start.row
                  , n = e.end.row - t;
                if (0 === n)
                    this.foldWidgets[t] = null;
                else if ("remove" == e.action)
                    this.foldWidgets.splice(t, n + 1, null);
                else {
                    var i = Array(n + 1);
                    i.unshift(t, 1),
                    this.foldWidgets.splice.apply(this.foldWidgets, i)
                }
            }
            ,
            this.tokenizerUpdateFoldWidgets = function(e) {
                var t = e.data;
                t.first != t.last && this.foldWidgets.length > t.first && this.foldWidgets.splice(t.first, this.foldWidgets.length)
            }
        }
        var r = e("../range").Range
          , o = e("./fold_line").FoldLine
          , s = e("./fold").Fold
          , a = e("../token_iterator").TokenIterator;
        t.Folding = i
    }),
    ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(e, t, n) {
        "use strict";
        function i() {
            this.findMatchingBracket = function(e, t) {
                if (0 == e.column)
                    return null;
                var n = t || this.getLine(e.row).charAt(e.column - 1);
                if ("" == n)
                    return null;
                var i = n.match(/([\(\[\{])|([\)\]\}])/);
                return i ? i[1] ? this.$findClosingBracket(i[1], e) : this.$findOpeningBracket(i[2], e) : null
            }
            ,
            this.getBracketRange = function(e) {
                var t, n = this.getLine(e.row), i = !0, r = n.charAt(e.column - 1), s = r && r.match(/([\(\[\{])|([\)\]\}])/);
                if (s || (r = n.charAt(e.column),
                e = {
                    row: e.row,
                    column: e.column + 1
                },
                s = r && r.match(/([\(\[\{])|([\)\]\}])/),
                i = !1),
                !s)
                    return null;
                if (s[1]) {
                    var a = this.$findClosingBracket(s[1], e);
                    if (!a)
                        return null;
                    t = o.fromPoints(e, a),
                    i || (t.end.column++,
                    t.start.column--),
                    t.cursor = t.end
                } else {
                    var a = this.$findOpeningBracket(s[2], e);
                    if (!a)
                        return null;
                    t = o.fromPoints(a, e),
                    i || (t.start.column++,
                    t.end.column--),
                    t.cursor = t.start
                }
                return t
            }
            ,
            this.$brackets = {
                ")": "(",
                "(": ")",
                "]": "[",
                "[": "]",
                "{": "}",
                "}": "{"
            },
            this.$findOpeningBracket = function(e, t, n) {
                var i = this.$brackets[e]
                  , o = 1
                  , s = new r(this,t.row,t.column)
                  , a = s.getCurrentToken();
                if (a || (a = s.stepForward()),
                a) {
                    n || (n = new RegExp("(\\.?" + a.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+"));
                    for (var l = t.column - s.getCurrentTokenColumn() - 2, c = a.value; ; ) {
                        for (; l >= 0; ) {
                            var u = c.charAt(l);
                            if (u == i) {
                                if (0 == (o -= 1))
                                    return {
                                        row: s.getCurrentTokenRow(),
                                        column: l + s.getCurrentTokenColumn()
                                    }
                            } else
                                u == e && (o += 1);
                            l -= 1
                        }
                        do {
                            a = s.stepBackward()
                        } while (a && !n.test(a.type));
                        if (null == a)
                            break;
                        c = a.value,
                        l = c.length - 1
                    }
                    return null
                }
            }
            ,
            this.$findClosingBracket = function(e, t, n) {
                var i = this.$brackets[e]
                  , o = 1
                  , s = new r(this,t.row,t.column)
                  , a = s.getCurrentToken();
                if (a || (a = s.stepForward()),
                a) {
                    n || (n = new RegExp("(\\.?" + a.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+"));
                    for (var l = t.column - s.getCurrentTokenColumn(); ; ) {
                        for (var c = a.value, u = c.length; l < u; ) {
                            var h = c.charAt(l);
                            if (h == i) {
                                if (0 == (o -= 1))
                                    return {
                                        row: s.getCurrentTokenRow(),
                                        column: l + s.getCurrentTokenColumn()
                                    }
                            } else
                                h == e && (o += 1);
                            l += 1
                        }
                        do {
                            a = s.stepForward()
                        } while (a && !n.test(a.type));
                        if (null == a)
                            break;
                        l = 0
                    }
                    return null
                }
            }
        }
        var r = e("../token_iterator").TokenIterator
          , o = e("../range").Range;
        t.BracketMatch = i
    }),
    ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./lib/lang")
          , o = e("./bidihandler").BidiHandler
          , s = e("./config")
          , a = e("./lib/event_emitter").EventEmitter
          , l = e("./selection").Selection
          , c = e("./mode/text").Mode
          , u = e("./range").Range
          , h = e("./document").Document
          , d = e("./background_tokenizer").BackgroundTokenizer
          , f = e("./search_highlight").SearchHighlight
          , g = function(e, t) {
            this.$breakpoints = [],
            this.$decorations = [],
            this.$frontMarkers = {},
            this.$backMarkers = {},
            this.$markerId = 1,
            this.$undoSelect = !0,
            this.$foldData = [],
            this.id = "session" + ++g.$uid,
            this.$foldData.toString = function() {
                return this.join("\n")
            }
            ,
            this.on("changeFold", this.onChangeFold.bind(this)),
            this.$onChange = this.onChange.bind(this),
            "object" == typeof e && e.getLine || (e = new h(e)),
            this.$bidiHandler = new o(this),
            this.setDocument(e),
            this.selection = new l(this),
            s.resetOptions(this),
            this.setMode(t),
            s._signal("session", this)
        };
        g.$uid = 0,
        function() {
            function e(e) {
                return !(e < 4352) && (e >= 4352 && e <= 4447 || e >= 4515 && e <= 4519 || e >= 4602 && e <= 4607 || e >= 9001 && e <= 9002 || e >= 11904 && e <= 11929 || e >= 11931 && e <= 12019 || e >= 12032 && e <= 12245 || e >= 12272 && e <= 12283 || e >= 12288 && e <= 12350 || e >= 12353 && e <= 12438 || e >= 12441 && e <= 12543 || e >= 12549 && e <= 12589 || e >= 12593 && e <= 12686 || e >= 12688 && e <= 12730 || e >= 12736 && e <= 12771 || e >= 12784 && e <= 12830 || e >= 12832 && e <= 12871 || e >= 12880 && e <= 13054 || e >= 13056 && e <= 19903 || e >= 19968 && e <= 42124 || e >= 42128 && e <= 42182 || e >= 43360 && e <= 43388 || e >= 44032 && e <= 55203 || e >= 55216 && e <= 55238 || e >= 55243 && e <= 55291 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65106 || e >= 65108 && e <= 65126 || e >= 65128 && e <= 65131 || e >= 65281 && e <= 65376 || e >= 65504 && e <= 65510)
            }
            i.implement(this, a),
            this.setDocument = function(e) {
                this.doc && this.doc.removeListener("change", this.$onChange),
                this.doc = e,
                e.on("change", this.$onChange),
                this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()),
                this.resetCaches()
            }
            ,
            this.getDocument = function() {
                return this.doc
            }
            ,
            this.$resetRowCache = function(e) {
                if (!e)
                    return this.$docRowCache = [],
                    void (this.$screenRowCache = []);
                var t = this.$docRowCache.length
                  , n = this.$getRowCacheIndex(this.$docRowCache, e) + 1;
                t > n && (this.$docRowCache.splice(n, t),
                this.$screenRowCache.splice(n, t))
            }
            ,
            this.$getRowCacheIndex = function(e, t) {
                for (var n = 0, i = e.length - 1; n <= i; ) {
                    var r = n + i >> 1
                      , o = e[r];
                    if (t > o)
                        n = r + 1;
                    else {
                        if (!(t < o))
                            return r;
                        i = r - 1
                    }
                }
                return n - 1
            }
            ,
            this.resetCaches = function() {
                this.$modified = !0,
                this.$wrapData = [],
                this.$rowLengthCache = [],
                this.$resetRowCache(0),
                this.bgTokenizer && this.bgTokenizer.start(0)
            }
            ,
            this.onChangeFold = function(e) {
                var t = e.data;
                this.$resetRowCache(t.start.row)
            }
            ,
            this.onChange = function(e) {
                this.$modified = !0,
                this.$bidiHandler.onChange(e),
                this.$resetRowCache(e.start.row);
                var t = this.$updateInternalDataOnChange(e);
                this.$fromUndo || !this.$undoManager || e.ignore || (this.$deltasDoc.push(e),
                t && 0 != t.length && this.$deltasFold.push({
                    action: "removeFolds",
                    folds: t
                }),
                this.$informUndoManager.schedule()),
                this.bgTokenizer && this.bgTokenizer.$updateOnChange(e),
                this._signal("change", e)
            }
            ,
            this.setValue = function(e) {
                this.doc.setValue(e),
                this.selection.moveTo(0, 0),
                this.$resetRowCache(0),
                this.$deltas = [],
                this.$deltasDoc = [],
                this.$deltasFold = [],
                this.setUndoManager(this.$undoManager),
                this.getUndoManager().reset()
            }
            ,
            this.getValue = this.toString = function() {
                return this.doc.getValue()
            }
            ,
            this.getSelection = function() {
                return this.selection
            }
            ,
            this.getState = function(e) {
                return this.bgTokenizer.getState(e)
            }
            ,
            this.getTokens = function(e) {
                return this.bgTokenizer.getTokens(e)
            }
            ,
            this.getTokenAt = function(e, t) {
                var n, i = this.bgTokenizer.getTokens(e), r = 0;
                if (null == t) {
                    var o = i.length - 1;
                    r = this.getLine(e).length
                } else
                    for (var o = 0; o < i.length && !((r += i[o].value.length) >= t); o++)
                        ;
                return (n = i[o]) ? (n.index = o,
                n.start = r - n.value.length,
                n) : null
            }
            ,
            this.setUndoManager = function(e) {
                if (this.$undoManager = e,
                this.$deltas = [],
                this.$deltasDoc = [],
                this.$deltasFold = [],
                this.$informUndoManager && this.$informUndoManager.cancel(),
                e) {
                    var t = this;
                    this.$syncInformUndoManager = function() {
                        t.$informUndoManager.cancel(),
                        t.$deltasFold.length && (t.$deltas.push({
                            group: "fold",
                            deltas: t.$deltasFold
                        }),
                        t.$deltasFold = []),
                        t.$deltasDoc.length && (t.$deltas.push({
                            group: "doc",
                            deltas: t.$deltasDoc
                        }),
                        t.$deltasDoc = []),
                        t.$deltas.length > 0 && e.execute({
                            action: "aceupdate",
                            args: [t.$deltas, t],
                            merge: t.mergeUndoDeltas
                        }),
                        t.mergeUndoDeltas = !1,
                        t.$deltas = []
                    }
                    ,
                    this.$informUndoManager = r.delayedCall(this.$syncInformUndoManager)
                }
            }
            ,
            this.markUndoGroup = function() {
                this.$syncInformUndoManager && this.$syncInformUndoManager()
            }
            ,
            this.$defaultUndoManager = {
                undo: function() {},
                redo: function() {},
                reset: function() {}
            },
            this.getUndoManager = function() {
                return this.$undoManager || this.$defaultUndoManager
            }
            ,
            this.getTabString = function() {
                return this.getUseSoftTabs() ? r.stringRepeat(" ", this.getTabSize()) : "\t"
            }
            ,
            this.setUseSoftTabs = function(e) {
                this.setOption("useSoftTabs", e)
            }
            ,
            this.getUseSoftTabs = function() {
                return this.$useSoftTabs && !this.$mode.$indentWithTabs
            }
            ,
            this.setTabSize = function(e) {
                this.setOption("tabSize", e)
            }
            ,
            this.getTabSize = function() {
                return this.$tabSize
            }
            ,
            this.isTabStop = function(e) {
                return this.$useSoftTabs && e.column % this.$tabSize == 0
            }
            ,
            this.setNavigateWithinSoftTabs = function(e) {
                this.setOption("navigateWithinSoftTabs", e)
            }
            ,
            this.getNavigateWithinSoftTabs = function() {
                return this.$navigateWithinSoftTabs
            }
            ,
            this.$overwrite = !1,
            this.setOverwrite = function(e) {
                this.setOption("overwrite", e)
            }
            ,
            this.getOverwrite = function() {
                return this.$overwrite
            }
            ,
            this.toggleOverwrite = function() {
                this.setOverwrite(!this.$overwrite)
            }
            ,
            this.addGutterDecoration = function(e, t) {
                this.$decorations[e] || (this.$decorations[e] = ""),
                this.$decorations[e] += " " + t,
                this._signal("changeBreakpoint", {})
            }
            ,
            this.removeGutterDecoration = function(e, t) {
                this.$decorations[e] = (this.$decorations[e] || "").replace(" " + t, ""),
                this._signal("changeBreakpoint", {})
            }
            ,
            this.getBreakpoints = function() {
                return this.$breakpoints
            }
            ,
            this.setBreakpoints = function(e) {
                this.$breakpoints = [];
                for (var t = 0; t < e.length; t++)
                    this.$breakpoints[e[t]] = "ace_breakpoint";
                this._signal("changeBreakpoint", {})
            }
            ,
            this.clearBreakpoints = function() {
                this.$breakpoints = [],
                this._signal("changeBreakpoint", {})
            }
            ,
            this.setBreakpoint = function(e, t) {
                void 0 === t && (t = "ace_breakpoint"),
                t ? this.$breakpoints[e] = t : delete this.$breakpoints[e],
                this._signal("changeBreakpoint", {})
            }
            ,
            this.clearBreakpoint = function(e) {
                delete this.$breakpoints[e],
                this._signal("changeBreakpoint", {})
            }
            ,
            this.addMarker = function(e, t, n, i) {
                var r = this.$markerId++
                  , o = {
                    range: e,
                    type: n || "line",
                    renderer: "function" == typeof n ? n : null,
                    clazz: t,
                    inFront: !!i,
                    id: r
                };
                return i ? (this.$frontMarkers[r] = o,
                this._signal("changeFrontMarker")) : (this.$backMarkers[r] = o,
                this._signal("changeBackMarker")),
                r
            }
            ,
            this.addDynamicMarker = function(e, t) {
                if (e.update) {
                    var n = this.$markerId++;
                    return e.id = n,
                    e.inFront = !!t,
                    t ? (this.$frontMarkers[n] = e,
                    this._signal("changeFrontMarker")) : (this.$backMarkers[n] = e,
                    this._signal("changeBackMarker")),
                    e
                }
            }
            ,
            this.removeMarker = function(e) {
                var t = this.$frontMarkers[e] || this.$backMarkers[e];
                if (t) {
                    var n = t.inFront ? this.$frontMarkers : this.$backMarkers;
                    t && (delete n[e],
                    this._signal(t.inFront ? "changeFrontMarker" : "changeBackMarker"))
                }
            }
            ,
            this.getMarkers = function(e) {
                return e ? this.$frontMarkers : this.$backMarkers
            }
            ,
            this.highlight = function(e) {
                if (!this.$searchHighlight) {
                    var t = new f(null,"ace_selected-word","text");
                    this.$searchHighlight = this.addDynamicMarker(t)
                }
                this.$searchHighlight.setRegexp(e)
            }
            ,
            this.highlightLines = function(e, t, n, i) {
                "number" != typeof t && (n = t,
                t = e),
                n || (n = "ace_step");
                var r = new u(e,0,t,1 / 0);
                return r.id = this.addMarker(r, n, "fullLine", i),
                r
            }
            ,
            this.setAnnotations = function(e) {
                this.$annotations = e,
                this._signal("changeAnnotation", {})
            }
            ,
            this.getAnnotations = function() {
                return this.$annotations || []
            }
            ,
            this.clearAnnotations = function() {
                this.setAnnotations([])
            }
            ,
            this.$detectNewLine = function(e) {
                var t = e.match(/^.*?(\r?\n)/m);
                this.$autoNewLine = t ? t[1] : "\n"
            }
            ,
            this.getWordRange = function(e, t) {
                var n = this.getLine(e)
                  , i = !1;
                if (t > 0 && (i = !!n.charAt(t - 1).match(this.tokenRe)),
                i || (i = !!n.charAt(t).match(this.tokenRe)),
                i)
                    var r = this.tokenRe;
                else if (/^\s+$/.test(n.slice(t - 1, t + 1)))
                    var r = /\s/;
                else
                    var r = this.nonTokenRe;
                var o = t;
                if (o > 0) {
                    do {
                        o--
                    } while (o >= 0 && n.charAt(o).match(r));
                    o++
                }
                for (var s = t; s < n.length && n.charAt(s).match(r); )
                    s++;
                return new u(e,o,e,s)
            }
            ,
            this.getAWordRange = function(e, t) {
                for (var n = this.getWordRange(e, t), i = this.getLine(n.end.row); i.charAt(n.end.column).match(/[ \t]/); )
                    n.end.column += 1;
                return n
            }
            ,
            this.setNewLineMode = function(e) {
                this.doc.setNewLineMode(e)
            }
            ,
            this.getNewLineMode = function() {
                return this.doc.getNewLineMode()
            }
            ,
            this.setUseWorker = function(e) {
                this.setOption("useWorker", e)
            }
            ,
            this.getUseWorker = function() {
                return this.$useWorker
            }
            ,
            this.onReloadTokenizer = function(e) {
                var t = e.data;
                this.bgTokenizer.start(t.first),
                this._signal("tokenizerUpdate", e)
            }
            ,
            this.$modes = {},
            this.$mode = null,
            this.$modeId = null,
            this.setMode = function(e, t) {
                if (e && "object" == typeof e) {
                    if (e.getTokenizer)
                        return this.$onChangeMode(e);
                    var n = e
                      , i = n.path
                } else
                    i = e || "ace/mode/text";
                if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new c),
                this.$modes[i] && !n)
                    return this.$onChangeMode(this.$modes[i]),
                    void (t && t());
                this.$modeId = i,
                s.loadModule(["mode", i], function(e) {
                    if (this.$modeId !== i)
                        return t && t();
                    this.$modes[i] && !n ? this.$onChangeMode(this.$modes[i]) : e && e.Mode && (e = new e.Mode(n),
                    n || (this.$modes[i] = e,
                    e.$id = i),
                    this.$onChangeMode(e)),
                    t && t()
                }
                .bind(this)),
                this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0)
            }
            ,
            this.$onChangeMode = function(e, t) {
                if (t || (this.$modeId = e.$id),
                this.$mode !== e) {
                    this.$mode = e,
                    this.$stopWorker(),
                    this.$useWorker && this.$startWorker();
                    var n = e.getTokenizer();
                    if (void 0 !== n.addEventListener) {
                        var i = this.onReloadTokenizer.bind(this);
                        n.addEventListener("update", i)
                    }
                    if (this.bgTokenizer)
                        this.bgTokenizer.setTokenizer(n);
                    else {
                        this.bgTokenizer = new d(n);
                        var r = this;
                        this.bgTokenizer.addEventListener("update", function(e) {
                            r._signal("tokenizerUpdate", e)
                        })
                    }
                    this.bgTokenizer.setDocument(this.getDocument()),
                    this.tokenRe = e.tokenRe,
                    this.nonTokenRe = e.nonTokenRe,
                    t || (e.attachToSession && e.attachToSession(this),
                    this.$options.wrapMethod.set.call(this, this.$wrapMethod),
                    this.$setFolding(e.foldingRules),
                    this.bgTokenizer.start(0),
                    this._emit("changeMode"))
                }
            }
            ,
            this.$stopWorker = function() {
                this.$worker && (this.$worker.terminate(),
                this.$worker = null)
            }
            ,
            this.$startWorker = function() {
                try {
                    this.$worker = this.$mode.createWorker(this)
                } catch (e) {
                    s.warn("Could not load worker", e),
                    this.$worker = null
                }
            }
            ,
            this.getMode = function() {
                return this.$mode
            }
            ,
            this.$scrollTop = 0,
            this.setScrollTop = function(e) {
                this.$scrollTop === e || isNaN(e) || (this.$scrollTop = e,
                this._signal("changeScrollTop", e))
            }
            ,
            this.getScrollTop = function() {
                return this.$scrollTop
            }
            ,
            this.$scrollLeft = 0,
            this.setScrollLeft = function(e) {
                this.$scrollLeft === e || isNaN(e) || (this.$scrollLeft = e,
                this._signal("changeScrollLeft", e))
            }
            ,
            this.getScrollLeft = function() {
                return this.$scrollLeft
            }
            ,
            this.getScreenWidth = function() {
                return this.$computeWidth(),
                this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth
            }
            ,
            this.getLineWidgetMaxWidth = function() {
                if (null != this.lineWidgetsWidth)
                    return this.lineWidgetsWidth;
                var e = 0;
                return this.lineWidgets.forEach(function(t) {
                    t && t.screenWidth > e && (e = t.screenWidth)
                }),
                this.lineWidgetWidth = e
            }
            ,
            this.$computeWidth = function(e) {
                if (this.$modified || e) {
                    if (this.$modified = !1,
                    this.$useWrapMode)
                        return this.screenWidth = this.$wrapLimit;
                    for (var t = this.doc.getAllLines(), n = this.$rowLengthCache, i = 0, r = 0, o = this.$foldData[r], s = o ? o.start.row : 1 / 0, a = t.length, l = 0; l < a; l++) {
                        if (l > s) {
                            if ((l = o.end.row + 1) >= a)
                                break;
                            o = this.$foldData[r++],
                            s = o ? o.start.row : 1 / 0
                        }
                        null == n[l] && (n[l] = this.$getStringScreenWidth(t[l])[0]),
                        n[l] > i && (i = n[l])
                    }
                    this.screenWidth = i
                }
            }
            ,
            this.getLine = function(e) {
                return this.doc.getLine(e)
            }
            ,
            this.getLines = function(e, t) {
                return this.doc.getLines(e, t)
            }
            ,
            this.getLength = function() {
                return this.doc.getLength()
            }
            ,
            this.getTextRange = function(e) {
                return this.doc.getTextRange(e || this.selection.getRange())
            }
            ,
            this.insert = function(e, t) {
                return this.doc.insert(e, t)
            }
            ,
            this.remove = function(e) {
                return this.doc.remove(e)
            }
            ,
            this.removeFullLines = function(e, t) {
                return this.doc.removeFullLines(e, t)
            }
            ,
            this.undoChanges = function(e, t) {
                if (e.length) {
                    this.$fromUndo = !0;
                    for (var n = null, i = e.length - 1; -1 != i; i--) {
                        var r = e[i];
                        "doc" == r.group ? (this.doc.revertDeltas(r.deltas),
                        n = this.$getUndoSelection(r.deltas, !0, n)) : r.deltas.forEach(function(e) {
                            this.addFolds(e.folds)
                        }, this)
                    }
                    return this.$fromUndo = !1,
                    n && this.$undoSelect && !t && this.selection.setSelectionRange(n),
                    n
                }
            }
            ,
            this.redoChanges = function(e, t) {
                if (e.length) {
                    this.$fromUndo = !0;
                    for (var n = null, i = 0; i < e.length; i++) {
                        var r = e[i];
                        "doc" == r.group && (this.doc.applyDeltas(r.deltas),
                        n = this.$getUndoSelection(r.deltas, !1, n))
                    }
                    return this.$fromUndo = !1,
                    n && this.$undoSelect && !t && this.selection.setSelectionRange(n),
                    n
                }
            }
            ,
            this.setUndoSelect = function(e) {
                this.$undoSelect = e
            }
            ,
            this.$getUndoSelection = function(e, t, n) {
                function i(e) {
                    return t ? "insert" !== e.action : "insert" === e.action
                }
                var r, o, s = e[0];
                i(s) ? r = u.fromPoints(s.start, s.end) : r = u.fromPoints(s.start, s.start);
                for (var a = 1; a < e.length; a++)
                    s = e[a],
                    i(s) ? (o = s.start,
                    -1 == r.compare(o.row, o.column) && r.setStart(o),
                    o = s.end,
                    1 == r.compare(o.row, o.column) && r.setEnd(o),
                    !0) : (o = s.start,
                    -1 == r.compare(o.row, o.column) && (r = u.fromPoints(s.start, s.start)),
                    !1);
                if (null != n) {
                    0 === u.comparePoints(n.start, r.start) && (n.start.column += r.end.column - r.start.column,
                    n.end.column += r.end.column - r.start.column);
                    var l = n.compareRange(r);
                    1 == l ? r.setStart(n.start) : -1 == l && r.setEnd(n.end)
                }
                return r
            }
            ,
            this.replace = function(e, t) {
                return this.doc.replace(e, t)
            }
            ,
            this.moveText = function(e, t, n) {
                var i = this.getTextRange(e)
                  , r = this.getFoldsInRange(e)
                  , o = u.fromPoints(t, t);
                if (!n) {
                    this.remove(e);
                    var s = e.start.row - e.end.row
                      , a = s ? -e.end.column : e.start.column - e.end.column;
                    a && (o.start.row == e.end.row && o.start.column > e.end.column && (o.start.column += a),
                    o.end.row == e.end.row && o.end.column > e.end.column && (o.end.column += a)),
                    s && o.start.row >= e.end.row && (o.start.row += s,
                    o.end.row += s)
                }
                if (o.end = this.insert(o.start, i),
                r.length) {
                    var l = e.start
                      , c = o.start
                      , s = c.row - l.row
                      , a = c.column - l.column;
                    this.addFolds(r.map(function(e) {
                        return e = e.clone(),
                        e.start.row == l.row && (e.start.column += a),
                        e.end.row == l.row && (e.end.column += a),
                        e.start.row += s,
                        e.end.row += s,
                        e
                    }))
                }
                return o
            }
            ,
            this.indentRows = function(e, t, n) {
                n = n.replace(/\t/g, this.getTabString());
                for (var i = e; i <= t; i++)
                    this.doc.insertInLine({
                        row: i,
                        column: 0
                    }, n)
            }
            ,
            this.outdentRows = function(e) {
                for (var t = e.collapseRows(), n = new u(0,0,0,0), i = this.getTabSize(), r = t.start.row; r <= t.end.row; ++r) {
                    var o = this.getLine(r);
                    n.start.row = r,
                    n.end.row = r;
                    for (var s = 0; s < i && " " == o.charAt(s); ++s)
                        ;
                    s < i && "\t" == o.charAt(s) ? (n.start.column = s,
                    n.end.column = s + 1) : (n.start.column = 0,
                    n.end.column = s),
                    this.remove(n)
                }
            }
            ,
            this.$moveLines = function(e, t, n) {
                if (e = this.getRowFoldStart(e),
                t = this.getRowFoldEnd(t),
                n < 0) {
                    var i = this.getRowFoldStart(e + n);
                    if (i < 0)
                        return 0;
                    var r = i - e
                } else if (n > 0) {
                    var i = this.getRowFoldEnd(t + n);
                    if (i > this.doc.getLength() - 1)
                        return 0;
                    var r = i - t
                } else {
                    e = this.$clipRowToDocument(e),
                    t = this.$clipRowToDocument(t);
                    var r = t - e + 1
                }
                var o = new u(e,0,t,Number.MAX_VALUE)
                  , s = this.getFoldsInRange(o).map(function(e) {
                    return e = e.clone(),
                    e.start.row += r,
                    e.end.row += r,
                    e
                })
                  , a = 0 == n ? this.doc.getLines(e, t) : this.doc.removeFullLines(e, t);
                return this.doc.insertFullLines(e + r, a),
                s.length && this.addFolds(s),
                r
            }
            ,
            this.moveLinesUp = function(e, t) {
                return this.$moveLines(e, t, -1)
            }
            ,
            this.moveLinesDown = function(e, t) {
                return this.$moveLines(e, t, 1)
            }
            ,
            this.duplicateLines = function(e, t) {
                return this.$moveLines(e, t, 0)
            }
            ,
            this.$clipRowToDocument = function(e) {
                return Math.max(0, Math.min(e, this.doc.getLength() - 1))
            }
            ,
            this.$clipColumnToRow = function(e, t) {
                return t < 0 ? 0 : Math.min(this.doc.getLine(e).length, t)
            }
            ,
            this.$clipPositionToDocument = function(e, t) {
                if (t = Math.max(0, t),
                e < 0)
                    e = 0,
                    t = 0;
                else {
                    var n = this.doc.getLength();
                    e >= n ? (e = n - 1,
                    t = this.doc.getLine(n - 1).length) : t = Math.min(this.doc.getLine(e).length, t)
                }
                return {
                    row: e,
                    column: t
                }
            }
            ,
            this.$clipRangeToDocument = function(e) {
                e.start.row < 0 ? (e.start.row = 0,
                e.start.column = 0) : e.start.column = this.$clipColumnToRow(e.start.row, e.start.column);
                var t = this.doc.getLength() - 1;
                return e.end.row > t ? (e.end.row = t,
                e.end.column = this.doc.getLine(t).length) : e.end.column = this.$clipColumnToRow(e.end.row, e.end.column),
                e
            }
            ,
            this.$wrapLimit = 80,
            this.$useWrapMode = !1,
            this.$wrapLimitRange = {
                min: null,
                max: null
            },
            this.setUseWrapMode = function(e) {
                if (e != this.$useWrapMode) {
                    if (this.$useWrapMode = e,
                    this.$modified = !0,
                    this.$resetRowCache(0),
                    e) {
                        var t = this.getLength();
                        this.$wrapData = Array(t),
                        this.$updateWrapData(0, t - 1)
                    }
                    this._signal("changeWrapMode")
                }
            }
            ,
            this.getUseWrapMode = function() {
                return this.$useWrapMode
            }
            ,
            this.setWrapLimitRange = function(e, t) {
                this.$wrapLimitRange.min === e && this.$wrapLimitRange.max === t || (this.$wrapLimitRange = {
                    min: e,
                    max: t
                },
                this.$modified = !0,
                this.$bidiHandler.markAsDirty(),
                this.$useWrapMode && this._signal("changeWrapMode"))
            }
            ,
            this.adjustWrapLimit = function(e, t) {
                var n = this.$wrapLimitRange;
                n.max < 0 && (n = {
                    min: t,
                    max: t
                });
                var i = this.$constrainWrapLimit(e, n.min, n.max);
                return i != this.$wrapLimit && i > 1 && (this.$wrapLimit = i,
                this.$modified = !0,
                this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1),
                this.$resetRowCache(0),
                this._signal("changeWrapLimit")),
                !0)
            }
            ,
            this.$constrainWrapLimit = function(e, t, n) {
                return t && (e = Math.max(t, e)),
                n && (e = Math.min(n, e)),
                e
            }
            ,
            this.getWrapLimit = function() {
                return this.$wrapLimit
            }
            ,
            this.setWrapLimit = function(e) {
                this.setWrapLimitRange(e, e)
            }
            ,
            this.getWrapLimitRange = function() {
                return {
                    min: this.$wrapLimitRange.min,
                    max: this.$wrapLimitRange.max
                }
            }
            ,
            this.$updateInternalDataOnChange = function(e) {
                var t = this.$useWrapMode
                  , n = e.action
                  , i = e.start
                  , r = e.end
                  , o = i.row
                  , s = r.row
                  , a = s - o
                  , l = null;
                if (this.$updating = !0,
                0 != a)
                    if ("remove" === n) {
                        this[t ? "$wrapData" : "$rowLengthCache"].splice(o, a);
                        var c = this.$foldData;
                        l = this.getFoldsInRange(e),
                        this.removeFolds(l);
                        var u = this.getFoldLine(r.row)
                          , h = 0;
                        if (u) {
                            u.addRemoveChars(r.row, r.column, i.column - r.column),
                            u.shiftRow(-a);
                            var d = this.getFoldLine(o);
                            d && d !== u && (d.merge(u),
                            u = d),
                            h = c.indexOf(u) + 1
                        }
                        for (h; h < c.length; h++) {
                            var u = c[h];
                            u.start.row >= r.row && u.shiftRow(-a)
                        }
                        s = o
                    } else {
                        var f = Array(a);
                        f.unshift(o, 0);
                        var g = t ? this.$wrapData : this.$rowLengthCache;
                        g.splice.apply(g, f);
                        var c = this.$foldData
                          , u = this.getFoldLine(o)
                          , h = 0;
                        if (u) {
                            var p = u.range.compareInside(i.row, i.column);
                            0 == p ? (u = u.split(i.row, i.column)) && (u.shiftRow(a),
                            u.addRemoveChars(s, 0, r.column - i.column)) : -1 == p && (u.addRemoveChars(o, 0, r.column - i.column),
                            u.shiftRow(a)),
                            h = c.indexOf(u) + 1
                        }
                        for (h; h < c.length; h++) {
                            var u = c[h];
                            u.start.row >= o && u.shiftRow(a)
                        }
                    }
                else {
                    a = Math.abs(e.start.column - e.end.column),
                    "remove" === n && (l = this.getFoldsInRange(e),
                    this.removeFolds(l),
                    a = -a);
                    var u = this.getFoldLine(o);
                    u && u.addRemoveChars(o, i.column, a)
                }
                return t && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"),
                this.$updating = !1,
                t ? this.$updateWrapData(o, s) : this.$updateRowLengthCache(o, s),
                l
            }
            ,
            this.$updateRowLengthCache = function(e, t, n) {
                this.$rowLengthCache[e] = null,
                this.$rowLengthCache[t] = null
            }
            ,
            this.$updateWrapData = function(e, i) {
                var r, o, s = this.doc.getAllLines(), a = this.getTabSize(), l = this.$wrapData, c = this.$wrapLimit, u = e;
                for (i = Math.min(i, s.length - 1); u <= i; )
                    o = this.getFoldLine(u, o),
                    o ? (r = [],
                    o.walk(function(e, i, o, a) {
                        var l;
                        if (null != e) {
                            l = this.$getDisplayTokens(e, r.length),
                            l[0] = t;
                            for (var c = 1; c < l.length; c++)
                                l[c] = n
                        } else
                            l = this.$getDisplayTokens(s[i].substring(a, o), r.length);
                        r = r.concat(l)
                    }
                    .bind(this), o.end.row, s[o.end.row].length + 1),
                    l[o.start.row] = this.$computeWrapSplits(r, c, a),
                    u = o.end.row + 1) : (r = this.$getDisplayTokens(s[u]),
                    l[u] = this.$computeWrapSplits(r, c, a),
                    u++)
            }
            ;
            var t = 3
              , n = 4
              , o = 10
              , l = 11
              , h = 12;
            this.$computeWrapSplits = function(e, i, r) {
                function s() {
                    var t = 0;
                    if (0 === m)
                        return t;
                    if (p)
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            if (i == o)
                                t += 1;
                            else {
                                if (i != l) {
                                    if (i == h)
                                        continue;
                                    break
                                }
                                t += r
                            }
                        }
                    return g && !1 !== p && (t += r),
                    Math.min(t, m)
                }
                function a(t) {
                    var n = e.slice(d, t)
                      , i = n.length;
                    n.join("").replace(/12/g, function() {
                        i -= 1
                    }).replace(/2/g, function() {
                        i -= 1
                    }),
                    c.length || (v = s(),
                    c.indent = v),
                    f += i,
                    c.push(f),
                    d = t
                }
                if (0 == e.length)
                    return [];
                for (var c = [], u = e.length, d = 0, f = 0, g = this.$wrapAsCode, p = this.$indentedSoftWrap, m = i <= Math.max(2 * r, 8) || !1 === p ? 0 : Math.floor(i / 2), v = 0; u - d > i - v; ) {
                    var A = d + i - v;
                    if (e[A - 1] >= o && e[A] >= o)
                        a(A);
                    else if (e[A] != t && e[A] != n) {
                        for (var w = Math.max(A - (i - (i >> 2)), d - 1); A > w && e[A] < t; )
                            A--;
                        if (g) {
                            for (; A > w && e[A] < t; )
                                A--;
                            for (; A > w && 9 == e[A]; )
                                A--
                        } else
                            for (; A > w && e[A] < o; )
                                A--;
                        A > w ? a(++A) : (A = d + i,
                        2 == e[A] && A--,
                        a(A - v))
                    } else {
                        for (A; A != d - 1 && e[A] != t; A--)
                            ;
                        if (A > d) {
                            a(A);
                            continue
                        }
                        for (A = d + i; A < e.length && e[A] == n; A++)
                            ;
                        if (A == e.length)
                            break;
                        a(A)
                    }
                }
                return c
            }
            ,
            this.$getDisplayTokens = function(t, n) {
                var i, r = [];
                n = n || 0;
                for (var s = 0; s < t.length; s++) {
                    var a = t.charCodeAt(s);
                    if (9 == a) {
                        i = this.getScreenTabSize(r.length + n),
                        r.push(l);
                        for (var c = 1; c < i; c++)
                            r.push(h)
                    } else
                        32 == a ? r.push(o) : a > 39 && a < 48 || a > 57 && a < 64 ? r.push(9) : a >= 4352 && e(a) ? r.push(1, 2) : r.push(1)
                }
                return r
            }
            ,
            this.$getStringScreenWidth = function(t, n, i) {
                if (0 == n)
                    return [0, 0];
                null == n && (n = 1 / 0),
                i = i || 0;
                var r, o;
                for (o = 0; o < t.length && (r = t.charCodeAt(o),
                9 == r ? i += this.getScreenTabSize(i) : r >= 4352 && e(r) ? i += 2 : i += 1,
                !(i > n)); o++)
                    ;
                return [i, o]
            }
            ,
            this.lineWidgets = null,
            this.getRowLength = function(e) {
                if (this.lineWidgets)
                    var t = this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0;
                else
                    t = 0;
                return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t
            }
            ,
            this.getRowLineCount = function(e) {
                return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 : 1
            }
            ,
            this.getRowWrapIndent = function(e) {
                if (this.$useWrapMode) {
                    var t = this.screenToDocumentPosition(e, Number.MAX_VALUE)
                      , n = this.$wrapData[t.row];
                    return n.length && n[0] < t.column ? n.indent : 0
                }
                return 0
            }
            ,
            this.getScreenLastRowColumn = function(e) {
                var t = this.screenToDocumentPosition(e, Number.MAX_VALUE);
                return this.documentToScreenColumn(t.row, t.column)
            }
            ,
            this.getDocumentLastRowColumn = function(e, t) {
                var n = this.documentToScreenRow(e, t);
                return this.getScreenLastRowColumn(n)
            }
            ,
            this.getDocumentLastRowColumnPosition = function(e, t) {
                var n = this.documentToScreenRow(e, t);
                return this.screenToDocumentPosition(n, Number.MAX_VALUE / 10)
            }
            ,
            this.getRowSplitData = function(e) {
                return this.$useWrapMode ? this.$wrapData[e] : void 0
            }
            ,
            this.getScreenTabSize = function(e) {
                return this.$tabSize - e % this.$tabSize
            }
            ,
            this.screenToDocumentRow = function(e, t) {
                return this.screenToDocumentPosition(e, t).row
            }
            ,
            this.screenToDocumentColumn = function(e, t) {
                return this.screenToDocumentPosition(e, t).column
            }
            ,
            this.screenToDocumentPosition = function(e, t, n) {
                if (e < 0)
                    return {
                        row: 0,
                        column: 0
                    };
                var i, r, o = 0, s = 0, a = 0, l = 0, c = this.$screenRowCache, u = this.$getRowCacheIndex(c, e), h = c.length;
                if (h && u >= 0)
                    var a = c[u]
                      , o = this.$docRowCache[u]
                      , d = e > c[h - 1];
                else
                    var d = !h;
                for (var f = this.getLength() - 1, g = this.getNextFoldLine(o), p = g ? g.start.row : 1 / 0; a <= e && (l = this.getRowLength(o),
                !(a + l > e || o >= f)); )
                    a += l,
                    ++o > p && (o = g.end.row + 1,
                    g = this.getNextFoldLine(o, g),
                    p = g ? g.start.row : 1 / 0),
                    d && (this.$docRowCache.push(o),
                    this.$screenRowCache.push(a));
                if (g && g.start.row <= o)
                    i = this.getFoldDisplayLine(g),
                    o = g.start.row;
                else {
                    if (a + l <= e || o > f)
                        return {
                            row: f,
                            column: this.getLine(f).length
                        };
                    i = this.getLine(o),
                    g = null
                }
                var m = 0
                  , v = Math.floor(e - a);
                if (this.$useWrapMode) {
                    var A = this.$wrapData[o];
                    A && (r = A[v],
                    v > 0 && A.length && (m = A.indent,
                    s = A[v - 1] || A[A.length - 1],
                    i = i.substring(s)))
                }
                return void 0 !== n && this.$bidiHandler.isBidiRow(a + v, o, v) && (t = this.$bidiHandler.offsetToCol(n)),
                s += this.$getStringScreenWidth(i, t - m)[1],
                this.$useWrapMode && s >= r && (s = r - 1),
                g ? g.idxToPosition(s) : {
                    row: o,
                    column: s
                }
            }
            ,
            this.documentToScreenPosition = function(e, t) {
                if (void 0 === t)
                    var n = this.$clipPositionToDocument(e.row, e.column);
                else
                    n = this.$clipPositionToDocument(e, t);
                e = n.row,
                t = n.column;
                var i = 0
                  , r = null
                  , o = null;
                (o = this.getFoldAt(e, t, 1)) && (e = o.start.row,
                t = o.start.column);
                var s, a = 0, l = this.$docRowCache, c = this.$getRowCacheIndex(l, e), u = l.length;
                if (u && c >= 0)
                    var a = l[c]
                      , i = this.$screenRowCache[c]
                      , h = e > l[u - 1];
                else
                    var h = !u;
                for (var d = this.getNextFoldLine(a), f = d ? d.start.row : 1 / 0; a < e; ) {
                    if (a >= f) {
                        if ((s = d.end.row + 1) > e)
                            break;
                        d = this.getNextFoldLine(s, d),
                        f = d ? d.start.row : 1 / 0
                    } else
                        s = a + 1;
                    i += this.getRowLength(a),
                    a = s,
                    h && (this.$docRowCache.push(a),
                    this.$screenRowCache.push(i))
                }
                var g = "";
                d && a >= f ? (g = this.getFoldDisplayLine(d, e, t),
                r = d.start.row) : (g = this.getLine(e).substring(0, t),
                r = e);
                var p = 0;
                if (this.$useWrapMode) {
                    var m = this.$wrapData[r];
                    if (m) {
                        for (var v = 0; g.length >= m[v]; )
                            i++,
                            v++;
                        g = g.substring(m[v - 1] || 0, g.length),
                        p = v > 0 ? m.indent : 0
                    }
                }
                return {
                    row: i,
                    column: p + this.$getStringScreenWidth(g)[0]
                }
            }
            ,
            this.documentToScreenColumn = function(e, t) {
                return this.documentToScreenPosition(e, t).column
            }
            ,
            this.documentToScreenRow = function(e, t) {
                return this.documentToScreenPosition(e, t).row
            }
            ,
            this.getScreenLength = function() {
                var e = 0
                  , t = null;
                if (this.$useWrapMode)
                    for (var n = this.$wrapData.length, i = 0, r = 0, t = this.$foldData[r++], o = t ? t.start.row : 1 / 0; i < n; ) {
                        var s = this.$wrapData[i];
                        e += s ? s.length + 1 : 1,
                        i++,
                        i > o && (i = t.end.row + 1,
                        t = this.$foldData[r++],
                        o = t ? t.start.row : 1 / 0)
                    }
                else {
                    e = this.getLength();
                    for (var a = this.$foldData, r = 0; r < a.length; r++)
                        t = a[r],
                        e -= t.end.row - t.start.row
                }
                return this.lineWidgets && (e += this.$getWidgetScreenLength()),
                e
            }
            ,
            this.$setFontMetrics = function(e) {
                this.$enableVarChar && (this.$getStringScreenWidth = function(t, n, i) {
                    if (0 === n)
                        return [0, 0];
                    n || (n = 1 / 0),
                    i = i || 0;
                    var r, o;
                    for (o = 0; o < t.length && (r = t.charAt(o),
                    !((i += "\t" === r ? this.getScreenTabSize(i) : e.getCharacterWidth(r)) > n)); o++)
                        ;
                    return [i, o]
                }
                )
            }
            ,
            this.destroy = function() {
                this.bgTokenizer && (this.bgTokenizer.setDocument(null),
                this.bgTokenizer = null),
                this.$stopWorker()
            }
            ,
            this.isFullWidth = e
        }
        .call(g.prototype),
        e("./edit_session/folding").Folding.call(g.prototype),
        e("./edit_session/bracket_match").BracketMatch.call(g.prototype),
        s.defineOptions(g.prototype, "session", {
            wrap: {
                set: function(e) {
                    if (e && "off" != e ? "free" == e ? e = !0 : "printMargin" == e ? e = -1 : "string" == typeof e && (e = parseInt(e, 10) || !1) : e = !1,
                    this.$wrap != e)
                        if (this.$wrap = e,
                        e) {
                            var t = "number" == typeof e ? e : null;
                            this.setWrapLimitRange(t, t),
                            this.setUseWrapMode(!0)
                        } else
                            this.setUseWrapMode(!1)
                },
                get: function() {
                    return this.getUseWrapMode() ? -1 == this.$wrap ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off"
                },
                handlesSet: !0
            },
            wrapMethod: {
                set: function(e) {
                    (e = "auto" == e ? "text" != this.$mode.type : "text" != e) != this.$wrapAsCode && (this.$wrapAsCode = e,
                    this.$useWrapMode && (this.$modified = !0,
                    this.$resetRowCache(0),
                    this.$updateWrapData(0, this.getLength() - 1)))
                },
                initialValue: "auto"
            },
            indentedSoftWrap: {
                initialValue: !0
            },
            firstLineNumber: {
                set: function() {
                    this._signal("changeBreakpoint")
                },
                initialValue: 1
            },
            useWorker: {
                set: function(e) {
                    this.$useWorker = e,
                    this.$stopWorker(),
                    e && this.$startWorker()
                },
                initialValue: !0
            },
            useSoftTabs: {
                initialValue: !0
            },
            tabSize: {
                set: function(e) {
                    isNaN(e) || this.$tabSize === e || (this.$modified = !0,
                    this.$rowLengthCache = [],
                    this.$tabSize = e,
                    this._signal("changeTabSize"))
                },
                initialValue: 4,
                handlesSet: !0
            },
            navigateWithinSoftTabs: {
                initialValue: !1
            },
            overwrite: {
                set: function(e) {
                    this._signal("changeOverwrite")
                },
                initialValue: !1
            },
            newLineMode: {
                set: function(e) {
                    this.doc.setNewLineMode(e)
                },
                get: function() {
                    return this.doc.getNewLineMode()
                },
                handlesSet: !0
            },
            mode: {
                set: function(e) {
                    this.setMode(e)
                },
                get: function() {
                    return this.$modeId
                }
            }
        }),
        t.EditSession = g
    }),
    ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, n) {
        "use strict";
        function i(e, t) {
            function n(e) {
                return /\w/.test(e) || t.regExp ? "\\b" : ""
            }
            return n(e[0]) + e + n(e[e.length - 1])
        }
        var r = e("./lib/lang")
          , o = e("./lib/oop")
          , s = e("./range").Range
          , a = function() {
            this.$options = {}
        };
        (function() {
            this.set = function(e) {
                return o.mixin(this.$options, e),
                this
            }
            ,
            this.getOptions = function() {
                return r.copyObject(this.$options)
            }
            ,
            this.setOptions = function(e) {
                this.$options = e
            }
            ,
            this.find = function(e) {
                var t = this.$options
                  , n = this.$matchIterator(e, t);
                if (!n)
                    return !1;
                var i = null;
                return n.forEach(function(e, n, r, o) {
                    return i = new s(e,n,r,o),
                    !(n == o && t.start && t.start.start && 0 != t.skipCurrent && i.isEqual(t.start)) || (i = null,
                    !1)
                }),
                i
            }
            ,
            this.findAll = function(e) {
                var t = this.$options;
                if (!t.needle)
                    return [];
                this.$assembleRegExp(t);
                var n = t.range
                  , i = n ? e.getLines(n.start.row, n.end.row) : e.doc.getAllLines()
                  , o = []
                  , a = t.re;
                if (t.$isMultiLine) {
                    var l, c = a.length, u = i.length - c;
                    e: for (var h = a.offset || 0; h <= u; h++) {
                        for (var d = 0; d < c; d++)
                            if (-1 == i[h + d].search(a[d]))
                                continue e;
                        var f = i[h]
                          , g = i[h + c - 1]
                          , p = f.length - f.match(a[0])[0].length
                          , m = g.match(a[c - 1])[0].length;
                        l && l.end.row === h && l.end.column > p || (o.push(l = new s(h,p,h + c - 1,m)),
                        c > 2 && (h = h + c - 2))
                    }
                } else
                    for (var v = 0; v < i.length; v++)
                        for (var A = r.getMatchOffsets(i[v], a), d = 0; d < A.length; d++) {
                            var w = A[d];
                            o.push(new s(v,w.offset,v,w.offset + w.length))
                        }
                if (n) {
                    for (var C = n.start.column, y = n.start.column, v = 0, d = o.length - 1; v < d && o[v].start.column < C && o[v].start.row == n.start.row; )
                        v++;
                    for (; v < d && o[d].end.column > y && o[d].end.row == n.end.row; )
                        d--;
                    for (o = o.slice(v, d + 1),
                    v = 0,
                    d = o.length; v < d; v++)
                        o[v].start.row += n.start.row,
                        o[v].end.row += n.start.row
                }
                return o
            }
            ,
            this.replace = function(e, t) {
                var n = this.$options
                  , i = this.$assembleRegExp(n);
                if (n.$isMultiLine)
                    return t;
                if (i) {
                    var r = i.exec(e);
                    if (!r || r[0].length != e.length)
                        return null;
                    if (t = e.replace(i, t),
                    n.preserveCase) {
                        t = t.split("");
                        for (var o = Math.min(e.length, e.length); o--; ) {
                            var s = e[o];
                            s && s.toLowerCase() != s ? t[o] = t[o].toUpperCase() : t[o] = t[o].toLowerCase()
                        }
                        t = t.join("")
                    }
                    return t
                }
            }
            ,
            this.$assembleRegExp = function(e, t) {
                if (e.needle instanceof RegExp)
                    return e.re = e.needle;
                var n = e.needle;
                if (!e.needle)
                    return e.re = !1;
                e.regExp || (n = r.escapeRegExp(n)),
                e.wholeWord && (n = i(n, e));
                var o = e.caseSensitive ? "gm" : "gmi";
                if (e.$isMultiLine = !t && /[\n\r]/.test(n),
                e.$isMultiLine)
                    return e.re = this.$assembleMultilineRegExp(n, o);
                try {
                    var s = new RegExp(n,o)
                } catch (e) {
                    s = !1
                }
                return e.re = s
            }
            ,
            this.$assembleMultilineRegExp = function(e, t) {
                for (var n = e.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), i = [], r = 0; r < n.length; r++)
                    try {
                        i.push(new RegExp(n[r],t))
                    } catch (e) {
                        return !1
                    }
                return i
            }
            ,
            this.$matchIterator = function(e, t) {
                var n = this.$assembleRegExp(t);
                if (!n)
                    return !1;
                var i = 1 == t.backwards
                  , r = 0 != t.skipCurrent
                  , o = t.range
                  , s = t.start;
                s || (s = o ? o[i ? "end" : "start"] : e.selection.getRange()),
                s.start && (s = s[r != i ? "end" : "start"]);
                var a = o ? o.start.row : 0
                  , l = o ? o.end.row : e.getLength() - 1;
                if (i)
                    var c = function(e) {
                        var n = s.row;
                        if (!h(n, s.column, e)) {
                            for (n--; n >= a; n--)
                                if (h(n, Number.MAX_VALUE, e))
                                    return;
                            if (0 != t.wrap)
                                for (n = l,
                                a = s.row; n >= a; n--)
                                    if (h(n, Number.MAX_VALUE, e))
                                        return
                        }
                    };
                else
                    var c = function(e) {
                        var n = s.row;
                        if (!h(n, s.column, e)) {
                            for (n += 1; n <= l; n++)
                                if (h(n, 0, e))
                                    return;
                            if (0 != t.wrap)
                                for (n = a,
                                l = s.row; n <= l; n++)
                                    if (h(n, 0, e))
                                        return
                        }
                    };
                if (t.$isMultiLine)
                    var u = n.length
                      , h = function(t, r, o) {
                        var s = i ? t - u + 1 : t;
                        if (!(s < 0)) {
                            var a = e.getLine(s)
                              , l = a.search(n[0]);
                            if (!(!i && l < r || -1 === l)) {
                                for (var c = 1; c < u; c++)
                                    if (a = e.getLine(s + c),
                                    -1 == a.search(n[c]))
                                        return;
                                var h = a.match(n[u - 1])[0].length;
                                if (!(i && h > r))
                                    return !!o(s, l, s + u - 1, h) || void 0
                            }
                        }
                    };
                else if (i)
                    var h = function(t, i, r) {
                        var o, s = e.getLine(t), a = [], l = 0;
                        for (n.lastIndex = 0; o = n.exec(s); ) {
                            var c = o[0].length;
                            if (l = o.index,
                            !c) {
                                if (l >= s.length)
                                    break;
                                n.lastIndex = l += 1
                            }
                            if (o.index + c > i)
                                break;
                            a.push(o.index, c)
                        }
                        for (var u = a.length - 1; u >= 0; u -= 2) {
                            var h = a[u - 1]
                              , c = a[u];
                            if (r(t, h, t, h + c))
                                return !0
                        }
                    };
                else
                    var h = function(t, i, r) {
                        var o, s = e.getLine(t), a = i;
                        for (n.lastIndex = i; o = n.exec(s); ) {
                            var l = o[0].length;
                            if (a = o.index,
                            r(t, a, t, a + l))
                                return !0;
                            if (!l && (n.lastIndex = a += 1,
                            a >= s.length))
                                return !1
                        }
                    };
                return {
                    forEach: c
                }
            }
        }
        ).call(a.prototype),
        t.Search = a
    }),
    ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(e, t, n) {
        "use strict";
        function i(e, t) {
            this.platform = t || (s.isMac ? "mac" : "win"),
            this.commands = {},
            this.commandKeyBinding = {},
            this.addCommands(e),
            this.$singleCommand = !0
        }
        function r(e, t) {
            i.call(this, e, t),
            this.$singleCommand = !1
        }
        var o = e("../lib/keys")
          , s = e("../lib/useragent")
          , a = o.KEY_MODS;
        r.prototype = i.prototype,
        function() {
            function e(e) {
                return "object" == typeof e && e.bindKey && e.bindKey.position || (e.isDefault ? -100 : 0)
            }
            this.addCommand = function(e) {
                this.commands[e.name] && this.removeCommand(e),
                this.commands[e.name] = e,
                e.bindKey && this._buildKeyHash(e)
            }
            ,
            this.removeCommand = function(e, t) {
                var n = e && ("string" == typeof e ? e : e.name);
                e = this.commands[n],
                t || delete this.commands[n];
                var i = this.commandKeyBinding;
                for (var r in i) {
                    var o = i[r];
                    if (o == e)
                        delete i[r];
                    else if (Array.isArray(o)) {
                        var s = o.indexOf(e);
                        -1 != s && (o.splice(s, 1),
                        1 == o.length && (i[r] = o[0]))
                    }
                }
            }
            ,
            this.bindKey = function(e, t, n) {
                if ("object" == typeof e && e && (void 0 == n && (n = e.position),
                e = e[this.platform]),
                e)
                    return "function" == typeof t ? this.addCommand({
                        exec: t,
                        bindKey: e,
                        name: t.name || e
                    }) : void e.split("|").forEach(function(e) {
                        var i = "";
                        if (-1 != e.indexOf(" ")) {
                            var r = e.split(/\s+/);
                            e = r.pop(),
                            r.forEach(function(e) {
                                var t = this.parseKeys(e)
                                  , n = a[t.hashId] + t.key;
                                i += (i ? " " : "") + n,
                                this._addCommandToBinding(i, "chainKeys")
                            }, this),
                            i += " "
                        }
                        var o = this.parseKeys(e)
                          , s = a[o.hashId] + o.key;
                        this._addCommandToBinding(i + s, t, n)
                    }, this)
            }
            ,
            this._addCommandToBinding = function(t, n, i) {
                var r, o = this.commandKeyBinding;
                if (n)
                    if (!o[t] || this.$singleCommand)
                        o[t] = n;
                    else {
                        Array.isArray(o[t]) ? -1 != (r = o[t].indexOf(n)) && o[t].splice(r, 1) : o[t] = [o[t]],
                        "number" != typeof i && (i = e(n));
                        var s = o[t];
                        for (r = 0; r < s.length; r++) {
                            var a = s[r]
                              , l = e(a);
                            if (l > i)
                                break
                        }
                        s.splice(r, 0, n)
                    }
                else
                    delete o[t]
            }
            ,
            this.addCommands = function(e) {
                e && Object.keys(e).forEach(function(t) {
                    var n = e[t];
                    if (n) {
                        if ("string" == typeof n)
                            return this.bindKey(n, t);
                        "function" == typeof n && (n = {
                            exec: n
                        }),
                        "object" == typeof n && (n.name || (n.name = t),
                        this.addCommand(n))
                    }
                }, this)
            }
            ,
            this.removeCommands = function(e) {
                Object.keys(e).forEach(function(t) {
                    this.removeCommand(e[t])
                }, this)
            }
            ,
            this.bindKeys = function(e) {
                Object.keys(e).forEach(function(t) {
                    this.bindKey(t, e[t])
                }, this)
            }
            ,
            this._buildKeyHash = function(e) {
                this.bindKey(e.bindKey, e)
            }
            ,
            this.parseKeys = function(e) {
                var t = e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e) {
                    return e
                })
                  , n = t.pop()
                  , i = o[n];
                if (o.FUNCTION_KEYS[i])
                    n = o.FUNCTION_KEYS[i].toLowerCase();
                else {
                    if (!t.length)
                        return {
                            key: n,
                            hashId: -1
                        };
                    if (1 == t.length && "shift" == t[0])
                        return {
                            key: n.toUpperCase(),
                            hashId: -1
                        }
                }
                for (var r = 0, s = t.length; s--; ) {
                    var a = o.KEY_MODS[t[s]];
                    if (null == a)
                        return "undefined" != typeof console && console.error("invalid modifier " + t[s] + " in " + e),
                        !1;
                    r |= a
                }
                return {
                    key: n,
                    hashId: r
                }
            }
            ,
            this.findKeyCommand = function(e, t) {
                var n = a[e] + t;
                return this.commandKeyBinding[n]
            }
            ,
            this.handleKeyboard = function(e, t, n, i) {
                if (!(i < 0)) {
                    var r = a[t] + n
                      , o = this.commandKeyBinding[r];
                    return e.$keyChain && (e.$keyChain += " " + r,
                    o = this.commandKeyBinding[e.$keyChain] || o),
                    !o || "chainKeys" != o && "chainKeys" != o[o.length - 1] ? (e.$keyChain && (t && 4 != t || 1 != n.length ? (-1 == t || i > 0) && (e.$keyChain = "") : e.$keyChain = e.$keyChain.slice(0, -r.length - 1)),
                    {
                        command: o
                    }) : (e.$keyChain = e.$keyChain || r,
                    {
                        command: "null"
                    })
                }
            }
            ,
            this.getStatusText = function(e, t) {
                return t.$keyChain || ""
            }
        }
        .call(i.prototype),
        t.HashHandler = i,
        t.MultiHashHandler = r
    }),
    ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(e, t, n) {
        "use strict";
        var i = e("../lib/oop")
          , r = e("../keyboard/hash_handler").MultiHashHandler
          , o = e("../lib/event_emitter").EventEmitter
          , s = function(e, t) {
            r.call(this, t, e),
            this.byName = this.commands,
            this.setDefaultHandler("exec", function(e) {
                return e.command.exec(e.editor, e.args || {})
            })
        };
        i.inherits(s, r),
        function() {
            i.implement(this, o),
            this.exec = function(e, t, n) {
                if (Array.isArray(e)) {
                    for (var i = e.length; i--; )
                        if (this.exec(e[i], t, n))
                            return !0;
                    return !1
                }
                if ("string" == typeof e && (e = this.commands[e]),
                !e)
                    return !1;
                if (t && t.$readOnly && !e.readOnly)
                    return !1;
                if (e.isAvailable && !e.isAvailable(t))
                    return !1;
                var r = {
                    editor: t,
                    command: e,
                    args: n
                };
                return r.returnValue = this._emit("exec", r),
                this._signal("afterExec", r),
                !1 !== r.returnValue
            }
            ,
            this.toggleRecording = function(e) {
                if (!this.$inReplay)
                    return e && e._emit("changeStatus"),
                    this.recording ? (this.macro.pop(),
                    this.removeEventListener("exec", this.$addCommandToMacro),
                    this.macro.length || (this.macro = this.oldMacro),
                    this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = function(e) {
                        this.macro.push([e.command, e.args])
                    }
                    .bind(this)),
                    this.oldMacro = this.macro,
                    this.macro = [],
                    this.on("exec", this.$addCommandToMacro),
                    this.recording = !0)
            }
            ,
            this.replay = function(e) {
                if (!this.$inReplay && this.macro) {
                    if (this.recording)
                        return this.toggleRecording(e);
                    try {
                        this.$inReplay = !0,
                        this.macro.forEach(function(t) {
                            "string" == typeof t ? this.exec(t, e) : this.exec(t[0], e, t[1])
                        }, this)
                    } finally {
                        this.$inReplay = !1
                    }
                }
            }
            ,
            this.trimMacro = function(e) {
                return e.map(function(e) {
                    return "string" != typeof e[0] && (e[0] = e[0].name),
                    e[1] || (e = e[0]),
                    e
                })
            }
        }
        .call(s.prototype),
        t.CommandManager = s
    }),
    ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function(e, t, n) {
        "use strict";
        function i(e, t) {
            return {
                win: e,
                mac: t
            }
        }
        var r = e("../lib/lang")
          , o = e("../config")
          , s = e("../range").Range;
        t.commands = [{
            name: "showSettingsMenu",
            bindKey: i("Ctrl-,", "Command-,"),
            exec: function(e) {
                o.loadModule("ace/ext/settings_menu", function(t) {
                    t.init(e),
                    e.showSettingsMenu()
                })
            },
            readOnly: !0
        }, {
            name: "goToNextError",
            bindKey: i("Alt-E", "F4"),
            exec: function(e) {
                o.loadModule("ace/ext/error_marker", function(t) {
                    t.showErrorMarker(e, 1)
                })
            },
            scrollIntoView: "animate",
            readOnly: !0
        }, {
            name: "goToPreviousError",
            bindKey: i("Alt-Shift-E", "Shift-F4"),
            exec: function(e) {
                o.loadModule("ace/ext/error_marker", function(t) {
                    t.showErrorMarker(e, -1)
                })
            },
            scrollIntoView: "animate",
            readOnly: !0
        }, {
            name: "selectall",
            bindKey: i("Ctrl-A", "Command-A"),
            exec: function(e) {
                e.selectAll()
            },
            readOnly: !0
        }, {
            name: "centerselection",
            bindKey: i(null, "Ctrl-L"),
            exec: function(e) {
                e.centerSelection()
            },
            readOnly: !0
        }, {
            name: "gotoline",
            bindKey: i("Ctrl-L", "Command-L"),
            exec: function(e) {
                var t = parseInt(prompt("Enter line number:"), 10);
                isNaN(t) || e.gotoLine(t)
            },
            readOnly: !0
        }, {
            name: "fold",
            bindKey: i("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
            exec: function(e) {
                e.session.toggleFold(!1)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "unfold",
            bindKey: i("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
            exec: function(e) {
                e.session.toggleFold(!0)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "toggleFoldWidget",
            bindKey: i("F2", "F2"),
            exec: function(e) {
                e.session.toggleFoldWidget()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "toggleParentFoldWidget",
            bindKey: i("Alt-F2", "Alt-F2"),
            exec: function(e) {
                e.session.toggleFoldWidget(!0)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "foldall",
            bindKey: i(null, "Ctrl-Command-Option-0"),
            exec: function(e) {
                e.session.foldAll()
            },
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "foldOther",
            bindKey: i("Alt-0", "Command-Option-0"),
            exec: function(e) {
                e.session.foldAll(),
                e.session.unfold(e.selection.getAllRanges())
            },
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "unfoldall",
            bindKey: i("Alt-Shift-0", "Command-Option-Shift-0"),
            exec: function(e) {
                e.session.unfold()
            },
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "findnext",
            bindKey: i("Ctrl-K", "Command-G"),
            exec: function(e) {
                e.findNext()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "findprevious",
            bindKey: i("Ctrl-Shift-K", "Command-Shift-G"),
            exec: function(e) {
                e.findPrevious()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: !0
        }, {
            name: "selectOrFindNext",
            bindKey: i("Alt-K", "Ctrl-G"),
            exec: function(e) {
                e.selection.isEmpty() ? e.selection.selectWord() : e.findNext()
            },
            readOnly: !0
        }, {
            name: "selectOrFindPrevious",
            bindKey: i("Alt-Shift-K", "Ctrl-Shift-G"),
            exec: function(e) {
                e.selection.isEmpty() ? e.selection.selectWord() : e.findPrevious()
            },
            readOnly: !0
        }, {
            name: "find",
            bindKey: i("Ctrl-F", "Command-F"),
            exec: function(e) {
                o.loadModule("ace/ext/searchbox", function(t) {
                    t.Search(e)
                })
            },
            readOnly: !0
        }, {
            name: "overwrite",
            bindKey: "Insert",
            exec: function(e) {
                e.toggleOverwrite()
            },
            readOnly: !0
        }, {
            name: "selecttostart",
            bindKey: i("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
            exec: function(e) {
                e.getSelection().selectFileStart()
            },
            multiSelectAction: "forEach",
            readOnly: !0,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
        }, {
            name: "gotostart",
            bindKey: i("Ctrl-Home", "Command-Home|Command-Up"),
            exec: function(e) {
                e.navigateFileStart()
            },
            multiSelectAction: "forEach",
            readOnly: !0,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
        }, {
            name: "selectup",
            bindKey: i("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
            exec: function(e) {
                e.getSelection().selectUp()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "golineup",
            bindKey: i("Up", "Up|Ctrl-P"),
            exec: function(e, t) {
                e.navigateUp(t.times)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selecttoend",
            bindKey: i("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
            exec: function(e) {
                e.getSelection().selectFileEnd()
            },
            multiSelectAction: "forEach",
            readOnly: !0,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
        }, {
            name: "gotoend",
            bindKey: i("Ctrl-End", "Command-End|Command-Down"),
            exec: function(e) {
                e.navigateFileEnd()
            },
            multiSelectAction: "forEach",
            readOnly: !0,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
        }, {
            name: "selectdown",
            bindKey: i("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
            exec: function(e) {
                e.getSelection().selectDown()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "golinedown",
            bindKey: i("Down", "Down|Ctrl-N"),
            exec: function(e, t) {
                e.navigateDown(t.times)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectwordleft",
            bindKey: i("Ctrl-Shift-Left", "Option-Shift-Left"),
            exec: function(e) {
                e.getSelection().selectWordLeft()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "gotowordleft",
            bindKey: i("Ctrl-Left", "Option-Left"),
            exec: function(e) {
                e.navigateWordLeft()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selecttolinestart",
            bindKey: i("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
            exec: function(e) {
                e.getSelection().selectLineStart()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "gotolinestart",
            bindKey: i("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
            exec: function(e) {
                e.navigateLineStart()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectleft",
            bindKey: i("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
            exec: function(e) {
                e.getSelection().selectLeft()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "gotoleft",
            bindKey: i("Left", "Left|Ctrl-B"),
            exec: function(e, t) {
                e.navigateLeft(t.times)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectwordright",
            bindKey: i("Ctrl-Shift-Right", "Option-Shift-Right"),
            exec: function(e) {
                e.getSelection().selectWordRight()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "gotowordright",
            bindKey: i("Ctrl-Right", "Option-Right"),
            exec: function(e) {
                e.navigateWordRight()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selecttolineend",
            bindKey: i("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
            exec: function(e) {
                e.getSelection().selectLineEnd()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "gotolineend",
            bindKey: i("Alt-Right|End", "Command-Right|End|Ctrl-E"),
            exec: function(e) {
                e.navigateLineEnd()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectright",
            bindKey: i("Shift-Right", "Shift-Right"),
            exec: function(e) {
                e.getSelection().selectRight()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "gotoright",
            bindKey: i("Right", "Right|Ctrl-F"),
            exec: function(e, t) {
                e.navigateRight(t.times)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectpagedown",
            bindKey: "Shift-PageDown",
            exec: function(e) {
                e.selectPageDown()
            },
            readOnly: !0
        }, {
            name: "pagedown",
            bindKey: i(null, "Option-PageDown"),
            exec: function(e) {
                e.scrollPageDown()
            },
            readOnly: !0
        }, {
            name: "gotopagedown",
            bindKey: i("PageDown", "PageDown|Ctrl-V"),
            exec: function(e) {
                e.gotoPageDown()
            },
            readOnly: !0
        }, {
            name: "selectpageup",
            bindKey: "Shift-PageUp",
            exec: function(e) {
                e.selectPageUp()
            },
            readOnly: !0
        }, {
            name: "pageup",
            bindKey: i(null, "Option-PageUp"),
            exec: function(e) {
                e.scrollPageUp()
            },
            readOnly: !0
        }, {
            name: "gotopageup",
            bindKey: "PageUp",
            exec: function(e) {
                e.gotoPageUp()
            },
            readOnly: !0
        }, {
            name: "scrollup",
            bindKey: i("Ctrl-Up", null),
            exec: function(e) {
                e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight)
            },
            readOnly: !0
        }, {
            name: "scrolldown",
            bindKey: i("Ctrl-Down", null),
            exec: function(e) {
                e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight)
            },
            readOnly: !0
        }, {
            name: "selectlinestart",
            bindKey: "Shift-Home",
            exec: function(e) {
                e.getSelection().selectLineStart()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectlineend",
            bindKey: "Shift-End",
            exec: function(e) {
                e.getSelection().selectLineEnd()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "togglerecording",
            bindKey: i("Ctrl-Alt-E", "Command-Option-E"),
            exec: function(e) {
                e.commands.toggleRecording(e)
            },
            readOnly: !0
        }, {
            name: "replaymacro",
            bindKey: i("Ctrl-Shift-E", "Command-Shift-E"),
            exec: function(e) {
                e.commands.replay(e)
            },
            readOnly: !0
        }, {
            name: "jumptomatching",
            bindKey: i("Ctrl-P", "Ctrl-P"),
            exec: function(e) {
                e.jumpToMatching()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: !0
        }, {
            name: "selecttomatching",
            bindKey: i("Ctrl-Shift-P", "Ctrl-Shift-P"),
            exec: function(e) {
                e.jumpToMatching(!0)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: !0
        }, {
            name: "expandToMatching",
            bindKey: i("Ctrl-Shift-M", "Ctrl-Shift-M"),
            exec: function(e) {
                e.jumpToMatching(!0, !0)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: !0
        }, {
            name: "passKeysToBrowser",
            bindKey: i(null, null),
            exec: function() {},
            passEvent: !0,
            readOnly: !0
        }, {
            name: "copy",
            exec: function(e) {},
            readOnly: !0
        }, {
            name: "cut",
            exec: function(e) {
                var t = e.getSelectionRange();
                e._emit("cut", t),
                e.selection.isEmpty() || (e.session.remove(t),
                e.clearSelection())
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
        }, {
            name: "paste",
            exec: function(e, t) {
                e.$handlePaste(t)
            },
            scrollIntoView: "cursor"
        }, {
            name: "removeline",
            bindKey: i("Ctrl-D", "Command-D"),
            exec: function(e) {
                e.removeLines()
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEachLine"
        }, {
            name: "duplicateSelection",
            bindKey: i("Ctrl-Shift-D", "Command-Shift-D"),
            exec: function(e) {
                e.duplicateSelection()
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
        }, {
            name: "sortlines",
            bindKey: i("Ctrl-Alt-S", "Command-Alt-S"),
            exec: function(e) {
                e.sortLines()
            },
            scrollIntoView: "selection",
            multiSelectAction: "forEachLine"
        }, {
            name: "togglecomment",
            bindKey: i("Ctrl-/", "Command-/"),
            exec: function(e) {
                e.toggleCommentLines()
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
        }, {
            name: "toggleBlockComment",
            bindKey: i("Ctrl-Shift-/", "Command-Shift-/"),
            exec: function(e) {
                e.toggleBlockComment()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
        }, {
            name: "modifyNumberUp",
            bindKey: i("Ctrl-Shift-Up", "Alt-Shift-Up"),
            exec: function(e) {
                e.modifyNumber(1)
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
        }, {
            name: "modifyNumberDown",
            bindKey: i("Ctrl-Shift-Down", "Alt-Shift-Down"),
            exec: function(e) {
                e.modifyNumber(-1)
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
        }, {
            name: "replace",
            bindKey: i("Ctrl-H", "Command-Option-F"),
            exec: function(e) {
                o.loadModule("ace/ext/searchbox", function(t) {
                    t.Search(e, !0)
                })
            }
        }, {
            name: "undo",
            bindKey: i("Ctrl-Z", "Command-Z"),
            exec: function(e) {
                e.undo()
            }
        }, {
            name: "redo",
            bindKey: i("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
            exec: function(e) {
                e.redo()
            }
        }, {
            name: "copylinesup",
            bindKey: i("Alt-Shift-Up", "Command-Option-Up"),
            exec: function(e) {
                e.copyLinesUp()
            },
            scrollIntoView: "cursor"
        }, {
            name: "movelinesup",
            bindKey: i("Alt-Up", "Option-Up"),
            exec: function(e) {
                e.moveLinesUp()
            },
            scrollIntoView: "cursor"
        }, {
            name: "copylinesdown",
            bindKey: i("Alt-Shift-Down", "Command-Option-Down"),
            exec: function(e) {
                e.copyLinesDown()
            },
            scrollIntoView: "cursor"
        }, {
            name: "movelinesdown",
            bindKey: i("Alt-Down", "Option-Down"),
            exec: function(e) {
                e.moveLinesDown()
            },
            scrollIntoView: "cursor"
        }, {
            name: "del",
            bindKey: i("Delete", "Delete|Ctrl-D|Shift-Delete"),
            exec: function(e) {
                e.remove("right")
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "backspace",
            bindKey: i("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
            exec: function(e) {
                e.remove("left")
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "cut_or_delete",
            bindKey: i("Shift-Delete", null),
            exec: function(e) {
                if (!e.selection.isEmpty())
                    return !1;
                e.remove("left")
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "removetolinestart",
            bindKey: i("Alt-Backspace", "Command-Backspace"),
            exec: function(e) {
                e.removeToLineStart()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "removetolineend",
            bindKey: i("Alt-Delete", "Ctrl-K|Command-Delete"),
            exec: function(e) {
                e.removeToLineEnd()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "removetolinestarthard",
            bindKey: i("Ctrl-Shift-Backspace", null),
            exec: function(e) {
                var t = e.selection.getRange();
                t.start.column = 0,
                e.session.remove(t)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "removetolineendhard",
            bindKey: i("Ctrl-Shift-Delete", null),
            exec: function(e) {
                var t = e.selection.getRange();
                t.end.column = Number.MAX_VALUE,
                e.session.remove(t)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "removewordleft",
            bindKey: i("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
            exec: function(e) {
                e.removeWordLeft()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "removewordright",
            bindKey: i("Ctrl-Delete", "Alt-Delete"),
            exec: function(e) {
                e.removeWordRight()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "outdent",
            bindKey: i("Shift-Tab", "Shift-Tab"),
            exec: function(e) {
                e.blockOutdent()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
        }, {
            name: "indent",
            bindKey: i("Tab", "Tab"),
            exec: function(e) {
                e.indent()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
        }, {
            name: "blockoutdent",
            bindKey: i("Ctrl-[", "Ctrl-["),
            exec: function(e) {
                e.blockOutdent()
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
        }, {
            name: "blockindent",
            bindKey: i("Ctrl-]", "Ctrl-]"),
            exec: function(e) {
                e.blockIndent()
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
        }, {
            name: "insertstring",
            exec: function(e, t) {
                e.insert(t)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "inserttext",
            exec: function(e, t) {
                e.insert(r.stringRepeat(t.text || "", t.times || 1))
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "splitline",
            bindKey: i(null, "Ctrl-O"),
            exec: function(e) {
                e.splitLine()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "transposeletters",
            bindKey: i("Alt-Shift-X", "Ctrl-T"),
            exec: function(e) {
                e.transposeLetters()
            },
            multiSelectAction: function(e) {
                e.transposeSelections(1)
            },
            scrollIntoView: "cursor"
        }, {
            name: "touppercase",
            bindKey: i("Ctrl-U", "Ctrl-U"),
            exec: function(e) {
                e.toUpperCase()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "tolowercase",
            bindKey: i("Ctrl-Shift-U", "Ctrl-Shift-U"),
            exec: function(e) {
                e.toLowerCase()
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
        }, {
            name: "expandtoline",
            bindKey: i("Ctrl-Shift-L", "Command-Shift-L"),
            exec: function(e) {
                var t = e.selection.getRange();
                t.start.column = t.end.column = 0,
                t.end.row++,
                e.selection.setRange(t, !1)
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "joinlines",
            bindKey: i(null, null),
            exec: function(e) {
                for (var t = e.selection.isBackwards(), n = t ? e.selection.getSelectionLead() : e.selection.getSelectionAnchor(), i = t ? e.selection.getSelectionAnchor() : e.selection.getSelectionLead(), o = e.session.doc.getLine(n.row).length, a = e.session.doc.getTextRange(e.selection.getRange()), l = a.replace(/\n\s*/, " ").length, c = e.session.doc.getLine(n.row), u = n.row + 1; u <= i.row + 1; u++) {
                    var h = r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(u)));
                    0 !== h.length && (h = " " + h),
                    c += h
                }
                i.row + 1 < e.session.doc.getLength() - 1 && (c += e.session.doc.getNewLineCharacter()),
                e.clearSelection(),
                e.session.doc.replace(new s(n.row,0,i.row + 2,0), c),
                l > 0 ? (e.selection.moveCursorTo(n.row, n.column),
                e.selection.selectTo(n.row, n.column + l)) : (o = e.session.doc.getLine(n.row).length > o ? o + 1 : o,
                e.selection.moveCursorTo(n.row, o))
            },
            multiSelectAction: "forEach",
            readOnly: !0
        }, {
            name: "invertSelection",
            bindKey: i(null, null),
            exec: function(e) {
                var t = e.session.doc.getLength() - 1
                  , n = e.session.doc.getLine(t).length
                  , i = e.selection.rangeList.ranges
                  , r = [];
                i.length < 1 && (i = [e.selection.getRange()]);
                for (var o = 0; o < i.length; o++)
                    o == i.length - 1 && (i[o].end.row === t && i[o].end.column === n || r.push(new s(i[o].end.row,i[o].end.column,t,n))),
                    0 === o ? 0 === i[o].start.row && 0 === i[o].start.column || r.push(new s(0,0,i[o].start.row,i[o].start.column)) : r.push(new s(i[o - 1].end.row,i[o - 1].end.column,i[o].start.row,i[o].start.column));
                e.exitMultiSelectMode(),
                e.clearSelection();
                for (var o = 0; o < r.length; o++)
                    e.selection.addRange(r[o], !1)
            },
            readOnly: !0,
            scrollIntoView: "none"
        }]
    }),
    ace.define("ace/editor", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator"], function(e, t, n) {
        "use strict";
        e("./lib/fixoldbrowsers");
        var i = e("./lib/oop")
          , r = e("./lib/dom")
          , o = e("./lib/lang")
          , s = e("./lib/useragent")
          , a = e("./keyboard/textinput").TextInput
          , l = e("./mouse/mouse_handler").MouseHandler
          , c = e("./mouse/fold_handler").FoldHandler
          , u = e("./keyboard/keybinding").KeyBinding
          , h = e("./edit_session").EditSession
          , d = e("./search").Search
          , f = e("./range").Range
          , g = e("./lib/event_emitter").EventEmitter
          , p = e("./commands/command_manager").CommandManager
          , m = e("./commands/default_commands").commands
          , v = e("./config")
          , A = e("./token_iterator").TokenIterator
          , w = function(e, t) {
            var n = e.getContainerElement();
            this.container = n,
            this.renderer = e,
            this.id = "editor" + ++w.$uid,
            this.commands = new p(s.isMac ? "mac" : "win",m),
            "object" == typeof document && (this.textInput = new a(e.getTextAreaContainer(),this),
            this.renderer.textarea = this.textInput.getElement(),
            this.$mouseHandler = new l(this),
            new c(this)),
            this.keyBinding = new u(this),
            this.$blockScrolling = 0,
            this.$search = (new d).set({
                wrap: !0
            }),
            this.$historyTracker = this.$historyTracker.bind(this),
            this.commands.on("exec", this.$historyTracker),
            this.$initOperationListeners(),
            this._$emitInputEvent = o.delayedCall(function() {
                this._signal("input", {}),
                this.session && this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart()
            }
            .bind(this)),
            this.on("change", function(e, t) {
                t._$emitInputEvent.schedule(31)
            }),
            this.setSession(t || new h("")),
            v.resetOptions(this),
            v._signal("editor", this)
        };
        w.$uid = 0,
        function() {
            i.implement(this, g),
            this.$initOperationListeners = function() {
                this.selections = [],
                this.commands.on("exec", this.startOperation.bind(this), !0),
                this.commands.on("afterExec", this.endOperation.bind(this), !0),
                this.$opResetTimer = o.delayedCall(this.endOperation.bind(this)),
                this.on("change", function() {
                    this.curOp || this.startOperation(),
                    this.curOp.docChanged = !0
                }
                .bind(this), !0),
                this.on("changeSelection", function() {
                    this.curOp || this.startOperation(),
                    this.curOp.selectionChanged = !0
                }
                .bind(this), !0)
            }
            ,
            this.curOp = null,
            this.prevOp = {},
            this.startOperation = function(e) {
                if (this.curOp) {
                    if (!e || this.curOp.command)
                        return;
                    this.prevOp = this.curOp
                }
                e || (this.previousCommand = null,
                e = {}),
                this.$opResetTimer.schedule(),
                this.curOp = {
                    command: e.command || {},
                    args: e.args,
                    scrollTop: this.renderer.scrollTop
                },
                this.curOp.command.name && void 0 !== this.curOp.command.scrollIntoView && this.$blockScrolling++
            }
            ,
            this.endOperation = function(e) {
                if (this.curOp) {
                    if (e && !1 === e.returnValue)
                        return this.curOp = null;
                    this._signal("beforeEndOperation");
                    var t = this.curOp.command;
                    t.name && this.$blockScrolling > 0 && this.$blockScrolling--;
                    var n = t && t.scrollIntoView;
                    if (n) {
                        switch (n) {
                        case "center-animate":
                            n = "animate";
                        case "center":
                            this.renderer.scrollCursorIntoView(null, .5);
                            break;
                        case "animate":
                        case "cursor":
                            this.renderer.scrollCursorIntoView();
                            break;
                        case "selectionPart":
                            var i = this.selection.getRange()
                              , r = this.renderer.layerConfig;
                            (i.start.row >= r.lastRow || i.end.row <= r.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead)
                        }
                        "animate" == n && this.renderer.animateScrolling(this.curOp.scrollTop)
                    }
                    this.prevOp = this.curOp,
                    this.curOp = null
                }
            }
            ,
            this.$mergeableCommands = ["backspace", "del", "insertstring"],
            this.$historyTracker = function(e) {
                if (this.$mergeUndoDeltas) {
                    var t = this.prevOp
                      , n = this.$mergeableCommands
                      , i = t.command && e.command.name == t.command.name;
                    if ("insertstring" == e.command.name) {
                        var r = e.args;
                        void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0),
                        i = i && this.mergeNextCommand && (!/\s/.test(r) || /\s/.test(t.args)),
                        this.mergeNextCommand = !0
                    } else
                        i = i && -1 !== n.indexOf(e.command.name);
                    "always" != this.$mergeUndoDeltas && Date.now() - this.sequenceStartTime > 2e3 && (i = !1),
                    i ? this.session.mergeUndoDeltas = !0 : -1 !== n.indexOf(e.command.name) && (this.sequenceStartTime = Date.now())
                }
            }
            ,
            this.setKeyboardHandler = function(e, t) {
                if (e && "string" == typeof e) {
                    this.$keybindingId = e;
                    var n = this;
                    v.loadModule(["keybinding", e], function(i) {
                        n.$keybindingId == e && n.keyBinding.setKeyboardHandler(i && i.handler),
                        t && t()
                    })
                } else
                    this.$keybindingId = null,
                    this.keyBinding.setKeyboardHandler(e),
                    t && t()
            }
            ,
            this.getKeyboardHandler = function() {
                return this.keyBinding.getKeyboardHandler()
            }
            ,
            this.setSession = function(e) {
                if (this.session != e) {
                    this.curOp && this.endOperation(),
                    this.curOp = {};
                    var t = this.session;
                    if (t) {
                        this.session.off("change", this.$onDocumentChange),
                        this.session.off("changeMode", this.$onChangeMode),
                        this.session.off("tokenizerUpdate", this.$onTokenizerUpdate),
                        this.session.off("changeTabSize", this.$onChangeTabSize),
                        this.session.off("changeWrapLimit", this.$onChangeWrapLimit),
                        this.session.off("changeWrapMode", this.$onChangeWrapMode),
                        this.session.off("changeFold", this.$onChangeFold),
                        this.session.off("changeFrontMarker", this.$onChangeFrontMarker),
                        this.session.off("changeBackMarker", this.$onChangeBackMarker),
                        this.session.off("changeBreakpoint", this.$onChangeBreakpoint),
                        this.session.off("changeAnnotation", this.$onChangeAnnotation),
                        this.session.off("changeOverwrite", this.$onCursorChange),
                        this.session.off("changeScrollTop", this.$onScrollTopChange),
                        this.session.off("changeScrollLeft", this.$onScrollLeftChange);
                        var n = this.session.getSelection();
                        n.off("changeCursor", this.$onCursorChange),
                        n.off("changeSelection", this.$onSelectionChange)
                    }
                    this.session = e,
                    e ? (this.$onDocumentChange = this.onDocumentChange.bind(this),
                    e.on("change", this.$onDocumentChange),
                    this.renderer.setSession(e),
                    this.$onChangeMode = this.onChangeMode.bind(this),
                    e.on("changeMode", this.$onChangeMode),
                    this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this),
                    e.on("tokenizerUpdate", this.$onTokenizerUpdate),
                    this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer),
                    e.on("changeTabSize", this.$onChangeTabSize),
                    this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this),
                    e.on("changeWrapLimit", this.$onChangeWrapLimit),
                    this.$onChangeWrapMode = this.onChangeWrapMode.bind(this),
                    e.on("changeWrapMode", this.$onChangeWrapMode),
                    this.$onChangeFold = this.onChangeFold.bind(this),
                    e.on("changeFold", this.$onChangeFold),
                    this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this),
                    this.session.on("changeFrontMarker", this.$onChangeFrontMarker),
                    this.$onChangeBackMarker = this.onChangeBackMarker.bind(this),
                    this.session.on("changeBackMarker", this.$onChangeBackMarker),
                    this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this),
                    this.session.on("changeBreakpoint", this.$onChangeBreakpoint),
                    this.$onChangeAnnotation = this.onChangeAnnotation.bind(this),
                    this.session.on("changeAnnotation", this.$onChangeAnnotation),
                    this.$onCursorChange = this.onCursorChange.bind(this),
                    this.session.on("changeOverwrite", this.$onCursorChange),
                    this.$onScrollTopChange = this.onScrollTopChange.bind(this),
                    this.session.on("changeScrollTop", this.$onScrollTopChange),
                    this.$onScrollLeftChange = this.onScrollLeftChange.bind(this),
                    this.session.on("changeScrollLeft", this.$onScrollLeftChange),
                    this.selection = e.getSelection(),
                    this.selection.on("changeCursor", this.$onCursorChange),
                    this.$onSelectionChange = this.onSelectionChange.bind(this),
                    this.selection.on("changeSelection", this.$onSelectionChange),
                    this.onChangeMode(),
                    this.$blockScrolling += 1,
                    this.onCursorChange(),
                    this.$blockScrolling -= 1,
                    this.onScrollTopChange(),
                    this.onScrollLeftChange(),
                    this.onSelectionChange(),
                    this.onChangeFrontMarker(),
                    this.onChangeBackMarker(),
                    this.onChangeBreakpoint(),
                    this.onChangeAnnotation(),
                    this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(),
                    this.renderer.updateFull()) : (this.selection = null,
                    this.renderer.setSession(e)),
                    this._signal("changeSession", {
                        session: e,
                        oldSession: t
                    }),
                    this.curOp = null,
                    t && t._signal("changeEditor", {
                        oldEditor: this
                    }),
                    e && e._signal("changeEditor", {
                        editor: this
                    }),
                    e && e.bgTokenizer && e.bgTokenizer.scheduleStart()
                }
            }
            ,
            this.getSession = function() {
                return this.session
            }
            ,
            this.setValue = function(e, t) {
                return this.session.doc.setValue(e),
                t ? 1 == t ? this.navigateFileEnd() : -1 == t && this.navigateFileStart() : this.selectAll(),
                e
            }
            ,
            this.getValue = function() {
                return this.session.getValue()
            }
            ,
            this.getSelection = function() {
                return this.selection
            }
            ,
            this.resize = function(e) {
                this.renderer.onResize(e)
            }
            ,
            this.setTheme = function(e, t) {
                this.renderer.setTheme(e, t)
            }
            ,
            this.getTheme = function() {
                return this.renderer.getTheme()
            }
            ,
            this.setStyle = function(e) {
                this.renderer.setStyle(e)
            }
            ,
            this.unsetStyle = function(e) {
                this.renderer.unsetStyle(e)
            }
            ,
            this.getFontSize = function() {
                return this.getOption("fontSize") || r.computedStyle(this.container, "fontSize")
            }
            ,
            this.setFontSize = function(e) {
                this.setOption("fontSize", e)
            }
            ,
            this.$highlightBrackets = function() {
                if (this.session.$bracketHighlight && (this.session.removeMarker(this.session.$bracketHighlight),
                this.session.$bracketHighlight = null),
                !this.$highlightPending) {
                    var e = this;
                    this.$highlightPending = !0,
                    setTimeout(function() {
                        e.$highlightPending = !1;
                        var t = e.session;
                        if (t && t.bgTokenizer) {
                            var n = t.findMatchingBracket(e.getCursorPosition());
                            if (n)
                                var i = new f(n.row,n.column,n.row,n.column + 1);
                            else if (t.$mode.getMatching)
                                var i = t.$mode.getMatching(e.session);
                            i && (t.$bracketHighlight = t.addMarker(i, "ace_bracket", "text"))
                        }
                    }, 50)
                }
            }
            ,
            this.$highlightTags = function() {
                if (!this.$highlightTagPending) {
                    var e = this;
                    this.$highlightTagPending = !0,
                    setTimeout(function() {
                        e.$highlightTagPending = !1;
                        var t = e.session;
                        if (t && t.bgTokenizer) {
                            var n = e.getCursorPosition()
                              , i = new A(e.session,n.row,n.column)
                              , r = i.getCurrentToken();
                            if (!r || !/\b(?:tag-open|tag-name)/.test(r.type))
                                return t.removeMarker(t.$tagHighlight),
                                void (t.$tagHighlight = null);
                            if (-1 == r.type.indexOf("tag-open") || (r = i.stepForward())) {
                                var o = r.value
                                  , s = 0
                                  , a = i.stepBackward();
                                if ("<" == a.value)
                                    do {
                                        a = r,
                                        (r = i.stepForward()) && r.value === o && -1 !== r.type.indexOf("tag-name") && ("<" === a.value ? s++ : "</" === a.value && s--)
                                    } while (r && s >= 0);
                                else {
                                    do {
                                        r = a,
                                        a = i.stepBackward(),
                                        r && r.value === o && -1 !== r.type.indexOf("tag-name") && ("<" === a.value ? s++ : "</" === a.value && s--)
                                    } while (a && s <= 0);
                                    i.stepForward()
                                }
                                if (!r)
                                    return t.removeMarker(t.$tagHighlight),
                                    void (t.$tagHighlight = null);
                                var l = i.getCurrentTokenRow()
                                  , c = i.getCurrentTokenColumn()
                                  , u = new f(l,c,l,c + r.value.length)
                                  , h = t.$backMarkers[t.$tagHighlight];
                                t.$tagHighlight && void 0 != h && 0 !== u.compareRange(h.range) && (t.removeMarker(t.$tagHighlight),
                                t.$tagHighlight = null),
                                u && !t.$tagHighlight && (t.$tagHighlight = t.addMarker(u, "ace_bracket", "text"))
                            }
                        }
                    }, 50)
                }
            }
            ,
            this.focus = function() {
                var e = this;
                setTimeout(function() {
                    e.textInput.focus()
                }),
                this.textInput.focus()
            }
            ,
            this.isFocused = function() {
                return this.textInput.isFocused()
            }
            ,
            this.blur = function() {
                this.textInput.blur()
            }
            ,
            this.onFocus = function(e) {
                this.$isFocused || (this.$isFocused = !0,
                this.renderer.showCursor(),
                this.renderer.visualizeFocus(),
                this._emit("focus", e))
            }
            ,
            this.onBlur = function(e) {
                this.$isFocused && (this.$isFocused = !1,
                this.renderer.hideCursor(),
                this.renderer.visualizeBlur(),
                this._emit("blur", e))
            }
            ,
            this.$cursorChange = function() {
                this.renderer.updateCursor()
            }
            ,
            this.onDocumentChange = function(e) {
                var t = this.session.$useWrapMode
                  , n = e.start.row == e.end.row ? e.end.row : 1 / 0;
                this.renderer.updateLines(e.start.row, n, t),
                this._signal("change", e),
                this.$cursorChange(),
                this.$updateHighlightActiveLine()
            }
            ,
            this.onTokenizerUpdate = function(e) {
                var t = e.data;
                this.renderer.updateLines(t.first, t.last)
            }
            ,
            this.onScrollTopChange = function() {
                this.renderer.scrollToY(this.session.getScrollTop())
            }
            ,
            this.onScrollLeftChange = function() {
                this.renderer.scrollToX(this.session.getScrollLeft())
            }
            ,
            this.onCursorChange = function() {
                this.$cursorChange(),
                this.$blockScrolling || (v.warn("Automatically scrolling cursor into view after selection change", "this will be disabled in the next version", "set editor.$blockScrolling = Infinity to disable this message"),
                this.renderer.scrollCursorIntoView()),
                this.$highlightBrackets(),
                this.$highlightTags(),
                this.$updateHighlightActiveLine(),
                this._signal("changeSelection")
            }
            ,
            this.$updateHighlightActiveLine = function() {
                var e, t = this.getSession();
                if (this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (e = this.getCursorPosition()),
                !this.renderer.$maxLines || 1 !== this.session.getLength() || this.renderer.$minLines > 1 || (e = !1)),
                t.$highlightLineMarker && !e)
                    t.removeMarker(t.$highlightLineMarker.id),
                    t.$highlightLineMarker = null;
                else if (!t.$highlightLineMarker && e) {
                    var n = new f(e.row,e.column,e.row,1 / 0);
                    n.id = t.addMarker(n, "ace_active-line", "screenLine"),
                    t.$highlightLineMarker = n
                } else
                    e && (t.$highlightLineMarker.start.row = e.row,
                    t.$highlightLineMarker.end.row = e.row,
                    t.$highlightLineMarker.start.column = e.column,
                    t._signal("changeBackMarker"))
            }
            ,
            this.onSelectionChange = function(e) {
                var t = this.session;
                if (t.$selectionMarker && t.removeMarker(t.$selectionMarker),
                t.$selectionMarker = null,
                this.selection.isEmpty())
                    this.$updateHighlightActiveLine();
                else {
                    var n = this.selection.getRange()
                      , i = this.getSelectionStyle();
                    t.$selectionMarker = t.addMarker(n, "ace_selection", i)
                }
                var r = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
                this.session.highlight(r),
                this._signal("changeSelection")
            }
            ,
            this.$getSelectionHighLightRegexp = function() {
                var e = this.session
                  , t = this.getSelectionRange();
                if (!t.isEmpty() && !t.isMultiLine()) {
                    var n = t.start.column - 1
                      , i = t.end.column + 1
                      , r = e.getLine(t.start.row)
                      , o = r.length
                      , s = r.substring(Math.max(n, 0), Math.min(i, o));
                    if (!(n >= 0 && /^[\w\d]/.test(s) || i <= o && /[\w\d]$/.test(s)) && (s = r.substring(t.start.column, t.end.column),
                    /^[\w\d]+$/.test(s))) {
                        return this.$search.$assembleRegExp({
                            wholeWord: !0,
                            caseSensitive: !0,
                            needle: s
                        })
                    }
                }
            }
            ,
            this.onChangeFrontMarker = function() {
                this.renderer.updateFrontMarkers()
            }
            ,
            this.onChangeBackMarker = function() {
                this.renderer.updateBackMarkers()
            }
            ,
            this.onChangeBreakpoint = function() {
                this.renderer.updateBreakpoints()
            }
            ,
            this.onChangeAnnotation = function() {
                this.renderer.setAnnotations(this.session.getAnnotations())
            }
            ,
            this.onChangeMode = function(e) {
                this.renderer.updateText(),
                this._emit("changeMode", e)
            }
            ,
            this.onChangeWrapLimit = function() {
                this.renderer.updateFull()
            }
            ,
            this.onChangeWrapMode = function() {
                this.renderer.onResize(!0)
            }
            ,
            this.onChangeFold = function() {
                this.$updateHighlightActiveLine(),
                this.renderer.updateFull()
            }
            ,
            this.getSelectedText = function() {
                return this.session.getTextRange(this.getSelectionRange())
            }
            ,
            this.getCopyText = function() {
                var e = this.getSelectedText();
                return this._signal("copy", e),
                e
            }
            ,
            this.onCopy = function() {
                this.commands.exec("copy", this)
            }
            ,
            this.onCut = function() {
                this.commands.exec("cut", this)
            }
            ,
            this.onPaste = function(e, t) {
                var n = {
                    text: e,
                    event: t
                };
                this.commands.exec("paste", this, n)
            }
            ,
            this.$handlePaste = function(e) {
                "string" == typeof e && (e = {
                    text: e
                }),
                this._signal("paste", e);
                var t = e.text;
                if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
                    this.insert(t);
                else {
                    var n = t.split(/\r\n|\r|\n/)
                      , i = this.selection.rangeList.ranges;
                    if (n.length > i.length || n.length < 2 || !n[1])
                        return this.commands.exec("insertstring", this, t);
                    for (var r = i.length; r--; ) {
                        var o = i[r];
                        o.isEmpty() || this.session.remove(o),
                        this.session.insert(o.start, n[r])
                    }
                }
            }
            ,
            this.execCommand = function(e, t) {
                return this.commands.exec(e, this, t)
            }
            ,
            this.insert = function(e, t) {
                var n = this.session
                  , i = n.getMode()
                  , r = this.getCursorPosition();
                if (this.getBehavioursEnabled() && !t) {
                    var o = i.transformAction(n.getState(r.row), "insertion", this, n, e);
                    o && (e !== o.text && (this.session.mergeUndoDeltas = !1,
                    this.$mergeNextCommand = !1),
                    e = o.text)
                }
                if ("\t" == e && (e = this.session.getTabString()),
                this.selection.isEmpty()) {
                    if (this.session.getOverwrite() && -1 == e.indexOf("\n")) {
                        var s = new f.fromPoints(r,r);
                        s.end.column += e.length,
                        this.session.remove(s)
                    }
                } else {
                    var s = this.getSelectionRange();
                    r = this.session.remove(s),
                    this.clearSelection()
                }
                if ("\n" == e || "\r\n" == e) {
                    var a = n.getLine(r.row);
                    if (r.column > a.search(/\S|$/)) {
                        var l = a.substr(r.column).search(/\S|$/);
                        n.doc.removeInLine(r.row, r.column, r.column + l)
                    }
                }
                this.clearSelection();
                var c = r.column
                  , u = n.getState(r.row)
                  , a = n.getLine(r.row)
                  , h = i.checkOutdent(u, a, e);
                n.insert(r, e);
                if (o && o.selection && (2 == o.selection.length ? this.selection.setSelectionRange(new f(r.row,c + o.selection[0],r.row,c + o.selection[1])) : this.selection.setSelectionRange(new f(r.row + o.selection[0],o.selection[1],r.row + o.selection[2],o.selection[3]))),
                n.getDocument().isNewLine(e)) {
                    var d = i.getNextLineIndent(u, a.slice(0, r.column), n.getTabString());
                    n.insert({
                        row: r.row + 1,
                        column: 0
                    }, d)
                }
                h && i.autoOutdent(u, n, r.row)
            }
            ,
            this.onTextInput = function(e) {
                this.keyBinding.onTextInput(e)
            }
            ,
            this.onCommandKey = function(e, t, n) {
                this.keyBinding.onCommandKey(e, t, n)
            }
            ,
            this.setOverwrite = function(e) {
                this.session.setOverwrite(e)
            }
            ,
            this.getOverwrite = function() {
                return this.session.getOverwrite()
            }
            ,
            this.toggleOverwrite = function() {
                this.session.toggleOverwrite()
            }
            ,
            this.setScrollSpeed = function(e) {
                this.setOption("scrollSpeed", e)
            }
            ,
            this.getScrollSpeed = function() {
                return this.getOption("scrollSpeed")
            }
            ,
            this.setDragDelay = function(e) {
                this.setOption("dragDelay", e)
            }
            ,
            this.getDragDelay = function() {
                return this.getOption("dragDelay")
            }
            ,
            this.setSelectionStyle = function(e) {
                this.setOption("selectionStyle", e)
            }
            ,
            this.getSelectionStyle = function() {
                return this.getOption("selectionStyle")
            }
            ,
            this.setHighlightActiveLine = function(e) {
                this.setOption("highlightActiveLine", e)
            }
            ,
            this.getHighlightActiveLine = function() {
                return this.getOption("highlightActiveLine")
            }
            ,
            this.setHighlightGutterLine = function(e) {
                this.setOption("highlightGutterLine", e)
            }
            ,
            this.getHighlightGutterLine = function() {
                return this.getOption("highlightGutterLine")
            }
            ,
            this.setHighlightSelectedWord = function(e) {
                this.setOption("highlightSelectedWord", e)
            }
            ,
            this.getHighlightSelectedWord = function() {
                return this.$highlightSelectedWord
            }
            ,
            this.setAnimatedScroll = function(e) {
                this.renderer.setAnimatedScroll(e)
            }
            ,
            this.getAnimatedScroll = function() {
                return this.renderer.getAnimatedScroll()
            }
            ,
            this.setShowInvisibles = function(e) {
                this.renderer.setShowInvisibles(e)
            }
            ,
            this.getShowInvisibles = function() {
                return this.renderer.getShowInvisibles()
            }
            ,
            this.setDisplayIndentGuides = function(e) {
                this.renderer.setDisplayIndentGuides(e)
            }
            ,
            this.getDisplayIndentGuides = function() {
                return this.renderer.getDisplayIndentGuides()
            }
            ,
            this.setShowPrintMargin = function(e) {
                this.renderer.setShowPrintMargin(e)
            }
            ,
            this.getShowPrintMargin = function() {
                return this.renderer.getShowPrintMargin()
            }
            ,
            this.setPrintMarginColumn = function(e) {
                this.renderer.setPrintMarginColumn(e)
            }
            ,
            this.getPrintMarginColumn = function() {
                return this.renderer.getPrintMarginColumn()
            }
            ,
            this.setReadOnly = function(e) {
                this.setOption("readOnly", e)
            }
            ,
            this.getReadOnly = function() {
                return this.getOption("readOnly")
            }
            ,
            this.setBehavioursEnabled = function(e) {
                this.setOption("behavioursEnabled", e)
            }
            ,
            this.getBehavioursEnabled = function() {
                return this.getOption("behavioursEnabled")
            }
            ,
            this.setWrapBehavioursEnabled = function(e) {
                this.setOption("wrapBehavioursEnabled", e)
            }
            ,
            this.getWrapBehavioursEnabled = function() {
                return this.getOption("wrapBehavioursEnabled")
            }
            ,
            this.setShowFoldWidgets = function(e) {
                this.setOption("showFoldWidgets", e)
            }
            ,
            this.getShowFoldWidgets = function() {
                return this.getOption("showFoldWidgets")
            }
            ,
            this.setFadeFoldWidgets = function(e) {
                this.setOption("fadeFoldWidgets", e)
            }
            ,
            this.getFadeFoldWidgets = function() {
                return this.getOption("fadeFoldWidgets")
            }
            ,
            this.remove = function(e) {
                this.selection.isEmpty() && ("left" == e ? this.selection.selectLeft() : this.selection.selectRight());
                var t = this.getSelectionRange();
                if (this.getBehavioursEnabled()) {
                    var n = this.session
                      , i = n.getState(t.start.row)
                      , r = n.getMode().transformAction(i, "deletion", this, n, t);
                    if (0 === t.end.column) {
                        var o = n.getTextRange(t);
                        if ("\n" == o[o.length - 1]) {
                            var s = n.getLine(t.end.row);
                            /^\s+$/.test(s) && (t.end.column = s.length)
                        }
                    }
                    r && (t = r)
                }
                this.session.remove(t),
                this.clearSelection()
            }
            ,
            this.removeWordRight = function() {
                this.selection.isEmpty() && this.selection.selectWordRight(),
                this.session.remove(this.getSelectionRange()),
                this.clearSelection()
            }
            ,
            this.removeWordLeft = function() {
                this.selection.isEmpty() && this.selection.selectWordLeft(),
                this.session.remove(this.getSelectionRange()),
                this.clearSelection()
            }
            ,
            this.removeToLineStart = function() {
                this.selection.isEmpty() && this.selection.selectLineStart(),
                this.session.remove(this.getSelectionRange()),
                this.clearSelection()
            }
            ,
            this.removeToLineEnd = function() {
                this.selection.isEmpty() && this.selection.selectLineEnd();
                var e = this.getSelectionRange();
                e.start.column == e.end.column && e.start.row == e.end.row && (e.end.column = 0,
                e.end.row++),
                this.session.remove(e),
                this.clearSelection()
            }
            ,
            this.splitLine = function() {
                this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()),
                this.clearSelection());
                var e = this.getCursorPosition();
                this.insert("\n"),
                this.moveCursorToPosition(e)
            }
            ,
            this.transposeLetters = function() {
                if (this.selection.isEmpty()) {
                    var e = this.getCursorPosition()
                      , t = e.column;
                    if (0 !== t) {
                        var n, i, r = this.session.getLine(e.row);
                        t < r.length ? (n = r.charAt(t) + r.charAt(t - 1),
                        i = new f(e.row,t - 1,e.row,t + 1)) : (n = r.charAt(t - 1) + r.charAt(t - 2),
                        i = new f(e.row,t - 2,e.row,t)),
                        this.session.replace(i, n),
                        this.session.selection.moveToPosition(i.end)
                    }
                }
            }
            ,
            this.toLowerCase = function() {
                var e = this.getSelectionRange();
                this.selection.isEmpty() && this.selection.selectWord();
                var t = this.getSelectionRange()
                  , n = this.session.getTextRange(t);
                this.session.replace(t, n.toLowerCase()),
                this.selection.setSelectionRange(e)
            }
            ,
            this.toUpperCase = function() {
                var e = this.getSelectionRange();
                this.selection.isEmpty() && this.selection.selectWord();
                var t = this.getSelectionRange()
                  , n = this.session.getTextRange(t);
                this.session.replace(t, n.toUpperCase()),
                this.selection.setSelectionRange(e)
            }
            ,
            this.indent = function() {
                var e = this.session
                  , t = this.getSelectionRange();
                if (t.start.row < t.end.row) {
                    var n = this.$getSelectedRows();
                    return void e.indentRows(n.first, n.last, "\t")
                }
                if (t.start.column < t.end.column) {
                    if (!/^\s+$/.test(e.getTextRange(t))) {
                        var n = this.$getSelectedRows();
                        return void e.indentRows(n.first, n.last, "\t")
                    }
                }
                var i = e.getLine(t.start.row)
                  , r = t.start
                  , s = e.getTabSize()
                  , a = e.documentToScreenColumn(r.row, r.column);
                if (this.session.getUseSoftTabs())
                    var l = s - a % s
                      , c = o.stringRepeat(" ", l);
                else {
                    for (var l = a % s; " " == i[t.start.column - 1] && l; )
                        t.start.column--,
                        l--;
                    this.selection.setSelectionRange(t),
                    c = "\t"
                }
                return this.insert(c)
            }
            ,
            this.blockIndent = function() {
                var e = this.$getSelectedRows();
                this.session.indentRows(e.first, e.last, "\t")
            }
            ,
            this.blockOutdent = function() {
                var e = this.session.getSelection();
                this.session.outdentRows(e.getRange())
            }
            ,
            this.sortLines = function() {
                for (var e = this.$getSelectedRows(), t = this.session, n = [], i = e.first; i <= e.last; i++)
                    n.push(t.getLine(i));
                n.sort(function(e, t) {
                    return e.toLowerCase() < t.toLowerCase() ? -1 : e.toLowerCase() > t.toLowerCase() ? 1 : 0
                });
                for (var r = new f(0,0,0,0), i = e.first; i <= e.last; i++) {
                    var o = t.getLine(i);
                    r.start.row = i,
                    r.end.row = i,
                    r.end.column = o.length,
                    t.replace(r, n[i - e.first])
                }
            }
            ,
            this.toggleCommentLines = function() {
                var e = this.session.getState(this.getCursorPosition().row)
                  , t = this.$getSelectedRows();
                this.session.getMode().toggleCommentLines(e, this.session, t.first, t.last)
            }
            ,
            this.toggleBlockComment = function() {
                var e = this.getCursorPosition()
                  , t = this.session.getState(e.row)
                  , n = this.getSelectionRange();
                this.session.getMode().toggleBlockComment(t, this.session, n, e)
            }
            ,
            this.getNumberAt = function(e, t) {
                var n = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
                n.lastIndex = 0;
                for (var i = this.session.getLine(e); n.lastIndex < t; ) {
                    var r = n.exec(i);
                    if (r.index <= t && r.index + r[0].length >= t) {
                        return {
                            value: r[0],
                            start: r.index,
                            end: r.index + r[0].length
                        }
                    }
                }
                return null
            }
            ,
            this.modifyNumber = function(e) {
                var t = this.selection.getCursor().row
                  , n = this.selection.getCursor().column
                  , i = new f(t,n - 1,t,n)
                  , r = this.session.getTextRange(i);
                if (!isNaN(parseFloat(r)) && isFinite(r)) {
                    var o = this.getNumberAt(t, n);
                    if (o) {
                        var s = o.value.indexOf(".") >= 0 ? o.start + o.value.indexOf(".") + 1 : o.end
                          , a = o.start + o.value.length - s
                          , l = parseFloat(o.value);
                        l *= Math.pow(10, a),
                        s !== o.end && n < s ? e *= Math.pow(10, o.end - n - 1) : e *= Math.pow(10, o.end - n),
                        l += e,
                        l /= Math.pow(10, a);
                        var c = l.toFixed(a)
                          , u = new f(t,o.start,t,o.end);
                        this.session.replace(u, c),
                        this.moveCursorTo(t, Math.max(o.start + 1, n + c.length - o.value.length))
                    }
                }
            }
            ,
            this.removeLines = function() {
                var e = this.$getSelectedRows();
                this.session.removeFullLines(e.first, e.last),
                this.clearSelection()
            }
            ,
            this.duplicateSelection = function() {
                var e = this.selection
                  , t = this.session
                  , n = e.getRange()
                  , i = e.isBackwards();
                if (n.isEmpty()) {
                    var r = n.start.row;
                    t.duplicateLines(r, r)
                } else {
                    var o = i ? n.start : n.end
                      , s = t.insert(o, t.getTextRange(n), !1);
                    n.start = o,
                    n.end = s,
                    e.setSelectionRange(n, i)
                }
            }
            ,
            this.moveLinesDown = function() {
                this.$moveLines(1, !1)
            }
            ,
            this.moveLinesUp = function() {
                this.$moveLines(-1, !1)
            }
            ,
            this.moveText = function(e, t, n) {
                return this.session.moveText(e, t, n)
            }
            ,
            this.copyLinesUp = function() {
                this.$moveLines(-1, !0)
            }
            ,
            this.copyLinesDown = function() {
                this.$moveLines(1, !0)
            }
            ,
            this.$moveLines = function(e, t) {
                var n, i, r = this.selection;
                if (!r.inMultiSelectMode || this.inVirtualSelectionMode) {
                    var o = r.toOrientedRange();
                    n = this.$getSelectedRows(o),
                    i = this.session.$moveLines(n.first, n.last, t ? 0 : e),
                    t && -1 == e && (i = 0),
                    o.moveBy(i, 0),
                    r.fromOrientedRange(o)
                } else {
                    var s = r.rangeList.ranges;
                    r.rangeList.detach(this.session),
                    this.inVirtualSelectionMode = !0;
                    for (var a = 0, l = 0, c = s.length, u = 0; u < c; u++) {
                        var h = u;
                        s[u].moveBy(a, 0),
                        n = this.$getSelectedRows(s[u]);
                        for (var d = n.first, f = n.last; ++u < c; ) {
                            l && s[u].moveBy(l, 0);
                            var g = this.$getSelectedRows(s[u]);
                            if (t && g.first != f)
                                break;
                            if (!t && g.first > f + 1)
                                break;
                            f = g.last
                        }
                        for (u--,
                        a = this.session.$moveLines(d, f, t ? 0 : e),
                        t && -1 == e && (h = u + 1); h <= u; )
                            s[h].moveBy(a, 0),
                            h++;
                        t || (a = 0),
                        l += a
                    }
                    r.fromOrientedRange(r.ranges[0]),
                    r.rangeList.attach(this.session),
                    this.inVirtualSelectionMode = !1
                }
            }
            ,
            this.$getSelectedRows = function(e) {
                return e = (e || this.getSelectionRange()).collapseRows(),
                {
                    first: this.session.getRowFoldStart(e.start.row),
                    last: this.session.getRowFoldEnd(e.end.row)
                }
            }
            ,
            this.onCompositionStart = function(e) {
                this.renderer.showComposition(this.getCursorPosition())
            }
            ,
            this.onCompositionUpdate = function(e) {
                this.renderer.setCompositionText(e)
            }
            ,
            this.onCompositionEnd = function() {
                this.renderer.hideComposition()
            }
            ,
            this.getFirstVisibleRow = function() {
                return this.renderer.getFirstVisibleRow()
            }
            ,
            this.getLastVisibleRow = function() {
                return this.renderer.getLastVisibleRow()
            }
            ,
            this.isRowVisible = function(e) {
                return e >= this.getFirstVisibleRow() && e <= this.getLastVisibleRow()
            }
            ,
            this.isRowFullyVisible = function(e) {
                return e >= this.renderer.getFirstFullyVisibleRow() && e <= this.renderer.getLastFullyVisibleRow()
            }
            ,
            this.$getVisibleRowCount = function() {
                return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1
            }
            ,
            this.$moveByPage = function(e, t) {
                var n = this.renderer
                  , i = this.renderer.layerConfig
                  , r = e * Math.floor(i.height / i.lineHeight);
                this.$blockScrolling++,
                !0 === t ? this.selection.$moveSelection(function() {
                    this.moveCursorBy(r, 0)
                }) : !1 === t && (this.selection.moveCursorBy(r, 0),
                this.selection.clearSelection()),
                this.$blockScrolling--;
                var o = n.scrollTop;
                n.scrollBy(0, r * i.lineHeight),
                null != t && n.scrollCursorIntoView(null, .5),
                n.animateScrolling(o)
            }
            ,
            this.selectPageDown = function() {
                this.$moveByPage(1, !0)
            }
            ,
            this.selectPageUp = function() {
                this.$moveByPage(-1, !0)
            }
            ,
            this.gotoPageDown = function() {
                this.$moveByPage(1, !1)
            }
            ,
            this.gotoPageUp = function() {
                this.$moveByPage(-1, !1)
            }
            ,
            this.scrollPageDown = function() {
                this.$moveByPage(1)
            }
            ,
            this.scrollPageUp = function() {
                this.$moveByPage(-1)
            }
            ,
            this.scrollToRow = function(e) {
                this.renderer.scrollToRow(e)
            }
            ,
            this.scrollToLine = function(e, t, n, i) {
                this.renderer.scrollToLine(e, t, n, i)
            }
            ,
            this.centerSelection = function() {
                var e = this.getSelectionRange()
                  , t = {
                    row: Math.floor(e.start.row + (e.end.row - e.start.row) / 2),
                    column: Math.floor(e.start.column + (e.end.column - e.start.column) / 2)
                };
                this.renderer.alignCursor(t, .5)
            }
            ,
            this.getCursorPosition = function() {
                return this.selection.getCursor()
            }
            ,
            this.getCursorPositionScreen = function() {
                return this.session.documentToScreenPosition(this.getCursorPosition())
            }
            ,
            this.getSelectionRange = function() {
                return this.selection.getRange()
            }
            ,
            this.selectAll = function() {
                this.$blockScrolling += 1,
                this.selection.selectAll(),
                this.$blockScrolling -= 1
            }
            ,
            this.clearSelection = function() {
                this.selection.clearSelection()
            }
            ,
            this.moveCursorTo = function(e, t) {
                this.selection.moveCursorTo(e, t)
            }
            ,
            this.moveCursorToPosition = function(e) {
                this.selection.moveCursorToPosition(e)
            }
            ,
            this.jumpToMatching = function(e, t) {
                var n = this.getCursorPosition()
                  , i = new A(this.session,n.row,n.column)
                  , r = i.getCurrentToken()
                  , o = r || i.stepForward();
                if (o) {
                    var s, a, l = !1, c = {}, u = n.column - o.start, h = {
                        ")": "(",
                        "(": "(",
                        "]": "[",
                        "[": "[",
                        "{": "{",
                        "}": "{"
                    };
                    do {
                        if (o.value.match(/[{}()\[\]]/g)) {
                            for (; u < o.value.length && !l; u++)
                                if (h[o.value[u]])
                                    switch (a = h[o.value[u]] + "." + o.type.replace("rparen", "lparen"),
                                    isNaN(c[a]) && (c[a] = 0),
                                    o.value[u]) {
                                    case "(":
                                    case "[":
                                    case "{":
                                        c[a]++;
                                        break;
                                    case ")":
                                    case "]":
                                    case "}":
                                        c[a]--,
                                        -1 === c[a] && (s = "bracket",
                                        l = !0)
                                    }
                        } else
                            o && -1 !== o.type.indexOf("tag-name") && (isNaN(c[o.value]) && (c[o.value] = 0),
                            "<" === r.value ? c[o.value]++ : "</" === r.value && c[o.value]--,
                            -1 === c[o.value] && (s = "tag",
                            l = !0));
                        l || (r = o,
                        o = i.stepForward(),
                        u = 0)
                    } while (o && !l);
                    if (s) {
                        var d, g;
                        if ("bracket" === s)
                            (d = this.session.getBracketRange(n)) || (d = new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn() + u - 1,i.getCurrentTokenRow(),i.getCurrentTokenColumn() + u - 1),
                            g = d.start,
                            (t || g.row === n.row && Math.abs(g.column - n.column) < 2) && (d = this.session.getBracketRange(g)));
                        else if ("tag" === s) {
                            if (!o || -1 === o.type.indexOf("tag-name"))
                                return;
                            var p = o.value;
                            if (d = new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn() - 2,i.getCurrentTokenRow(),i.getCurrentTokenColumn() - 2),
                            0 === d.compare(n.row, n.column)) {
                                l = !1;
                                do {
                                    o = r,
                                    (r = i.stepBackward()) && (-1 !== r.type.indexOf("tag-close") && d.setEnd(i.getCurrentTokenRow(), i.getCurrentTokenColumn() + 1),
                                    o.value === p && -1 !== o.type.indexOf("tag-name") && ("<" === r.value ? c[p]++ : "</" === r.value && c[p]--,
                                    0 === c[p] && (l = !0)))
                                } while (r && !l)
                            }
                            o && o.type.indexOf("tag-name") && (g = d.start,
                            g.row == n.row && Math.abs(g.column - n.column) < 2 && (g = d.end))
                        }
                        g = d && d.cursor || g,
                        g && (e ? d && t ? this.selection.setRange(d) : d && d.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(g.row, g.column) : this.selection.moveTo(g.row, g.column))
                    }
                }
            }
            ,
            this.gotoLine = function(e, t, n) {
                this.selection.clearSelection(),
                this.session.unfold({
                    row: e - 1,
                    column: t || 0
                }),
                this.$blockScrolling += 1,
                this.exitMultiSelectMode && this.exitMultiSelectMode(),
                this.moveCursorTo(e - 1, t || 0),
                this.$blockScrolling -= 1,
                this.isRowFullyVisible(e - 1) || this.scrollToLine(e - 1, !0, n)
            }
            ,
            this.navigateTo = function(e, t) {
                this.selection.moveTo(e, t)
            }
            ,
            this.navigateUp = function(e) {
                if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
                    var t = this.selection.anchor.getPosition();
                    return this.moveCursorToPosition(t)
                }
                this.selection.clearSelection(),
                this.selection.moveCursorBy(-e || -1, 0)
            }
            ,
            this.navigateDown = function(e) {
                if (this.selection.isMultiLine() && this.selection.isBackwards()) {
                    var t = this.selection.anchor.getPosition();
                    return this.moveCursorToPosition(t)
                }
                this.selection.clearSelection(),
                this.selection.moveCursorBy(e || 1, 0)
            }
            ,
            this.navigateLeft = function(e) {
                if (this.selection.isEmpty())
                    for (e = e || 1; e--; )
                        this.selection.moveCursorLeft();
                else {
                    var t = this.getSelectionRange().start;
                    this.moveCursorToPosition(t)
                }
                this.clearSelection()
            }
            ,
            this.navigateRight = function(e) {
                if (this.selection.isEmpty())
                    for (e = e || 1; e--; )
                        this.selection.moveCursorRight();
                else {
                    var t = this.getSelectionRange().end;
                    this.moveCursorToPosition(t)
                }
                this.clearSelection()
            }
            ,
            this.navigateLineStart = function() {
                this.selection.moveCursorLineStart(),
                this.clearSelection()
            }
            ,
            this.navigateLineEnd = function() {
                this.selection.moveCursorLineEnd(),
                this.clearSelection()
            }
            ,
            this.navigateFileEnd = function() {
                this.selection.moveCursorFileEnd(),
                this.clearSelection()
            }
            ,
            this.navigateFileStart = function() {
                this.selection.moveCursorFileStart(),
                this.clearSelection()
            }
            ,
            this.navigateWordRight = function() {
                this.selection.moveCursorWordRight(),
                this.clearSelection()
            }
            ,
            this.navigateWordLeft = function() {
                this.selection.moveCursorWordLeft(),
                this.clearSelection()
            }
            ,
            this.replace = function(e, t) {
                t && this.$search.set(t);
                var n = this.$search.find(this.session)
                  , i = 0;
                return n ? (this.$tryReplace(n, e) && (i = 1),
                null !== n && (this.selection.setSelectionRange(n),
                this.renderer.scrollSelectionIntoView(n.start, n.end)),
                i) : i
            }
            ,
            this.replaceAll = function(e, t) {
                t && this.$search.set(t);
                var n = this.$search.findAll(this.session)
                  , i = 0;
                if (!n.length)
                    return i;
                this.$blockScrolling += 1;
                var r = this.getSelectionRange();
                this.selection.moveTo(0, 0);
                for (var o = n.length - 1; o >= 0; --o)
                    this.$tryReplace(n[o], e) && i++;
                return this.selection.setSelectionRange(r),
                this.$blockScrolling -= 1,
                i
            }
            ,
            this.$tryReplace = function(e, t) {
                var n = this.session.getTextRange(e);
                return t = this.$search.replace(n, t),
                null !== t ? (e.end = this.session.replace(e, t),
                e) : null
            }
            ,
            this.getLastSearchOptions = function() {
                return this.$search.getOptions()
            }
            ,
            this.find = function(e, t, n) {
                t || (t = {}),
                "string" == typeof e || e instanceof RegExp ? t.needle = e : "object" == typeof e && i.mixin(t, e);
                var r = this.selection.getRange();
                null == t.needle && (e = this.session.getTextRange(r) || this.$search.$options.needle,
                e || (r = this.session.getWordRange(r.start.row, r.start.column),
                e = this.session.getTextRange(r)),
                this.$search.set({
                    needle: e
                })),
                this.$search.set(t),
                t.start || this.$search.set({
                    start: r
                });
                var o = this.$search.find(this.session);
                return t.preventScroll ? o : o ? (this.revealRange(o, n),
                o) : (t.backwards ? r.start = r.end : r.end = r.start,
                void this.selection.setRange(r))
            }
            ,
            this.findNext = function(e, t) {
                this.find({
                    skipCurrent: !0,
                    backwards: !1
                }, e, t)
            }
            ,
            this.findPrevious = function(e, t) {
                this.find(e, {
                    skipCurrent: !0,
                    backwards: !0
                }, t)
            }
            ,
            this.revealRange = function(e, t) {
                this.$blockScrolling += 1,
                this.session.unfold(e),
                this.selection.setSelectionRange(e),
                this.$blockScrolling -= 1;
                var n = this.renderer.scrollTop;
                this.renderer.scrollSelectionIntoView(e.start, e.end, .5),
                !1 !== t && this.renderer.animateScrolling(n)
            }
            ,
            this.undo = function() {
                this.$blockScrolling++,
                this.session.getUndoManager().undo(),
                this.$blockScrolling--,
                this.renderer.scrollCursorIntoView(null, .5)
            }
            ,
            this.redo = function() {
                this.$blockScrolling++,
                this.session.getUndoManager().redo(),
                this.$blockScrolling--,
                this.renderer.scrollCursorIntoView(null, .5)
            }
            ,
            this.destroy = function() {
                this.renderer.destroy(),
                this._signal("destroy", this),
                this.session && this.session.destroy()
            }
            ,
            this.setAutoScrollEditorIntoView = function(e) {
                if (e) {
                    var t, n = this, i = !1;
                    this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div"));
                    var r = this.$scrollAnchor;
                    r.style.cssText = "position:absolute",
                    this.container.insertBefore(r, this.container.firstChild);
                    var o = this.on("changeSelection", function() {
                        i = !0
                    })
                      , s = this.renderer.on("beforeRender", function() {
                        i && (t = n.renderer.container.getBoundingClientRect())
                    })
                      , a = this.renderer.on("afterRender", function() {
                        if (i && t && (n.isFocused() || n.searchBox && n.searchBox.isFocused())) {
                            var e = n.renderer
                              , o = e.$cursorLayer.$pixelPos
                              , s = e.layerConfig
                              , a = o.top - s.offset;
                            i = o.top >= 0 && a + t.top < 0 || !(o.top < s.height && o.top + t.top + s.lineHeight > window.innerHeight) && null,
                            null != i && (r.style.top = a + "px",
                            r.style.left = o.left + "px",
                            r.style.height = s.lineHeight + "px",
                            r.scrollIntoView(i)),
                            i = t = null
                        }
                    });
                    this.setAutoScrollEditorIntoView = function(e) {
                        e || (delete this.setAutoScrollEditorIntoView,
                        this.off("changeSelection", o),
                        this.renderer.off("afterRender", a),
                        this.renderer.off("beforeRender", s))
                    }
                }
            }
            ,
            this.$resetCursorStyle = function() {
                var e = this.$cursorStyle || "ace"
                  , t = this.renderer.$cursorLayer;
                t && (t.setSmoothBlinking(/smooth/.test(e)),
                t.isBlinking = !this.$readOnly && "wide" != e,
                r.setCssClass(t.element, "ace_slim-cursors", /slim/.test(e)))
            }
        }
        .call(w.prototype),
        v.defineOptions(w.prototype, "editor", {
            selectionStyle: {
                set: function(e) {
                    this.onSelectionChange(),
                    this._signal("changeSelectionStyle", {
                        data: e
                    })
                },
                initialValue: "line"
            },
            highlightActiveLine: {
                set: function() {
                    this.$updateHighlightActiveLine()
                },
                initialValue: !0
            },
            highlightSelectedWord: {
                set: function(e) {
                    this.$onSelectionChange()
                },
                initialValue: !0
            },
            readOnly: {
                set: function(e) {
                    this.$resetCursorStyle()
                },
                initialValue: !1
            },
            cursorStyle: {
                set: function(e) {
                    this.$resetCursorStyle()
                },
                values: ["ace", "slim", "smooth", "wide"],
                initialValue: "ace"
            },
            mergeUndoDeltas: {
                values: [!1, !0, "always"],
                initialValue: !0
            },
            behavioursEnabled: {
                initialValue: !0
            },
            wrapBehavioursEnabled: {
                initialValue: !0
            },
            autoScrollEditorIntoView: {
                set: function(e) {
                    this.setAutoScrollEditorIntoView(e)
                }
            },
            keyboardHandler: {
                set: function(e) {
                    this.setKeyboardHandler(e)
                },
                get: function() {
                    return this.keybindingId
                },
                handlesSet: !0
            },
            hScrollBarAlwaysVisible: "renderer",
            vScrollBarAlwaysVisible: "renderer",
            highlightGutterLine: "renderer",
            animatedScroll: "renderer",
            showInvisibles: "renderer",
            showPrintMargin: "renderer",
            printMarginColumn: "renderer",
            printMargin: "renderer",
            fadeFoldWidgets: "renderer",
            showFoldWidgets: "renderer",
            showLineNumbers: "renderer",
            showGutter: "renderer",
            displayIndentGuides: "renderer",
            fontSize: "renderer",
            fontFamily: "renderer",
            maxLines: "renderer",
            minLines: "renderer",
            scrollPastEnd: "renderer",
            fixedWidthGutter: "renderer",
            theme: "renderer",
            scrollSpeed: "$mouseHandler",
            dragDelay: "$mouseHandler",
            dragEnabled: "$mouseHandler",
            focusTimout: "$mouseHandler",
            tooltipFollowsMouse: "$mouseHandler",
            firstLineNumber: "session",
            overwrite: "session",
            newLineMode: "session",
            useWorker: "session",
            useSoftTabs: "session",
            tabSize: "session",
            wrap: "session",
            indentedSoftWrap: "session",
            foldStyle: "session",
            mode: "session"
        }),
        t.Editor = w
    }),
    ace.define("ace/undomanager", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        var i = function() {
            this.reset()
        };
        (function() {
            function e(e) {
                return {
                    action: e.action,
                    start: e.start,
                    end: e.end,
                    lines: 1 == e.lines.length ? null : e.lines,
                    text: 1 == e.lines.length ? e.lines[0] : null
                }
            }
            function t(e) {
                return {
                    action: e.action,
                    start: e.start,
                    end: e.end,
                    lines: e.lines || [e.text]
                }
            }
            function n(e, t) {
                for (var n = new Array(e.length), i = 0; i < e.length; i++) {
                    for (var r = e[i], o = {
                        group: r.group,
                        deltas: new Array(r.length)
                    }, s = 0; s < r.deltas.length; s++) {
                        var a = r.deltas[s];
                        o.deltas[s] = t(a)
                    }
                    n[i] = o
                }
                return n
            }
            this.execute = function(e) {
                var t = e.args[0];
                this.$doc = e.args[1],
                e.merge && this.hasUndo() && (this.dirtyCounter--,
                t = this.$undoStack.pop().concat(t)),
                this.$undoStack.push(t),
                this.$redoStack = [],
                this.dirtyCounter < 0 && (this.dirtyCounter = NaN),
                this.dirtyCounter++
            }
            ,
            this.undo = function(e) {
                var t = this.$undoStack.pop()
                  , n = null;
                return t && (n = this.$doc.undoChanges(t, e),
                this.$redoStack.push(t),
                this.dirtyCounter--),
                n
            }
            ,
            this.redo = function(e) {
                var t = this.$redoStack.pop()
                  , n = null;
                return t && (n = this.$doc.redoChanges(this.$deserializeDeltas(t), e),
                this.$undoStack.push(t),
                this.dirtyCounter++),
                n
            }
            ,
            this.reset = function() {
                this.$undoStack = [],
                this.$redoStack = [],
                this.dirtyCounter = 0
            }
            ,
            this.hasUndo = function() {
                return this.$undoStack.length > 0
            }
            ,
            this.hasRedo = function() {
                return this.$redoStack.length > 0
            }
            ,
            this.markClean = function() {
                this.dirtyCounter = 0
            }
            ,
            this.isClean = function() {
                return 0 === this.dirtyCounter
            }
            ,
            this.$serializeDeltas = function(t) {
                return n(t, e)
            }
            ,
            this.$deserializeDeltas = function(e) {
                return n(e, t)
            }
        }
        ).call(i.prototype),
        t.UndoManager = i
    }),
    ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter"], function(e, t, n) {
        "use strict";
        var i = e("../lib/dom")
          , r = e("../lib/oop")
          , o = e("../lib/lang")
          , s = e("../lib/event_emitter").EventEmitter
          , a = function(e) {
            this.element = i.createElement("div"),
            this.element.className = "ace_layer ace_gutter-layer",
            e.appendChild(this.element),
            this.setShowFoldWidgets(this.$showFoldWidgets),
            this.gutterWidth = 0,
            this.$annotations = [],
            this.$updateAnnotations = this.$updateAnnotations.bind(this),
            this.$cells = []
        };
        (function() {
            r.implement(this, s),
            this.setSession = function(e) {
                this.session && this.session.removeEventListener("change", this.$updateAnnotations),
                this.session = e,
                e && e.on("change", this.$updateAnnotations)
            }
            ,
            this.addGutterDecoration = function(e, t) {
                window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"),
                this.session.addGutterDecoration(e, t)
            }
            ,
            this.removeGutterDecoration = function(e, t) {
                window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"),
                this.session.removeGutterDecoration(e, t)
            }
            ,
            this.setAnnotations = function(e) {
                this.$annotations = [];
                for (var t = 0; t < e.length; t++) {
                    var n = e[t]
                      , i = n.row
                      , r = this.$annotations[i];
                    r || (r = this.$annotations[i] = {
                        text: []
                    });
                    var s = n.text;
                    s = s ? o.escapeHTML(s) : n.html || "",
                    -1 === r.text.indexOf(s) && r.text.push(s);
                    var a = n.type;
                    "error" == a ? r.className = " ace_error" : "warning" == a && " ace_error" != r.className ? r.className = " ace_warning" : "info" != a || r.className || (r.className = " ace_info")
                }
            }
            ,
            this.$updateAnnotations = function(e) {
                if (this.$annotations.length) {
                    var t = e.start.row
                      , n = e.end.row - t;
                    if (0 === n)
                        ;
                    else if ("remove" == e.action)
                        this.$annotations.splice(t, n + 1, null);
                    else {
                        var i = new Array(n + 1);
                        i.unshift(t, 1),
                        this.$annotations.splice.apply(this.$annotations, i)
                    }
                }
            }
            ,
            this.update = function(e) {
                for (var t = this.session, n = e.firstRow, r = Math.min(e.lastRow + e.gutterOffset, t.getLength() - 1), o = t.getNextFoldLine(n), s = o ? o.start.row : 1 / 0, a = this.$showFoldWidgets && t.foldWidgets, l = t.$breakpoints, c = t.$decorations, u = t.$firstLineNumber, h = 0, d = t.gutterRenderer || this.$renderer, f = null, g = -1, p = n; ; ) {
                    if (p > s && (p = o.end.row + 1,
                    o = t.getNextFoldLine(p, o),
                    s = o ? o.start.row : 1 / 0),
                    p > r) {
                        for (; this.$cells.length > g + 1; )
                            f = this.$cells.pop(),
                            this.element.removeChild(f.element);
                        break
                    }
                    f = this.$cells[++g],
                    f || (f = {
                        element: null,
                        textNode: null,
                        foldWidget: null
                    },
                    f.element = i.createElement("div"),
                    f.textNode = document.createTextNode(""),
                    f.element.appendChild(f.textNode),
                    this.element.appendChild(f.element),
                    this.$cells[g] = f);
                    var m = "ace_gutter-cell ";
                    l[p] && (m += l[p]),
                    c[p] && (m += c[p]),
                    this.$annotations[p] && (m += this.$annotations[p].className),
                    f.element.className != m && (f.element.className = m);
                    var v = t.getRowLength(p) * e.lineHeight + "px";
                    if (v != f.element.style.height && (f.element.style.height = v),
                    a) {
                        var A = a[p];
                        null == A && (A = a[p] = t.getFoldWidget(p))
                    }
                    if (A) {
                        f.foldWidget || (f.foldWidget = i.createElement("span"),
                        f.element.appendChild(f.foldWidget));
                        var m = "ace_fold-widget ace_" + A;
                        "start" == A && p == s && p < o.end.row ? m += " ace_closed" : m += " ace_open",
                        f.foldWidget.className != m && (f.foldWidget.className = m);
                        var v = e.lineHeight + "px";
                        f.foldWidget.style.height != v && (f.foldWidget.style.height = v)
                    } else
                        f.foldWidget && (f.element.removeChild(f.foldWidget),
                        f.foldWidget = null);
                    var w = h = d ? d.getText(t, p) : p + u;
                    w !== f.textNode.data && (f.textNode.data = w),
                    p++
                }
                this.element.style.height = e.minHeight + "px",
                (this.$fixedWidth || t.$useWrapMode) && (h = t.getLength() + u);
                var C = d ? d.getWidth(t, h, e) : h.toString().length * e.characterWidth
                  , y = this.$padding || this.$computePadding();
                (C += y.left + y.right) === this.gutterWidth || isNaN(C) || (this.gutterWidth = C,
                this.element.style.width = Math.ceil(this.gutterWidth) + "px",
                this._emit("changeGutterWidth", C))
            }
            ,
            this.$fixedWidth = !1,
            this.$showLineNumbers = !0,
            this.$renderer = "",
            this.setShowLineNumbers = function(e) {
                this.$renderer = !e && {
                    getWidth: function() {
                        return ""
                    },
                    getText: function() {
                        return ""
                    }
                }
            }
            ,
            this.getShowLineNumbers = function() {
                return this.$showLineNumbers
            }
            ,
            this.$showFoldWidgets = !0,
            this.setShowFoldWidgets = function(e) {
                e ? i.addCssClass(this.element, "ace_folding-enabled") : i.removeCssClass(this.element, "ace_folding-enabled"),
                this.$showFoldWidgets = e,
                this.$padding = null
            }
            ,
            this.getShowFoldWidgets = function() {
                return this.$showFoldWidgets
            }
            ,
            this.$computePadding = function() {
                if (!this.element.firstChild)
                    return {
                        left: 0,
                        right: 0
                    };
                var e = i.computedStyle(this.element.firstChild);
                return this.$padding = {},
                this.$padding.left = parseInt(e.paddingLeft) + 1 || 0,
                this.$padding.right = parseInt(e.paddingRight) || 0,
                this.$padding
            }
            ,
            this.getRegion = function(e) {
                var t = this.$padding || this.$computePadding()
                  , n = this.element.getBoundingClientRect();
                return e.x < t.left + n.left ? "markers" : this.$showFoldWidgets && e.x > n.right - t.right ? "foldWidgets" : void 0
            }
        }
        ).call(a.prototype),
        t.Gutter = a
    }),
    ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(e, t, n) {
        "use strict";
        var i = e("../range").Range
          , r = e("../lib/dom")
          , o = function(e) {
            this.element = r.createElement("div"),
            this.element.className = "ace_layer ace_marker-layer",
            e.appendChild(this.element)
        };
        (function() {
            function e(e, t, n, i) {
                return (e ? 1 : 0) | (t ? 2 : 0) | (n ? 4 : 0) | (i ? 8 : 0)
            }
            this.$padding = 0,
            this.setPadding = function(e) {
                this.$padding = e
            }
            ,
            this.setSession = function(e) {
                this.session = e
            }
            ,
            this.setMarkers = function(e) {
                this.markers = e
            }
            ,
            this.update = function(e) {
                if (e) {
                    this.config = e;
                    var t = [];
                    for (var n in this.markers) {
                        var i = this.markers[n];
                        if (i.range) {
                            var r = i.range.clipRows(e.firstRow, e.lastRow);
                            if (!r.isEmpty())
                                if (r = r.toScreenRange(this.session),
                                i.renderer) {
                                    var o = this.$getTop(r.start.row, e)
                                      , s = this.$padding + (this.session.$bidiHandler.isBidiRow(r.start.row) ? this.session.$bidiHandler.getPosLeft(r.start.column) : r.start.column * e.characterWidth);
                                    i.renderer(t, r, s, o, e)
                                } else
                                    "fullLine" == i.type ? this.drawFullLineMarker(t, r, i.clazz, e) : "screenLine" == i.type ? this.drawScreenLineMarker(t, r, i.clazz, e) : r.isMultiLine() ? "text" == i.type ? this.drawTextMarker(t, r, i.clazz, e) : this.drawMultiLineMarker(t, r, i.clazz, e) : this.session.$bidiHandler.isBidiRow(r.start.row) ? this.drawBidiSingleLineMarker(t, r, i.clazz + " ace_start ace_br15", e) : this.drawSingleLineMarker(t, r, i.clazz + " ace_start ace_br15", e)
                        } else
                            i.update(t, this, this.session, e)
                    }
                    this.element.innerHTML = t.join("")
                }
            }
            ,
            this.$getTop = function(e, t) {
                return (e - t.firstRowScreen) * t.lineHeight
            }
            ,
            this.drawTextMarker = function(t, n, r, o, s) {
                for (var a = this.session, l = n.start.row, c = n.end.row, u = l, h = 0, d = 0, f = a.getScreenLastRowColumn(u), g = null, p = new i(u,n.start.column,u,d); u <= c; u++)
                    p.start.row = p.end.row = u,
                    p.start.column = u == l ? n.start.column : a.getRowWrapIndent(u),
                    p.end.column = f,
                    h = d,
                    d = f,
                    f = u + 1 < c ? a.getScreenLastRowColumn(u + 1) : u == c ? 0 : n.end.column,
                    g = r + (u == l ? " ace_start" : "") + " ace_br" + e(u == l || u == l + 1 && n.start.column, h < d, d > f, u == c),
                    this.session.$bidiHandler.isBidiRow(u) ? this.drawBidiSingleLineMarker(t, p, g, o, u == c ? 0 : 1, s) : this.drawSingleLineMarker(t, p, g, o, u == c ? 0 : 1, s)
            }
            ,
            this.drawMultiLineMarker = function(e, t, n, i, r) {
                var o, s, a, l = this.$padding;
                if (r = r || "",
                this.session.$bidiHandler.isBidiRow(t.start.row)) {
                    var c = t.clone();
                    c.end.row = c.start.row,
                    c.end.column = this.session.getLine(c.start.row).length,
                    this.drawBidiSingleLineMarker(e, c, n + " ace_br1 ace_start", i, null, r)
                } else
                    o = i.lineHeight,
                    s = this.$getTop(t.start.row, i),
                    a = l + t.start.column * i.characterWidth,
                    e.push("<div class='", n, " ace_br1 ace_start' style='", "height:", o, "px;", "right:0;", "top:", s, "px;", "left:", a, "px;", r, "'></div>");
                if (this.session.$bidiHandler.isBidiRow(t.end.row)) {
                    var c = t.clone();
                    c.start.row = c.end.row,
                    c.start.column = 0,
                    this.drawBidiSingleLineMarker(e, c, n + " ace_br12", i, null, r)
                } else {
                    var u = t.end.column * i.characterWidth;
                    o = i.lineHeight,
                    s = this.$getTop(t.end.row, i),
                    e.push("<div class='", n, " ace_br12' style='", "height:", o, "px;", "width:", u, "px;", "top:", s, "px;", "left:", l, "px;", r, "'></div>")
                }
                if (!((o = (t.end.row - t.start.row - 1) * i.lineHeight) <= 0)) {
                    s = this.$getTop(t.start.row + 1, i);
                    var h = (t.start.column ? 1 : 0) | (t.end.column ? 0 : 8);
                    e.push("<div class='", n, h ? " ace_br" + h : "", "' style='", "height:", o, "px;", "right:0;", "top:", s, "px;", "left:", l, "px;", r, "'></div>")
                }
            }
            ,
            this.drawSingleLineMarker = function(e, t, n, i, r, o) {
                var s = i.lineHeight
                  , a = (t.end.column + (r || 0) - t.start.column) * i.characterWidth
                  , l = this.$getTop(t.start.row, i)
                  , c = this.$padding + t.start.column * i.characterWidth;
                e.push("<div class='", n, "' style='", "height:", s, "px;", "width:", a, "px;", "top:", l, "px;", "left:", c, "px;", o || "", "'></div>")
            }
            ,
            this.drawBidiSingleLineMarker = function(e, t, n, i, r, o) {
                var s = i.lineHeight
                  , a = this.$getTop(t.start.row, i)
                  , l = this.$padding;
                this.session.$bidiHandler.getSelections(t.start.column, t.end.column).forEach(function(t) {
                    e.push("<div class='", n, "' style='", "height:", s, "px;", "width:", t.width + (r || 0), "px;", "top:", a, "px;", "left:", l + t.left, "px;", o || "", "'></div>")
                })
            }
            ,
            this.drawFullLineMarker = function(e, t, n, i, r) {
                var o = this.$getTop(t.start.row, i)
                  , s = i.lineHeight;
                t.start.row != t.end.row && (s += this.$getTop(t.end.row, i) - o),
                e.push("<div class='", n, "' style='", "height:", s, "px;", "top:", o, "px;", "left:0;right:0;", r || "", "'></div>")
            }
            ,
            this.drawScreenLineMarker = function(e, t, n, i, r) {
                var o = this.$getTop(t.start.row, i)
                  , s = i.lineHeight;
                e.push("<div class='", n, "' style='", "height:", s, "px;", "top:", o, "px;", "left:0;right:0;", r || "", "'></div>")
            }
        }
        ).call(o.prototype),
        t.Marker = o
    }),
    ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter"], function(e, t, n) {
        "use strict";
        var i = e("../lib/oop")
          , r = e("../lib/dom")
          , o = e("../lib/lang")
          , s = (e("../lib/useragent"),
        e("../lib/event_emitter").EventEmitter)
          , a = function(e) {
            this.element = r.createElement("div"),
            this.element.className = "ace_layer ace_text-layer",
            e.appendChild(this.element),
            this.$updateEolChar = this.$updateEolChar.bind(this)
        };
        (function() {
            i.implement(this, s),
            this.EOF_CHAR = "",
            this.EOL_CHAR_LF = "",
            this.EOL_CHAR_CRLF = "",
            this.EOL_CHAR = this.EOL_CHAR_LF,
            this.TAB_CHAR = "",
            this.SPACE_CHAR = "",
            this.$padding = 0,
            this.$updateEolChar = function() {
                var e = "\n" == this.session.doc.getNewLineCharacter() ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
                if (this.EOL_CHAR != e)
                    return this.EOL_CHAR = e,
                    !0
            }
            ,
            this.setPadding = function(e) {
                this.$padding = e,
                this.element.style.padding = "0 " + e + "px"
            }
            ,
            this.getLineHeight = function() {
                return this.$fontMetrics.$characterSize.height || 0
            }
            ,
            this.getCharacterWidth = function() {
                return this.$fontMetrics.$characterSize.width || 0
            }
            ,
            this.$setFontMetrics = function(e) {
                this.$fontMetrics = e,
                this.$fontMetrics.on("changeCharacterSize", function(e) {
                    this._signal("changeCharacterSize", e)
                }
                .bind(this)),
                this.$pollSizeChanges()
            }
            ,
            this.checkForSizeChanges = function() {
                this.$fontMetrics.checkForSizeChanges()
            }
            ,
            this.$pollSizeChanges = function() {
                return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges()
            }
            ,
            this.setSession = function(e) {
                this.session = e,
                e && this.$computeTabString()
            }
            ,
            this.showInvisibles = !1,
            this.setShowInvisibles = function(e) {
                return this.showInvisibles != e && (this.showInvisibles = e,
                this.$computeTabString(),
                !0)
            }
            ,
            this.displayIndentGuides = !0,
            this.setDisplayIndentGuides = function(e) {
                return this.displayIndentGuides != e && (this.displayIndentGuides = e,
                this.$computeTabString(),
                !0)
            }
            ,
            this.$tabStrings = [],
            this.onChangeTabSize = this.$computeTabString = function() {
                var e = this.session.getTabSize();
                this.tabSize = e;
                for (var t = this.$tabStrings = [0], n = 1; n < e + 1; n++)
                    this.showInvisibles ? t.push("<span class='ace_invisible ace_invisible_tab'>" + o.stringRepeat(this.TAB_CHAR, n) + "</span>") : t.push(o.stringRepeat(" ", n));
                if (this.displayIndentGuides) {
                    this.$indentGuideRe = /\s\S| \t|\t |\s$/;
                    var i = "ace_indent-guide"
                      , r = ""
                      , s = "";
                    if (this.showInvisibles) {
                        i += " ace_invisible",
                        r = " ace_invisible_space",
                        s = " ace_invisible_tab";
                        var a = o.stringRepeat(this.SPACE_CHAR, this.tabSize)
                          , l = o.stringRepeat(this.TAB_CHAR, this.tabSize)
                    } else
                        var a = o.stringRepeat(" ", this.tabSize)
                          , l = a;
                    this.$tabStrings[" "] = "<span class='" + i + r + "'>" + a + "</span>",
                    this.$tabStrings["\t"] = "<span class='" + i + s + "'>" + l + "</span>"
                }
            }
            ,
            this.updateLines = function(e, t, n) {
                this.config.lastRow == e.lastRow && this.config.firstRow == e.firstRow || this.scrollLines(e),
                this.config = e;
                for (var i = Math.max(t, e.firstRow), r = Math.min(n, e.lastRow), o = this.element.childNodes, s = 0, a = e.firstRow; a < i; a++) {
                    var l = this.session.getFoldLine(a);
                    if (l) {
                        if (l.containsRow(i)) {
                            i = l.start.row;
                            break
                        }
                        a = l.end.row
                    }
                    s++
                }
                for (var a = i, l = this.session.getNextFoldLine(a), c = l ? l.start.row : 1 / 0; ; ) {
                    if (a > c && (a = l.end.row + 1,
                    l = this.session.getNextFoldLine(a, l),
                    c = l ? l.start.row : 1 / 0),
                    a > r)
                        break;
                    var u = o[s++];
                    if (u) {
                        var h = [];
                        this.$renderLine(h, a, !this.$useLineGroups(), a == c && l),
                        u.style.height = e.lineHeight * this.session.getRowLength(a) + "px",
                        u.innerHTML = h.join("")
                    }
                    a++
                }
            }
            ,
            this.scrollLines = function(e) {
                var t = this.config;
                if (this.config = e,
                !t || t.lastRow < e.firstRow)
                    return this.update(e);
                if (e.lastRow < t.firstRow)
                    return this.update(e);
                var n = this.element;
                if (t.firstRow < e.firstRow)
                    for (var i = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); i > 0; i--)
                        n.removeChild(n.firstChild);
                if (t.lastRow > e.lastRow)
                    for (var i = this.session.getFoldedRowCount(e.lastRow + 1, t.lastRow); i > 0; i--)
                        n.removeChild(n.lastChild);
                if (e.firstRow < t.firstRow) {
                    var r = this.$renderLinesFragment(e, e.firstRow, t.firstRow - 1);
                    n.firstChild ? n.insertBefore(r, n.firstChild) : n.appendChild(r)
                }
                if (e.lastRow > t.lastRow) {
                    var r = this.$renderLinesFragment(e, t.lastRow + 1, e.lastRow);
                    n.appendChild(r)
                }
            }
            ,
            this.$renderLinesFragment = function(e, t, n) {
                for (var i = this.element.ownerDocument.createDocumentFragment(), o = t, s = this.session.getNextFoldLine(o), a = s ? s.start.row : 1 / 0; ; ) {
                    if (o > a && (o = s.end.row + 1,
                    s = this.session.getNextFoldLine(o, s),
                    a = s ? s.start.row : 1 / 0),
                    o > n)
                        break;
                    var l = r.createElement("div")
                      , c = [];
                    if (this.$renderLine(c, o, !1, o == a && s),
                    l.innerHTML = c.join(""),
                    this.$useLineGroups())
                        l.className = "ace_line_group",
                        i.appendChild(l),
                        l.style.height = e.lineHeight * this.session.getRowLength(o) + "px";
                    else
                        for (; l.firstChild; )
                            i.appendChild(l.firstChild);
                    o++
                }
                return i
            }
            ,
            this.update = function(e) {
                this.config = e;
                for (var t = [], n = e.firstRow, i = e.lastRow, r = n, o = this.session.getNextFoldLine(r), s = o ? o.start.row : 1 / 0; ; ) {
                    if (r > s && (r = o.end.row + 1,
                    o = this.session.getNextFoldLine(r, o),
                    s = o ? o.start.row : 1 / 0),
                    r > i)
                        break;
                    this.$useLineGroups() && t.push("<div class='ace_line_group' style='height:", e.lineHeight * this.session.getRowLength(r), "px'>"),
                    this.$renderLine(t, r, !1, r == s && o),
                    this.$useLineGroups() && t.push("</div>"),
                    r++
                }
                this.element.innerHTML = t.join("")
            }
            ,
            this.$textToken = {
                text: !0,
                rparen: !0,
                lparen: !0
            },
            this.$renderToken = function(e, t, n, i) {
                var r = this
                  , s = /\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
                  , a = function(e, n, i, s, a) {
                    if (n)
                        return r.showInvisibles ? "<span class='ace_invisible ace_invisible_space'>" + o.stringRepeat(r.SPACE_CHAR, e.length) + "</span>" : e;
                    if ("&" == e)
                        return "&#38;";
                    if ("<" == e)
                        return "&#60;";
                    if (">" == e)
                        return "&#62;";
                    if ("\t" == e) {
                        var l = r.session.getScreenTabSize(t + s);
                        return t += l - 1,
                        r.$tabStrings[l]
                    }
                    if ("" == e) {
                        var c = r.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk"
                          , u = r.showInvisibles ? r.SPACE_CHAR : "";
                        return t += 1,
                        "<span class='" + c + "' style='width:" + 2 * r.config.characterWidth + "px'>" + u + "</span>"
                    }
                    return i ? "<span class='ace_invisible ace_invisible_space ace_invalid'>" + r.SPACE_CHAR + "</span>" : (t += 1,
                    "<span class='ace_cjk' style='width:" + 2 * r.config.characterWidth + "px'>" + e + "</span>")
                }
                  , l = i.replace(s, a);
                if (this.$textToken[n.type])
                    e.push(l);
                else {
                    var c = "ace_" + n.type.replace(/\./g, " ace_")
                      , u = "";
                    "fold" == n.type && (u = " style='width:" + n.value.length * this.config.characterWidth + "px;' "),
                    e.push("<span class='", c, "'", u, ">", l, "</span>")
                }
                return t + i.length
            }
            ,
            this.renderIndentGuide = function(e, t, n) {
                var i = t.search(this.$indentGuideRe);
                return i <= 0 || i >= n ? t : " " == t[0] ? (i -= i % this.tabSize,
                e.push(o.stringRepeat(this.$tabStrings[" "], i / this.tabSize)),
                t.substr(i)) : "\t" == t[0] ? (e.push(o.stringRepeat(this.$tabStrings["\t"], i)),
                t.substr(i)) : t
            }
            ,
            this.$renderWrappedLine = function(e, t, n, i) {
                for (var r = 0, s = 0, a = n[0], l = 0, c = 0; c < t.length; c++) {
                    var u = t[c]
                      , h = u.value;
                    if (0 == c && this.displayIndentGuides) {
                        if (r = h.length,
                        !(h = this.renderIndentGuide(e, h, a)))
                            continue;
                        r -= h.length
                    }
                    if (r + h.length < a)
                        l = this.$renderToken(e, l, u, h),
                        r += h.length;
                    else {
                        for (; r + h.length >= a; )
                            l = this.$renderToken(e, l, u, h.substring(0, a - r)),
                            h = h.substring(a - r),
                            r = a,
                            i || e.push("</div>", "<div class='ace_line' style='height:", this.config.lineHeight, "px'>"),
                            e.push(o.stringRepeat("", n.indent)),
                            s++,
                            l = 0,
                            a = n[s] || Number.MAX_VALUE;
                        0 != h.length && (r += h.length,
                        l = this.$renderToken(e, l, u, h))
                    }
                }
            }
            ,
            this.$renderSimpleLine = function(e, t) {
                var n = 0
                  , i = t[0]
                  , r = i.value;
                this.displayIndentGuides && (r = this.renderIndentGuide(e, r)),
                r && (n = this.$renderToken(e, n, i, r));
                for (var o = 1; o < t.length; o++)
                    i = t[o],
                    r = i.value,
                    n = this.$renderToken(e, n, i, r)
            }
            ,
            this.$renderLine = function(e, t, n, i) {
                if (i || 0 == i || (i = this.session.getFoldLine(t)),
                i)
                    var r = this.$getFoldLineTokens(t, i);
                else
                    var r = this.session.getTokens(t);
                if (n || e.push("<div class='ace_line' style='height:", this.config.lineHeight * (this.$useLineGroups() ? 1 : this.session.getRowLength(t)), "px'>"),
                r.length) {
                    var o = this.session.getRowSplitData(t);
                    o && o.length ? this.$renderWrappedLine(e, r, o, n) : this.$renderSimpleLine(e, r)
                }
                this.showInvisibles && (i && (t = i.end.row),
                e.push("<span class='ace_invisible ace_invisible_eol'>", t == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, "</span>")),
                n || e.push("</div>")
            }
            ,
            this.$getFoldLineTokens = function(e, t) {
                function n(e, t, n) {
                    for (var i = 0, o = 0; o + e[i].value.length < t; )
                        if (o += e[i].value.length,
                        ++i == e.length)
                            return;
                    if (o != t) {
                        var s = e[i].value.substring(t - o);
                        s.length > n - t && (s = s.substring(0, n - t)),
                        r.push({
                            type: e[i].type,
                            value: s
                        }),
                        o = t + s.length,
                        i += 1
                    }
                    for (; o < n && i < e.length; ) {
                        var s = e[i].value;
                        s.length + o > n ? r.push({
                            type: e[i].type,
                            value: s.substring(0, n - o)
                        }) : r.push(e[i]),
                        o += s.length,
                        i += 1
                    }
                }
                var i = this.session
                  , r = []
                  , o = i.getTokens(e);
                return t.walk(function(e, t, s, a, l) {
                    null != e ? r.push({
                        type: "fold",
                        value: e
                    }) : (l && (o = i.getTokens(t)),
                    o.length && n(o, a, s))
                }, t.end.row, this.session.getLine(t.end.row).length),
                r
            }
            ,
            this.$useLineGroups = function() {
                return this.session.getUseWrapMode()
            }
            ,
            this.destroy = function() {
                clearInterval(this.$pollSizeChangesTimer),
                this.$measureNode && this.$measureNode.parentNode.removeChild(this.$measureNode),
                delete this.$measureNode
            }
        }
        ).call(a.prototype),
        t.Text = a
    }),
    ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
        "use strict";
        var i, r = e("../lib/dom"), o = function(e) {
            this.element = r.createElement("div"),
            this.element.className = "ace_layer ace_cursor-layer",
            e.appendChild(this.element),
            void 0 === i && (i = !("opacity"in this.element.style)),
            this.isVisible = !1,
            this.isBlinking = !0,
            this.blinkInterval = 1e3,
            this.smoothBlinking = !1,
            this.cursors = [],
            this.cursor = this.addCursor(),
            r.addCssClass(this.element, "ace_hidden-cursors"),
            this.$updateCursors = (i ? this.$updateVisibility : this.$updateOpacity).bind(this)
        };
        (function() {
            this.$updateVisibility = function(e) {
                for (var t = this.cursors, n = t.length; n--; )
                    t[n].style.visibility = e ? "" : "hidden"
            }
            ,
            this.$updateOpacity = function(e) {
                for (var t = this.cursors, n = t.length; n--; )
                    t[n].style.opacity = e ? "" : "0"
            }
            ,
            this.$padding = 0,
            this.setPadding = function(e) {
                this.$padding = e
            }
            ,
            this.setSession = function(e) {
                this.session = e
            }
            ,
            this.setBlinking = function(e) {
                e != this.isBlinking && (this.isBlinking = e,
                this.restartTimer())
            }
            ,
            this.setBlinkInterval = function(e) {
                e != this.blinkInterval && (this.blinkInterval = e,
                this.restartTimer())
            }
            ,
            this.setSmoothBlinking = function(e) {
                e == this.smoothBlinking || i || (this.smoothBlinking = e,
                r.setCssClass(this.element, "ace_smooth-blinking", e),
                this.$updateCursors(!0),
                this.$updateCursors = this.$updateOpacity.bind(this),
                this.restartTimer())
            }
            ,
            this.addCursor = function() {
                var e = r.createElement("div");
                return e.className = "ace_cursor",
                this.element.appendChild(e),
                this.cursors.push(e),
                e
            }
            ,
            this.removeCursor = function() {
                if (this.cursors.length > 1) {
                    var e = this.cursors.pop();
                    return e.parentNode.removeChild(e),
                    e
                }
            }
            ,
            this.hideCursor = function() {
                this.isVisible = !1,
                r.addCssClass(this.element, "ace_hidden-cursors"),
                this.restartTimer()
            }
            ,
            this.showCursor = function() {
                this.isVisible = !0,
                r.removeCssClass(this.element, "ace_hidden-cursors"),
                this.restartTimer()
            }
            ,
            this.restartTimer = function() {
                var e = this.$updateCursors;
                if (clearInterval(this.intervalId),
                clearTimeout(this.timeoutId),
                this.smoothBlinking && r.removeCssClass(this.element, "ace_smooth-blinking"),
                e(!0),
                this.isBlinking && this.blinkInterval && this.isVisible) {
                    this.smoothBlinking && setTimeout(function() {
                        r.addCssClass(this.element, "ace_smooth-blinking")
                    }
                    .bind(this));
                    var t = function() {
                        this.timeoutId = setTimeout(function() {
                            e(!1)
                        }, .6 * this.blinkInterval)
                    }
                    .bind(this);
                    this.intervalId = setInterval(function() {
                        e(!0),
                        t()
                    }, this.blinkInterval),
                    t()
                }
            }
            ,
            this.getPixelPosition = function(e, t) {
                if (!this.config || !this.session)
                    return {
                        left: 0,
                        top: 0
                    };
                e || (e = this.session.selection.getCursor());
                var n = this.session.documentToScreenPosition(e);
                return {
                    left: this.$padding + (this.session.$bidiHandler.isBidiRow(n.row, e.row) ? this.session.$bidiHandler.getPosLeft(n.column) : n.column * this.config.characterWidth),
                    top: (n.row - (t ? this.config.firstRowScreen : 0)) * this.config.lineHeight
                }
            }
            ,
            this.update = function(e) {
                this.config = e;
                var t = this.session.$selectionMarkers
                  , n = 0
                  , i = 0;
                void 0 !== t && 0 !== t.length || (t = [{
                    cursor: null
                }]);
                for (var n = 0, r = t.length; n < r; n++) {
                    var o = this.getPixelPosition(t[n].cursor, !0);
                    if (!((o.top > e.height + e.offset || o.top < 0) && n > 1)) {
                        var s = (this.cursors[i++] || this.addCursor()).style;
                        this.drawCursor ? this.drawCursor(s, o, e, t[n], this.session) : (s.left = o.left + "px",
                        s.top = o.top + "px",
                        s.width = e.characterWidth + "px",
                        s.height = e.lineHeight + "px")
                    }
                }
                for (; this.cursors.length > i; )
                    this.removeCursor();
                var a = this.session.getOverwrite();
                this.$setOverwrite(a),
                this.$pixelPos = o,
                this.restartTimer()
            }
            ,
            this.drawCursor = null,
            this.$setOverwrite = function(e) {
                e != this.overwrite && (this.overwrite = e,
                e ? r.addCssClass(this.element, "ace_overwrite-cursors") : r.removeCssClass(this.element, "ace_overwrite-cursors"))
            }
            ,
            this.destroy = function() {
                clearInterval(this.intervalId),
                clearTimeout(this.timeoutId)
            }
        }
        ).call(o.prototype),
        t.Cursor = o
    }),
    ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./lib/dom")
          , o = e("./lib/event")
          , s = e("./lib/event_emitter").EventEmitter
          , a = function(e) {
            this.element = r.createElement("div"),
            this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix,
            this.inner = r.createElement("div"),
            this.inner.className = "ace_scrollbar-inner",
            this.element.appendChild(this.inner),
            e.appendChild(this.element),
            this.setVisible(!1),
            this.skipEvent = !1,
            o.addListener(this.element, "scroll", this.onScroll.bind(this)),
            o.addListener(this.element, "mousedown", o.preventDefault)
        };
        (function() {
            i.implement(this, s),
            this.setVisible = function(e) {
                this.element.style.display = e ? "" : "none",
                this.isVisible = e,
                this.coeff = 1
            }
        }
        ).call(a.prototype);
        var l = function(e, t) {
            a.call(this, e),
            this.scrollTop = 0,
            this.scrollHeight = 0,
            t.$scrollbarWidth = this.width = r.scrollbarWidth(e.ownerDocument),
            this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px",
            this.$minWidth = 0
        };
        i.inherits(l, a),
        function() {
            this.classSuffix = "-v",
            this.onScroll = function() {
                if (!this.skipEvent) {
                    if (this.scrollTop = this.element.scrollTop,
                    1 != this.coeff) {
                        var e = this.element.clientHeight / this.scrollHeight;
                        this.scrollTop = this.scrollTop * (1 - e) / (this.coeff - e)
                    }
                    this._emit("scroll", {
                        data: this.scrollTop
                    })
                }
                this.skipEvent = !1
            }
            ,
            this.getWidth = function() {
                return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0)
            }
            ,
            this.setHeight = function(e) {
                this.element.style.height = e + "px"
            }
            ,
            this.setInnerHeight = this.setScrollHeight = function(e) {
                this.scrollHeight = e,
                e > 32768 ? (this.coeff = 32768 / e,
                e = 32768) : 1 != this.coeff && (this.coeff = 1),
                this.inner.style.height = e + "px"
            }
            ,
            this.setScrollTop = function(e) {
                this.scrollTop != e && (this.skipEvent = !0,
                this.scrollTop = e,
                this.element.scrollTop = e * this.coeff)
            }
        }
        .call(l.prototype);
        var c = function(e, t) {
            a.call(this, e),
            this.scrollLeft = 0,
            this.height = t.$scrollbarWidth,
            this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px"
        };
        i.inherits(c, a),
        function() {
            this.classSuffix = "-h",
            this.onScroll = function() {
                this.skipEvent || (this.scrollLeft = this.element.scrollLeft,
                this._emit("scroll", {
                    data: this.scrollLeft
                })),
                this.skipEvent = !1
            }
            ,
            this.getHeight = function() {
                return this.isVisible ? this.height : 0
            }
            ,
            this.setWidth = function(e) {
                this.element.style.width = e + "px"
            }
            ,
            this.setInnerWidth = function(e) {
                this.inner.style.width = e + "px"
            }
            ,
            this.setScrollWidth = function(e) {
                this.inner.style.width = e + "px"
            }
            ,
            this.setScrollLeft = function(e) {
                this.scrollLeft != e && (this.skipEvent = !0,
                this.scrollLeft = this.element.scrollLeft = e)
            }
        }
        .call(c.prototype),
        t.ScrollBar = l,
        t.ScrollBarV = l,
        t.ScrollBarH = c,
        t.VScrollBar = l,
        t.HScrollBar = c
    }),
    ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(e, t, n) {
        "use strict";
        var i = e("./lib/event")
          , r = function(e, t) {
            this.onRender = e,
            this.pending = !1,
            this.changes = 0,
            this.window = t || window
        };
        (function() {
            this.schedule = function(e) {
                if (this.changes = this.changes | e,
                !this.pending && this.changes) {
                    this.pending = !0;
                    var t = this;
                    i.nextFrame(function() {
                        t.pending = !1;
                        for (var e; e = t.changes; )
                            t.changes = 0,
                            t.onRender(e)
                    }, this.window)
                }
            }
        }
        ).call(r.prototype),
        t.RenderLoop = r
    }),
    ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter"], function(e, t, n) {
        var i = e("../lib/oop")
          , r = e("../lib/dom")
          , o = e("../lib/lang")
          , s = e("../lib/useragent")
          , a = e("../lib/event_emitter").EventEmitter
          , l = 0
          , c = t.FontMetrics = function(e) {
            this.el = r.createElement("div"),
            this.$setMeasureNodeStyles(this.el.style, !0),
            this.$main = r.createElement("div"),
            this.$setMeasureNodeStyles(this.$main.style),
            this.$measureNode = r.createElement("div"),
            this.$setMeasureNodeStyles(this.$measureNode.style),
            this.el.appendChild(this.$main),
            this.el.appendChild(this.$measureNode),
            e.appendChild(this.el),
            l || this.$testFractionalRect(),
            this.$measureNode.innerHTML = o.stringRepeat("X", l),
            this.$characterSize = {
                width: 0,
                height: 0
            },
            this.checkForSizeChanges()
        }
        ;
        (function() {
            i.implement(this, a),
            this.$characterSize = {
                width: 0,
                height: 0
            },
            this.$testFractionalRect = function() {
                var e = r.createElement("div");
                this.$setMeasureNodeStyles(e.style),
                e.style.width = "0.2px",
                document.documentElement.appendChild(e);
                var t = e.getBoundingClientRect().width;
                l = t > 0 && t < 1 ? 50 : 100,
                e.parentNode.removeChild(e)
            }
            ,
            this.$setMeasureNodeStyles = function(e, t) {
                e.width = e.height = "auto",
                e.left = e.top = "0px",
                e.visibility = "hidden",
                e.position = "absolute",
                e.whiteSpace = "pre",
                s.isIE < 8 ? e["font-family"] = "inherit" : e.font = "inherit",
                e.overflow = t ? "hidden" : "visible"
            }
            ,
            this.checkForSizeChanges = function() {
                var e = this.$measureSizes();
                if (e && (this.$characterSize.width !== e.width || this.$characterSize.height !== e.height)) {
                    this.$measureNode.style.fontWeight = "bold";
                    var t = this.$measureSizes();
                    this.$measureNode.style.fontWeight = "",
                    this.$characterSize = e,
                    this.charSizes = Object.create(null),
                    this.allowBoldFonts = t && t.width === e.width && t.height === e.height,
                    this._emit("changeCharacterSize", {
                        data: e
                    })
                }
            }
            ,
            this.$pollSizeChanges = function() {
                if (this.$pollSizeChangesTimer)
                    return this.$pollSizeChangesTimer;
                var e = this;
                return this.$pollSizeChangesTimer = setInterval(function() {
                    e.checkForSizeChanges()
                }, 500)
            }
            ,
            this.setPolling = function(e) {
                e ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && (clearInterval(this.$pollSizeChangesTimer),
                this.$pollSizeChangesTimer = 0)
            }
            ,
            this.$measureSizes = function() {
                if (50 === l) {
                    var e = null;
                    try {
                        e = this.$measureNode.getBoundingClientRect()
                    } catch (t) {
                        e = {
                            width: 0,
                            height: 0
                        }
                    }
                    var t = {
                        height: e.height,
                        width: e.width / l
                    }
                } else
                    var t = {
                        height: this.$measureNode.clientHeight,
                        width: this.$measureNode.clientWidth / l
                    };
                return 0 === t.width || 0 === t.height ? null : t
            }
            ,
            this.$measureCharWidth = function(e) {
                return this.$main.innerHTML = o.stringRepeat(e, l),
                this.$main.getBoundingClientRect().width / l
            }
            ,
            this.getCharacterWidth = function(e) {
                var t = this.charSizes[e];
                return void 0 === t && (t = this.charSizes[e] = this.$measureCharWidth(e) / this.$characterSize.width),
                t
            }
            ,
            this.destroy = function() {
                clearInterval(this.$pollSizeChangesTimer),
                this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el)
            }
        }
        ).call(c.prototype)
    }),
    ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/lib/useragent", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./lib/dom")
          , o = e("./config")
          , s = e("./lib/useragent")
          , a = e("./layer/gutter").Gutter
          , l = e("./layer/marker").Marker
          , c = e("./layer/text").Text
          , u = e("./layer/cursor").Cursor
          , h = e("./scrollbar").HScrollBar
          , d = e("./scrollbar").VScrollBar
          , f = e("./renderloop").RenderLoop
          , g = e("./layer/font_metrics").FontMetrics
          , p = e("./lib/event_emitter").EventEmitter;
        r.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}', "ace_editor.css");
        var m = function(e, t) {
            var n = this;
            this.container = e || r.createElement("div"),
            this.$keepTextAreaAtCursor = !s.isOldIE,
            r.addCssClass(this.container, "ace_editor"),
            this.setTheme(t),
            this.$gutter = r.createElement("div"),
            this.$gutter.className = "ace_gutter",
            this.container.appendChild(this.$gutter),
            this.$gutter.setAttribute("aria-hidden", !0),
            this.scroller = r.createElement("div"),
            this.scroller.className = "ace_scroller",
            this.container.appendChild(this.scroller),
            this.content = r.createElement("div"),
            this.content.className = "ace_content",
            this.scroller.appendChild(this.content),
            this.$gutterLayer = new a(this.$gutter),
            this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)),
            this.$markerBack = new l(this.content);
            var i = this.$textLayer = new c(this.content);
            this.canvas = i.element,
            this.$markerFront = new l(this.content),
            this.$cursorLayer = new u(this.content),
            this.$horizScroll = !1,
            this.$vScroll = !1,
            this.scrollBar = this.scrollBarV = new d(this.container,this),
            this.scrollBarH = new h(this.container,this),
            this.scrollBarV.addEventListener("scroll", function(e) {
                n.$scrollAnimation || n.session.setScrollTop(e.data - n.scrollMargin.top)
            }),
            this.scrollBarH.addEventListener("scroll", function(e) {
                n.$scrollAnimation || n.session.setScrollLeft(e.data - n.scrollMargin.left)
            }),
            this.scrollTop = 0,
            this.scrollLeft = 0,
            this.cursorPos = {
                row: 0,
                column: 0
            },
            this.$fontMetrics = new g(this.container),
            this.$textLayer.$setFontMetrics(this.$fontMetrics),
            this.$textLayer.addEventListener("changeCharacterSize", function(e) {
                n.updateCharacterSize(),
                n.onResize(!0, n.gutterWidth, n.$size.width, n.$size.height),
                n._signal("changeCharacterSize", e)
            }),
            this.$size = {
                width: 0,
                height: 0,
                scrollerHeight: 0,
                scrollerWidth: 0,
                $dirty: !0
            },
            this.layerConfig = {
                width: 1,
                padding: 0,
                firstRow: 0,
                firstRowScreen: 0,
                lastRow: 0,
                lineHeight: 0,
                characterWidth: 0,
                minHeight: 1,
                maxHeight: 1,
                offset: 0,
                height: 1,
                gutterOffset: 1
            },
            this.scrollMargin = {
                left: 0,
                right: 0,
                top: 0,
                bottom: 0,
                v: 0,
                h: 0
            },
            this.$loop = new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),
            this.$loop.schedule(this.CHANGE_FULL),
            this.updateCharacterSize(),
            this.setPadding(4),
            o.resetOptions(this),
            o._emit("renderer", this)
        };
        (function() {
            this.CHANGE_CURSOR = 1,
            this.CHANGE_MARKER = 2,
            this.CHANGE_GUTTER = 4,
            this.CHANGE_SCROLL = 8,
            this.CHANGE_LINES = 16,
            this.CHANGE_TEXT = 32,
            this.CHANGE_SIZE = 64,
            this.CHANGE_MARKER_BACK = 128,
            this.CHANGE_MARKER_FRONT = 256,
            this.CHANGE_FULL = 512,
            this.CHANGE_H_SCROLL = 1024,
            i.implement(this, p),
            this.updateCharacterSize = function() {
                this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts,
                this.setStyle("ace_nobold", !this.$allowBoldFonts)),
                this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(),
                this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(),
                this.$updatePrintMargin()
            }
            ,
            this.setSession = function(e) {
                this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode),
                this.session = e,
                e && this.scrollMargin.top && e.getScrollTop() <= 0 && e.setScrollTop(-this.scrollMargin.top),
                this.$cursorLayer.setSession(e),
                this.$markerBack.setSession(e),
                this.$markerFront.setSession(e),
                this.$gutterLayer.setSession(e),
                this.$textLayer.setSession(e),
                e && (this.$loop.schedule(this.CHANGE_FULL),
                this.session.$setFontMetrics(this.$fontMetrics),
                this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null,
                this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this),
                this.onChangeNewLineMode(),
                this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode))
            }
            ,
            this.updateLines = function(e, t, n) {
                if (void 0 === t && (t = 1 / 0),
                this.$changedLines ? (this.$changedLines.firstRow > e && (this.$changedLines.firstRow = e),
                this.$changedLines.lastRow < t && (this.$changedLines.lastRow = t)) : this.$changedLines = {
                    firstRow: e,
                    lastRow: t
                },
                this.$changedLines.lastRow < this.layerConfig.firstRow) {
                    if (!n)
                        return;
                    this.$changedLines.lastRow = this.layerConfig.lastRow
                }
                this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES)
            }
            ,
            this.onChangeNewLineMode = function() {
                this.$loop.schedule(this.CHANGE_TEXT),
                this.$textLayer.$updateEolChar(),
                this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)
            }
            ,
            this.onChangeTabSize = function() {
                this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER),
                this.$textLayer.onChangeTabSize()
            }
            ,
            this.updateText = function() {
                this.$loop.schedule(this.CHANGE_TEXT)
            }
            ,
            this.updateFull = function(e) {
                e ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL)
            }
            ,
            this.updateFontSize = function() {
                this.$textLayer.checkForSizeChanges()
            }
            ,
            this.$changes = 0,
            this.$updateSizeAsync = function() {
                this.$loop.pending ? this.$size.$dirty = !0 : this.onResize()
            }
            ,
            this.onResize = function(e, t, n, i) {
                if (!(this.resizing > 2)) {
                    this.resizing > 0 ? this.resizing++ : this.resizing = e ? 1 : 0;
                    var r = this.container;
                    i || (i = r.clientHeight || r.scrollHeight),
                    n || (n = r.clientWidth || r.scrollWidth);
                    var o = this.$updateCachedSize(e, t, n, i);
                    if (!this.$size.scrollerHeight || !n && !i)
                        return this.resizing = 0;
                    e && (this.$gutterLayer.$padding = null),
                    e ? this.$renderChanges(o | this.$changes, !0) : this.$loop.schedule(o | this.$changes),
                    this.resizing && (this.resizing = 0),
                    this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null
                }
            }
            ,
            this.$updateCachedSize = function(e, t, n, i) {
                i -= this.$extraHeight || 0;
                var r = 0
                  , o = this.$size
                  , s = {
                    width: o.width,
                    height: o.height,
                    scrollerHeight: o.scrollerHeight,
                    scrollerWidth: o.scrollerWidth
                };
                return i && (e || o.height != i) && (o.height = i,
                r |= this.CHANGE_SIZE,
                o.scrollerHeight = o.height,
                this.$horizScroll && (o.scrollerHeight -= this.scrollBarH.getHeight()),
                this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px",
                r |= this.CHANGE_SCROLL),
                n && (e || o.width != n) && (r |= this.CHANGE_SIZE,
                o.width = n,
                null == t && (t = this.$showGutter ? this.$gutter.offsetWidth : 0),
                this.gutterWidth = t,
                this.scrollBarH.element.style.left = this.scroller.style.left = t + "px",
                o.scrollerWidth = Math.max(0, n - t - this.scrollBarV.getWidth()),
                this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + "px",
                this.scroller.style.bottom = this.scrollBarH.getHeight() + "px",
                (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || e) && (r |= this.CHANGE_FULL)),
                o.$dirty = !n || !i,
                r && this._signal("resize", s),
                r
            }
            ,
            this.onGutterResize = function() {
                var e = this.$showGutter ? this.$gutter.offsetWidth : 0;
                e != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, e, this.$size.width, this.$size.height)),
                this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : (this.$computeLayerConfig(),
                this.$loop.schedule(this.CHANGE_MARKER))
            }
            ,
            this.adjustWrapLimit = function() {
                var e = this.$size.scrollerWidth - 2 * this.$padding
                  , t = Math.floor(e / this.characterWidth);
                return this.session.adjustWrapLimit(t, this.$showPrintMargin && this.$printMarginColumn)
            }
            ,
            this.setAnimatedScroll = function(e) {
                this.setOption("animatedScroll", e)
            }
            ,
            this.getAnimatedScroll = function() {
                return this.$animatedScroll
            }
            ,
            this.setShowInvisibles = function(e) {
                this.setOption("showInvisibles", e),
                this.session.$bidiHandler.setShowInvisibles(e)
            }
            ,
            this.getShowInvisibles = function() {
                return this.getOption("showInvisibles")
            }
            ,
            this.getDisplayIndentGuides = function() {
                return this.getOption("displayIndentGuides")
            }
            ,
            this.setDisplayIndentGuides = function(e) {
                this.setOption("displayIndentGuides", e)
            }
            ,
            this.setShowPrintMargin = function(e) {
                this.setOption("showPrintMargin", e)
            }
            ,
            this.getShowPrintMargin = function() {
                return this.getOption("showPrintMargin")
            }
            ,
            this.setPrintMarginColumn = function(e) {
                this.setOption("printMarginColumn", e)
            }
            ,
            this.getPrintMarginColumn = function() {
                return this.getOption("printMarginColumn")
            }
            ,
            this.getShowGutter = function() {
                return this.getOption("showGutter")
            }
            ,
            this.setShowGutter = function(e) {
                return this.setOption("showGutter", e)
            }
            ,
            this.getFadeFoldWidgets = function() {
                return this.getOption("fadeFoldWidgets")
            }
            ,
            this.setFadeFoldWidgets = function(e) {
                this.setOption("fadeFoldWidgets", e)
            }
            ,
            this.setHighlightGutterLine = function(e) {
                this.setOption("highlightGutterLine", e)
            }
            ,
            this.getHighlightGutterLine = function() {
                return this.getOption("highlightGutterLine")
            }
            ,
            this.$updateGutterLineHighlight = function() {
                var e = this.$cursorLayer.$pixelPos
                  , t = this.layerConfig.lineHeight;
                if (this.session.getUseWrapMode()) {
                    var n = this.session.selection.getCursor();
                    n.column = 0,
                    e = this.$cursorLayer.getPixelPosition(n, !0),
                    t *= this.session.getRowLength(n.row)
                }
                this.$gutterLineHighlight.style.top = e.top - this.layerConfig.offset + "px",
                this.$gutterLineHighlight.style.height = t + "px"
            }
            ,
            this.$updatePrintMargin = function() {
                if (this.$showPrintMargin || this.$printMarginEl) {
                    if (!this.$printMarginEl) {
                        var e = r.createElement("div");
                        e.className = "ace_layer ace_print-margin-layer",
                        this.$printMarginEl = r.createElement("div"),
                        this.$printMarginEl.className = "ace_print-margin",
                        e.appendChild(this.$printMarginEl),
                        this.content.insertBefore(e, this.content.firstChild)
                    }
                    var t = this.$printMarginEl.style;
                    t.left = this.characterWidth * this.$printMarginColumn + this.$padding + "px",
                    t.visibility = this.$showPrintMargin ? "visible" : "hidden",
                    this.session && -1 == this.session.$wrap && this.adjustWrapLimit()
                }
            }
            ,
            this.getContainerElement = function() {
                return this.container
            }
            ,
            this.getMouseEventTarget = function() {
                return this.scroller
            }
            ,
            this.getTextAreaContainer = function() {
                return this.container
            }
            ,
            this.$moveTextAreaToCursor = function() {
                if (this.$keepTextAreaAtCursor) {
                    var e = this.layerConfig
                      , t = this.$cursorLayer.$pixelPos.top
                      , n = this.$cursorLayer.$pixelPos.left;
                    t -= e.offset;
                    var i = this.textarea.style
                      , r = this.lineHeight;
                    if (t < 0 || t > e.height - r)
                        return void (i.top = i.left = "0");
                    var o = this.characterWidth;
                    if (this.$composition) {
                        var s = this.textarea.value.replace(/^\x01+/, "");
                        o *= this.session.$getStringScreenWidth(s)[0] + 2,
                        r += 2
                    }
                    n -= this.scrollLeft,
                    n > this.$size.scrollerWidth - o && (n = this.$size.scrollerWidth - o),
                    n += this.gutterWidth,
                    i.height = r + "px",
                    i.width = o + "px",
                    i.left = Math.min(n, this.$size.scrollerWidth - o) + "px",
                    i.top = Math.min(t, this.$size.height - r) + "px"
                }
            }
            ,
            this.getFirstVisibleRow = function() {
                return this.layerConfig.firstRow
            }
            ,
            this.getFirstFullyVisibleRow = function() {
                return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1)
            }
            ,
            this.getLastFullyVisibleRow = function() {
                var e = this.layerConfig
                  , t = e.lastRow;
                return this.session.documentToScreenRow(t, 0) * e.lineHeight - this.session.getScrollTop() > e.height - e.lineHeight ? t - 1 : t
            }
            ,
            this.getLastVisibleRow = function() {
                return this.layerConfig.lastRow
            }
            ,
            this.$padding = null,
            this.setPadding = function(e) {
                this.$padding = e,
                this.$textLayer.setPadding(e),
                this.$cursorLayer.setPadding(e),
                this.$markerFront.setPadding(e),
                this.$markerBack.setPadding(e),
                this.$loop.schedule(this.CHANGE_FULL),
                this.$updatePrintMargin()
            }
            ,
            this.setScrollMargin = function(e, t, n, i) {
                var r = this.scrollMargin;
                r.top = 0 | e,
                r.bottom = 0 | t,
                r.right = 0 | i,
                r.left = 0 | n,
                r.v = r.top + r.bottom,
                r.h = r.left + r.right,
                r.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-r.top),
                this.updateFull()
            }
            ,
            this.getHScrollBarAlwaysVisible = function() {
                return this.$hScrollBarAlwaysVisible
            }
            ,
            this.setHScrollBarAlwaysVisible = function(e) {
                this.setOption("hScrollBarAlwaysVisible", e)
            }
            ,
            this.getVScrollBarAlwaysVisible = function() {
                return this.$vScrollBarAlwaysVisible
            }
            ,
            this.setVScrollBarAlwaysVisible = function(e) {
                this.setOption("vScrollBarAlwaysVisible", e)
            }
            ,
            this.$updateScrollBarV = function() {
                var e = this.layerConfig.maxHeight
                  , t = this.$size.scrollerHeight;
                !this.$maxLines && this.$scrollPastEnd && (e -= (t - this.lineHeight) * this.$scrollPastEnd,
                this.scrollTop > e - t && (e = this.scrollTop + t,
                this.scrollBarV.scrollTop = null)),
                this.scrollBarV.setScrollHeight(e + this.scrollMargin.v),
                this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top)
            }
            ,
            this.$updateScrollBarH = function() {
                this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h),
                this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left)
            }
            ,
            this.$frozen = !1,
            this.freeze = function() {
                this.$frozen = !0
            }
            ,
            this.unfreeze = function() {
                this.$frozen = !1
            }
            ,
            this.$renderChanges = function(e, t) {
                if (this.$changes && (e |= this.$changes,
                this.$changes = 0),
                !this.session || !this.container.offsetWidth || this.$frozen || !e && !t)
                    return void (this.$changes |= e);
                if (this.$size.$dirty)
                    return this.$changes |= e,
                    this.onResize(!0);
                this.lineHeight || this.$textLayer.checkForSizeChanges(),
                this._signal("beforeRender"),
                this.session && this.session.$bidiHandler && this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);
                var n = this.layerConfig;
                if (e & this.CHANGE_FULL || e & this.CHANGE_SIZE || e & this.CHANGE_TEXT || e & this.CHANGE_LINES || e & this.CHANGE_SCROLL || e & this.CHANGE_H_SCROLL) {
                    if (e |= this.$computeLayerConfig(),
                    n.firstRow != this.layerConfig.firstRow && n.firstRowScreen == this.layerConfig.firstRowScreen) {
                        var i = this.scrollTop + (n.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                        i > 0 && (this.scrollTop = i,
                        e |= this.CHANGE_SCROLL,
                        e |= this.$computeLayerConfig())
                    }
                    n = this.layerConfig,
                    this.$updateScrollBarV(),
                    e & this.CHANGE_H_SCROLL && this.$updateScrollBarH(),
                    this.$gutterLayer.element.style.marginTop = -n.offset + "px",
                    this.content.style.marginTop = -n.offset + "px",
                    this.content.style.width = n.width + 2 * this.$padding + "px",
                    this.content.style.height = n.minHeight + "px"
                }
                return e & this.CHANGE_H_SCROLL && (this.content.style.marginLeft = -this.scrollLeft + "px",
                this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"),
                e & this.CHANGE_FULL ? (this.$textLayer.update(n),
                this.$showGutter && this.$gutterLayer.update(n),
                this.$markerBack.update(n),
                this.$markerFront.update(n),
                this.$cursorLayer.update(n),
                this.$moveTextAreaToCursor(),
                this.$highlightGutterLine && this.$updateGutterLineHighlight(),
                void this._signal("afterRender")) : e & this.CHANGE_SCROLL ? (e & this.CHANGE_TEXT || e & this.CHANGE_LINES ? this.$textLayer.update(n) : this.$textLayer.scrollLines(n),
                this.$showGutter && this.$gutterLayer.update(n),
                this.$markerBack.update(n),
                this.$markerFront.update(n),
                this.$cursorLayer.update(n),
                this.$highlightGutterLine && this.$updateGutterLineHighlight(),
                this.$moveTextAreaToCursor(),
                void this._signal("afterRender")) : (e & this.CHANGE_TEXT ? (this.$textLayer.update(n),
                this.$showGutter && this.$gutterLayer.update(n)) : e & this.CHANGE_LINES ? (this.$updateLines() || e & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(n) : (e & this.CHANGE_TEXT || e & this.CHANGE_GUTTER) && this.$showGutter && this.$gutterLayer.update(n),
                e & this.CHANGE_CURSOR && (this.$cursorLayer.update(n),
                this.$moveTextAreaToCursor(),
                this.$highlightGutterLine && this.$updateGutterLineHighlight()),
                e & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(n),
                e & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(n),
                void this._signal("afterRender"))
            }
            ,
            this.$autosize = function() {
                var e = this.session.getScreenLength() * this.lineHeight
                  , t = this.$maxLines * this.lineHeight
                  , n = Math.min(t, Math.max((this.$minLines || 1) * this.lineHeight, e)) + this.scrollMargin.v + (this.$extraHeight || 0);
                this.$horizScroll && (n += this.scrollBarH.getHeight()),
                this.$maxPixelHeight && n > this.$maxPixelHeight && (n = this.$maxPixelHeight);
                var i = e > t;
                if (n != this.desiredHeight || this.$size.height != this.desiredHeight || i != this.$vScroll) {
                    i != this.$vScroll && (this.$vScroll = i,
                    this.scrollBarV.setVisible(i));
                    var r = this.container.clientWidth;
                    this.container.style.height = n + "px",
                    this.$updateCachedSize(!0, this.$gutterWidth, r, n),
                    this.desiredHeight = n,
                    this._signal("autosize")
                }
            }
            ,
            this.$computeLayerConfig = function() {
                var e = this.session
                  , t = this.$size
                  , n = t.height <= 2 * this.lineHeight
                  , i = this.session.getScreenLength()
                  , r = i * this.lineHeight
                  , o = this.$getLongestLine()
                  , s = !n && (this.$hScrollBarAlwaysVisible || t.scrollerWidth - o - 2 * this.$padding < 0)
                  , a = this.$horizScroll !== s;
                a && (this.$horizScroll = s,
                this.scrollBarH.setVisible(s));
                var l = this.$vScroll;
                this.$maxLines && this.lineHeight > 1 && this.$autosize();
                var c = this.scrollTop % this.lineHeight
                  , u = t.scrollerHeight + this.lineHeight
                  , h = !this.$maxLines && this.$scrollPastEnd ? (t.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
                r += h;
                var d = this.scrollMargin;
                this.session.setScrollTop(Math.max(-d.top, Math.min(this.scrollTop, r - t.scrollerHeight + d.bottom))),
                this.session.setScrollLeft(Math.max(-d.left, Math.min(this.scrollLeft, o + 2 * this.$padding - t.scrollerWidth + d.right)));
                var f = !n && (this.$vScrollBarAlwaysVisible || t.scrollerHeight - r + h < 0 || this.scrollTop > d.top)
                  , g = l !== f;
                g && (this.$vScroll = f,
                this.scrollBarV.setVisible(f));
                var p, m, v = Math.ceil(u / this.lineHeight) - 1, A = Math.max(0, Math.round((this.scrollTop - c) / this.lineHeight)), w = A + v, C = this.lineHeight;
                A = e.screenToDocumentRow(A, 0);
                var y = e.getFoldLine(A);
                y && (A = y.start.row),
                p = e.documentToScreenRow(A, 0),
                m = e.getRowLength(A) * C,
                w = Math.min(e.screenToDocumentRow(w, 0), e.getLength() - 1),
                u = t.scrollerHeight + e.getRowLength(w) * C + m,
                c = this.scrollTop - p * C;
                var b = 0;
                return this.layerConfig.width != o && (b = this.CHANGE_H_SCROLL),
                (a || g) && (b = this.$updateCachedSize(!0, this.gutterWidth, t.width, t.height),
                this._signal("scrollbarVisibilityChanged"),
                g && (o = this.$getLongestLine())),
                this.layerConfig = {
                    width: o,
                    padding: this.$padding,
                    firstRow: A,
                    firstRowScreen: p,
                    lastRow: w,
                    lineHeight: C,
                    characterWidth: this.characterWidth,
                    minHeight: u,
                    maxHeight: r,
                    offset: c,
                    gutterOffset: C ? Math.max(0, Math.ceil((c + t.height - t.scrollerHeight) / C)) : 0,
                    height: this.$size.scrollerHeight
                },
                b
            }
            ,
            this.$updateLines = function() {
                if (this.$changedLines) {
                    var e = this.$changedLines.firstRow
                      , t = this.$changedLines.lastRow;
                    this.$changedLines = null;
                    var n = this.layerConfig;
                    if (!(e > n.lastRow + 1 || t < n.firstRow))
                        return t === 1 / 0 ? (this.$showGutter && this.$gutterLayer.update(n),
                        void this.$textLayer.update(n)) : (this.$textLayer.updateLines(n, e, t),
                        !0)
                }
            }
            ,
            this.$getLongestLine = function() {
                var e = this.session.getScreenWidth();
                return this.showInvisibles && !this.session.$useWrapMode && (e += 1),
                Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(e * this.characterWidth))
            }
            ,
            this.updateFrontMarkers = function() {
                this.$markerFront.setMarkers(this.session.getMarkers(!0)),
                this.$loop.schedule(this.CHANGE_MARKER_FRONT)
            }
            ,
            this.updateBackMarkers = function() {
                this.$markerBack.setMarkers(this.session.getMarkers()),
                this.$loop.schedule(this.CHANGE_MARKER_BACK)
            }
            ,
            this.addGutterDecoration = function(e, t) {
                this.$gutterLayer.addGutterDecoration(e, t)
            }
            ,
            this.removeGutterDecoration = function(e, t) {
                this.$gutterLayer.removeGutterDecoration(e, t)
            }
            ,
            this.updateBreakpoints = function(e) {
                this.$loop.schedule(this.CHANGE_GUTTER)
            }
            ,
            this.setAnnotations = function(e) {
                this.$gutterLayer.setAnnotations(e),
                this.$loop.schedule(this.CHANGE_GUTTER)
            }
            ,
            this.updateCursor = function() {
                this.$loop.schedule(this.CHANGE_CURSOR)
            }
            ,
            this.hideCursor = function() {
                this.$cursorLayer.hideCursor()
            }
            ,
            this.showCursor = function() {
                this.$cursorLayer.showCursor()
            }
            ,
            this.scrollSelectionIntoView = function(e, t, n) {
                this.scrollCursorIntoView(e, n),
                this.scrollCursorIntoView(t, n)
            }
            ,
            this.scrollCursorIntoView = function(e, t, n) {
                if (0 !== this.$size.scrollerHeight) {
                    var i = this.$cursorLayer.getPixelPosition(e)
                      , r = i.left
                      , o = i.top
                      , s = n && n.top || 0
                      , a = n && n.bottom || 0
                      , l = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
                    l + s > o ? (t && l + s > o + this.lineHeight && (o -= t * this.$size.scrollerHeight),
                    0 === o && (o = -this.scrollMargin.top),
                    this.session.setScrollTop(o)) : l + this.$size.scrollerHeight - a < o + this.lineHeight && (t && l + this.$size.scrollerHeight - a < o - this.lineHeight && (o += t * this.$size.scrollerHeight),
                    this.session.setScrollTop(o + this.lineHeight - this.$size.scrollerHeight));
                    var c = this.scrollLeft;
                    c > r ? (r < this.$padding + 2 * this.layerConfig.characterWidth && (r = -this.scrollMargin.left),
                    this.session.setScrollLeft(r)) : c + this.$size.scrollerWidth < r + this.characterWidth ? this.session.setScrollLeft(Math.round(r + this.characterWidth - this.$size.scrollerWidth)) : c <= this.$padding && r - c < this.characterWidth && this.session.setScrollLeft(0)
                }
            }
            ,
            this.getScrollTop = function() {
                return this.session.getScrollTop()
            }
            ,
            this.getScrollLeft = function() {
                return this.session.getScrollLeft()
            }
            ,
            this.getScrollTopRow = function() {
                return this.scrollTop / this.lineHeight
            }
            ,
            this.getScrollBottomRow = function() {
                return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1)
            }
            ,
            this.scrollToRow = function(e) {
                this.session.setScrollTop(e * this.lineHeight)
            }
            ,
            this.alignCursor = function(e, t) {
                "number" == typeof e && (e = {
                    row: e,
                    column: 0
                });
                var n = this.$cursorLayer.getPixelPosition(e)
                  , i = this.$size.scrollerHeight - this.lineHeight
                  , r = n.top - i * (t || 0);
                return this.session.setScrollTop(r),
                r
            }
            ,
            this.STEPS = 8,
            this.$calcSteps = function(e, t) {
                var n = 0
                  , i = this.STEPS
                  , r = [];
                for (n = 0; n < i; ++n)
                    r.push(function(e, t, n) {
                        return n * (Math.pow(e - 1, 3) + 1) + t
                    }(n / this.STEPS, e, t - e));
                return r
            }
            ,
            this.scrollToLine = function(e, t, n, i) {
                var r = this.$cursorLayer.getPixelPosition({
                    row: e,
                    column: 0
                })
                  , o = r.top;
                t && (o -= this.$size.scrollerHeight / 2);
                var s = this.scrollTop;
                this.session.setScrollTop(o),
                !1 !== n && this.animateScrolling(s, i)
            }
            ,
            this.animateScrolling = function(e, t) {
                var n = this.scrollTop;
                if (this.$animatedScroll) {
                    var i = this;
                    if (e != n) {
                        if (this.$scrollAnimation) {
                            var r = this.$scrollAnimation.steps;
                            if (r.length && (e = r[0]) == n)
                                return
                        }
                        var o = i.$calcSteps(e, n);
                        this.$scrollAnimation = {
                            from: e,
                            to: n,
                            steps: o
                        },
                        clearInterval(this.$timer),
                        i.session.setScrollTop(o.shift()),
                        i.session.$scrollTop = n,
                        this.$timer = setInterval(function() {
                            o.length ? (i.session.setScrollTop(o.shift()),
                            i.session.$scrollTop = n) : null != n ? (i.session.$scrollTop = -1,
                            i.session.setScrollTop(n),
                            n = null) : (i.$timer = clearInterval(i.$timer),
                            i.$scrollAnimation = null,
                            t && t())
                        }, 10)
                    }
                }
            }
            ,
            this.scrollToY = function(e) {
                this.scrollTop !== e && (this.$loop.schedule(this.CHANGE_SCROLL),
                this.scrollTop = e)
            }
            ,
            this.scrollToX = function(e) {
                this.scrollLeft !== e && (this.scrollLeft = e),
                this.$loop.schedule(this.CHANGE_H_SCROLL)
            }
            ,
            this.scrollTo = function(e, t) {
                this.session.setScrollTop(t),
                this.session.setScrollLeft(t)
            }
            ,
            this.scrollBy = function(e, t) {
                t && this.session.setScrollTop(this.session.getScrollTop() + t),
                e && this.session.setScrollLeft(this.session.getScrollLeft() + e)
            }
            ,
            this.isScrollableBy = function(e, t) {
                return t < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || (t > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom || (e < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || (e > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right || void 0)))
            }
            ,
            this.pixelToScreenCoordinates = function(e, t) {
                var n = this.scroller.getBoundingClientRect()
                  , i = e + this.scrollLeft - n.left - this.$padding
                  , r = i / this.characterWidth
                  , o = Math.floor((t + this.scrollTop - n.top) / this.lineHeight)
                  , s = Math.round(r);
                return {
                    row: o,
                    column: s,
                    side: r - s > 0 ? 1 : -1,
                    offsetX: i
                }
            }
            ,
            this.screenToTextCoordinates = function(e, t) {
                var n = this.scroller.getBoundingClientRect()
                  , i = e + this.scrollLeft - n.left - this.$padding
                  , r = Math.round(i / this.characterWidth)
                  , o = (t + this.scrollTop - n.top) / this.lineHeight;
                return this.session.screenToDocumentPosition(o, Math.max(r, 0), i)
            }
            ,
            this.textToScreenCoordinates = function(e, t) {
                var n = this.scroller.getBoundingClientRect()
                  , i = this.session.documentToScreenPosition(e, t)
                  , r = this.$padding + (this.session.$bidiHandler.isBidiRow(i.row, e) ? this.session.$bidiHandler.getPosLeft(i.column) : Math.round(i.column * this.characterWidth))
                  , o = i.row * this.lineHeight;
                return {
                    pageX: n.left + r - this.scrollLeft,
                    pageY: n.top + o - this.scrollTop
                }
            }
            ,
            this.visualizeFocus = function() {
                r.addCssClass(this.container, "ace_focus")
            }
            ,
            this.visualizeBlur = function() {
                r.removeCssClass(this.container, "ace_focus")
            }
            ,
            this.showComposition = function(e) {
                this.$composition || (this.$composition = {
                    keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
                    cssText: this.textarea.style.cssText
                }),
                this.$keepTextAreaAtCursor = !0,
                r.addCssClass(this.textarea, "ace_composition"),
                this.textarea.style.cssText = "",
                this.$moveTextAreaToCursor()
            }
            ,
            this.setCompositionText = function(e) {
                this.$moveTextAreaToCursor()
            }
            ,
            this.hideComposition = function() {
                this.$composition && (r.removeCssClass(this.textarea, "ace_composition"),
                this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor,
                this.textarea.style.cssText = this.$composition.cssText,
                this.$composition = null)
            }
            ,
            this.setTheme = function(e, t) {
                function n(n) {
                    if (i.$themeId != e)
                        return t && t();
                    if (!n || !n.cssClass)
                        throw new Error("couldn't load module " + e + " or it didn't call define");
                    r.importCssString(n.cssText, n.cssClass, i.container.ownerDocument),
                    i.theme && r.removeCssClass(i.container, i.theme.cssClass);
                    var o = "padding"in n ? n.padding : "padding"in (i.theme || {}) ? 4 : i.$padding;
                    i.$padding && o != i.$padding && i.setPadding(o),
                    i.$theme = n.cssClass,
                    i.theme = n,
                    r.addCssClass(i.container, n.cssClass),
                    r.setCssClass(i.container, "ace_dark", n.isDark),
                    i.$size && (i.$size.width = 0,
                    i.$updateSizeAsync()),
                    i._dispatchEvent("themeLoaded", {
                        theme: n
                    }),
                    t && t()
                }
                var i = this;
                if (this.$themeId = e,
                i._dispatchEvent("themeChange", {
                    theme: e
                }),
                e && "string" != typeof e)
                    n(e);
                else {
                    var s = e || this.$options.theme.initialValue;
                    o.loadModule(["theme", s], n)
                }
            }
            ,
            this.getTheme = function() {
                return this.$themeId
            }
            ,
            this.setStyle = function(e, t) {
                r.setCssClass(this.container, e, !1 !== t)
            }
            ,
            this.unsetStyle = function(e) {
                r.removeCssClass(this.container, e)
            }
            ,
            this.setCursorStyle = function(e) {
                this.scroller.style.cursor != e && (this.scroller.style.cursor = e)
            }
            ,
            this.setMouseCursor = function(e) {
                this.scroller.style.cursor = e
            }
            ,
            this.destroy = function() {
                this.$textLayer.destroy(),
                this.$cursorLayer.destroy()
            }
        }
        ).call(m.prototype),
        o.defineOptions(m.prototype, "renderer", {
            animatedScroll: {
                initialValue: !1
            },
            showInvisibles: {
                set: function(e) {
                    this.$textLayer.setShowInvisibles(e) && this.$loop.schedule(this.CHANGE_TEXT)
                },
                initialValue: !1
            },
            showPrintMargin: {
                set: function() {
                    this.$updatePrintMargin()
                },
                initialValue: !0
            },
            printMarginColumn: {
                set: function() {
                    this.$updatePrintMargin()
                },
                initialValue: 80
            },
            printMargin: {
                set: function(e) {
                    "number" == typeof e && (this.$printMarginColumn = e),
                    this.$showPrintMargin = !!e,
                    this.$updatePrintMargin()
                },
                get: function() {
                    return this.$showPrintMargin && this.$printMarginColumn
                }
            },
            showGutter: {
                set: function(e) {
                    this.$gutter.style.display = e ? "block" : "none",
                    this.$loop.schedule(this.CHANGE_FULL),
                    this.onGutterResize()
                },
                initialValue: !0
            },
            fadeFoldWidgets: {
                set: function(e) {
                    r.setCssClass(this.$gutter, "ace_fade-fold-widgets", e)
                },
                initialValue: !1
            },
            showFoldWidgets: {
                set: function(e) {
                    this.$gutterLayer.setShowFoldWidgets(e)
                },
                initialValue: !0
            },
            showLineNumbers: {
                set: function(e) {
                    this.$gutterLayer.setShowLineNumbers(e),
                    this.$loop.schedule(this.CHANGE_GUTTER)
                },
                initialValue: !0
            },
            displayIndentGuides: {
                set: function(e) {
                    this.$textLayer.setDisplayIndentGuides(e) && this.$loop.schedule(this.CHANGE_TEXT)
                },
                initialValue: !0
            },
            highlightGutterLine: {
                set: function(e) {
                    if (!this.$gutterLineHighlight)
                        return this.$gutterLineHighlight = r.createElement("div"),
                        this.$gutterLineHighlight.className = "ace_gutter-active-line",
                        void this.$gutter.appendChild(this.$gutterLineHighlight);
                    this.$gutterLineHighlight.style.display = e ? "" : "none",
                    this.$cursorLayer.$pixelPos && this.$updateGutterLineHighlight()
                },
                initialValue: !1,
                value: !0
            },
            hScrollBarAlwaysVisible: {
                set: function(e) {
                    this.$hScrollBarAlwaysVisible && this.$horizScroll || this.$loop.schedule(this.CHANGE_SCROLL)
                },
                initialValue: !1
            },
            vScrollBarAlwaysVisible: {
                set: function(e) {
                    this.$vScrollBarAlwaysVisible && this.$vScroll || this.$loop.schedule(this.CHANGE_SCROLL)
                },
                initialValue: !1
            },
            fontSize: {
                set: function(e) {
                    "number" == typeof e && (e += "px"),
                    this.container.style.fontSize = e,
                    this.updateFontSize()
                },
                initialValue: 12
            },
            fontFamily: {
                set: function(e) {
                    this.container.style.fontFamily = e,
                    this.updateFontSize()
                }
            },
            maxLines: {
                set: function(e) {
                    this.updateFull()
                }
            },
            minLines: {
                set: function(e) {
                    this.updateFull()
                }
            },
            maxPixelHeight: {
                set: function(e) {
                    this.updateFull()
                },
                initialValue: 0
            },
            scrollPastEnd: {
                set: function(e) {
                    e = +e || 0,
                    this.$scrollPastEnd != e && (this.$scrollPastEnd = e,
                    this.$loop.schedule(this.CHANGE_SCROLL))
                },
                initialValue: 0,
                handlesSet: !0
            },
            fixedWidthGutter: {
                set: function(e) {
                    this.$gutterLayer.$fixedWidth = !!e,
                    this.$loop.schedule(this.CHANGE_GUTTER)
                }
            },
            theme: {
                set: function(e) {
                    this.setTheme(e)
                },
                get: function() {
                    return this.$themeId || this.theme
                },
                initialValue: "./theme/textmate",
                handlesSet: !0
            }
        }),
        t.VirtualRenderer = m
    }),
    ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function(e, t, n) {
        "use strict";
        function i(e, t) {
            var n = t.src;
            s.qualifyURL(e);
            try {
                return new Blob([n],{
                    type: "application/javascript"
                })
            } catch (e) {
                var i = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder
                  , r = new i;
                return r.append(n),
                r.getBlob("application/javascript")
            }
        }
        function r(e, t) {
            var n = i(e, t)
              , r = window.URL || window.webkitURL
              , o = r.createObjectURL(n);
            return new Worker(o)
        }
        var o = e("../lib/oop")
          , s = e("../lib/net")
          , a = e("../lib/event_emitter").EventEmitter
          , l = e("../config")
          , c = function(t, n, i, o, s) {
            if (this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this),
            this.changeListener = this.changeListener.bind(this),
            this.onMessage = this.onMessage.bind(this),
            e.nameToUrl && !e.toUrl && (e.toUrl = e.nameToUrl),
            l.get("packaged") || !e.toUrl)
                o = o || l.moduleUrl(n.id, "worker");
            else {
                var a = this.$normalizePath;
                o = o || a(e.toUrl("ace/worker/worker.js", null, "_"));
                var c = {};
                t.forEach(function(t) {
                    c[t] = a(e.toUrl(t, null, "_").replace(/(\.js)?(\?.*)?$/, ""))
                })
            }
            this.$worker = r(o, n),
            s && this.send("importScripts", s),
            this.$worker.postMessage({
                init: !0,
                tlns: c,
                module: n.id,
                classname: i
            }),
            this.callbackId = 1,
            this.callbacks = {},
            this.$worker.onmessage = this.onMessage
        };
        (function() {
            o.implement(this, a),
            this.onMessage = function(e) {
                var t = e.data;
                switch (t.type) {
                case "event":
                    this._signal(t.name, {
                        data: t.data
                    });
                    break;
                case "call":
                    var n = this.callbacks[t.id];
                    n && (n(t.data),
                    delete this.callbacks[t.id]);
                    break;
                case "error":
                    this.reportError(t.data);
                    break;
                case "log":
                    window.console && console.log && console.log.apply(console, t.data)
                }
            }
            ,
            this.reportError = function(e) {
                window.console && console.error && console.error(e)
            }
            ,
            this.$normalizePath = function(e) {
                return s.qualifyURL(e)
            }
            ,
            this.terminate = function() {
                this._signal("terminate", {}),
                this.deltaQueue = null,
                this.$worker.terminate(),
                this.$worker = null,
                this.$doc && this.$doc.off("change", this.changeListener),
                this.$doc = null
            }
            ,
            this.send = function(e, t) {
                this.$worker.postMessage({
                    command: e,
                    args: t
                })
            }
            ,
            this.call = function(e, t, n) {
                if (n) {
                    var i = this.callbackId++;
                    this.callbacks[i] = n,
                    t.push(i)
                }
                this.send(e, t)
            }
            ,
            this.emit = function(e, t) {
                try {
                    this.$worker.postMessage({
                        event: e,
                        data: {
                            data: t.data
                        }
                    })
                } catch (e) {
                    console.error(e.stack)
                }
            }
            ,
            this.attachToDocument = function(e) {
                this.$doc && this.terminate(),
                this.$doc = e,
                this.call("setValue", [e.getValue()]),
                e.on("change", this.changeListener)
            }
            ,
            this.changeListener = function(e) {
                this.deltaQueue || (this.deltaQueue = [],
                setTimeout(this.$sendDeltaQueue, 0)),
                "insert" == e.action ? this.deltaQueue.push(e.start, e.lines) : this.deltaQueue.push(e.start, e.end)
            }
            ,
            this.$sendDeltaQueue = function() {
                var e = this.deltaQueue;
                e && (this.deltaQueue = null,
                e.length > 50 && e.length > this.$doc.getLength() >> 1 ? this.call("setValue", [this.$doc.getValue()]) : this.emit("change", {
                    data: e
                }))
            }
        }
        ).call(c.prototype);
        var u = function(e, t, n) {
            this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this),
            this.changeListener = this.changeListener.bind(this),
            this.callbackId = 1,
            this.callbacks = {},
            this.messageBuffer = [];
            var i = null
              , r = !1
              , o = Object.create(a)
              , s = this;
            this.$worker = {},
            this.$worker.terminate = function() {}
            ,
            this.$worker.postMessage = function(e) {
                s.messageBuffer.push(e),
                i && (r ? setTimeout(c) : c())
            }
            ,
            this.setEmitSync = function(e) {
                r = e
            }
            ;
            var c = function() {
                var e = s.messageBuffer.shift();
                e.command ? i[e.command].apply(i, e.args) : e.event && o._signal(e.event, e.data)
            };
            o.postMessage = function(e) {
                s.onMessage({
                    data: e
                })
            }
            ,
            o.callback = function(e, t) {
                this.postMessage({
                    type: "call",
                    id: t,
                    data: e
                })
            }
            ,
            o.emit = function(e, t) {
                this.postMessage({
                    type: "event",
                    name: e,
                    data: t
                })
            }
            ,
            l.loadModule(["worker", t], function(e) {
                for (i = new e[n](o); s.messageBuffer.length; )
                    c()
            })
        };
        u.prototype = c.prototype,
        t.UIWorkerClient = u,
        t.WorkerClient = c,
        t.createWorker = r
    }),
    ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(e, t, n) {
        "use strict";
        var i = e("./range").Range
          , r = e("./lib/event_emitter").EventEmitter
          , o = e("./lib/oop")
          , s = function(e, t, n, i, r, o) {
            var s = this;
            this.length = t,
            this.session = e,
            this.doc = e.getDocument(),
            this.mainClass = r,
            this.othersClass = o,
            this.$onUpdate = this.onUpdate.bind(this),
            this.doc.on("change", this.$onUpdate),
            this.$others = i,
            this.$onCursorChange = function() {
                setTimeout(function() {
                    s.onCursorChange()
                })
            }
            ,
            this.$pos = n;
            var a = e.getUndoManager().$undoStack || e.getUndoManager().$undostack || {
                length: -1
            };
            this.$undoStackDepth = a.length,
            this.setup(),
            e.selection.on("changeCursor", this.$onCursorChange)
        };
        (function() {
            o.implement(this, r),
            this.setup = function() {
                var e = this
                  , t = this.doc
                  , n = this.session;
                this.selectionBefore = n.selection.toJSON(),
                n.selection.inMultiSelectMode && n.selection.toSingleRange(),
                this.pos = t.createAnchor(this.$pos.row, this.$pos.column);
                var r = this.pos;
                r.$insertRight = !0,
                r.detach(),
                r.markerId = n.addMarker(new i(r.row,r.column,r.row,r.column + this.length), this.mainClass, null, !1),
                this.others = [],
                this.$others.forEach(function(n) {
                    var i = t.createAnchor(n.row, n.column);
                    i.$insertRight = !0,
                    i.detach(),
                    e.others.push(i)
                }),
                n.setUndoSelect(!1)
            }
            ,
            this.showOtherMarkers = function() {
                if (!this.othersActive) {
                    var e = this.session
                      , t = this;
                    this.othersActive = !0,
                    this.others.forEach(function(n) {
                        n.markerId = e.addMarker(new i(n.row,n.column,n.row,n.column + t.length), t.othersClass, null, !1)
                    })
                }
            }
            ,
            this.hideOtherMarkers = function() {
                if (this.othersActive) {
                    this.othersActive = !1;
                    for (var e = 0; e < this.others.length; e++)
                        this.session.removeMarker(this.others[e].markerId)
                }
            }
            ,
            this.onUpdate = function(e) {
                if (this.$updating)
                    return this.updateAnchors(e);
                var t = e;
                if (t.start.row === t.end.row && t.start.row === this.pos.row) {
                    this.$updating = !0;
                    var n = "insert" === e.action ? t.end.column - t.start.column : t.start.column - t.end.column
                      , r = t.start.column >= this.pos.column && t.start.column <= this.pos.column + this.length + 1
                      , o = t.start.column - this.pos.column;
                    if (this.updateAnchors(e),
                    r && (this.length += n),
                    r && !this.session.$fromUndo)
                        if ("insert" === e.action)
                            for (var s = this.others.length - 1; s >= 0; s--) {
                                var a = this.others[s]
                                  , l = {
                                    row: a.row,
                                    column: a.column + o
                                };
                                this.doc.insertMergedLines(l, e.lines)
                            }
                        else if ("remove" === e.action)
                            for (var s = this.others.length - 1; s >= 0; s--) {
                                var a = this.others[s]
                                  , l = {
                                    row: a.row,
                                    column: a.column + o
                                };
                                this.doc.remove(new i(l.row,l.column,l.row,l.column - n))
                            }
                    this.$updating = !1,
                    this.updateMarkers()
                }
            }
            ,
            this.updateAnchors = function(e) {
                this.pos.onChange(e);
                for (var t = this.others.length; t--; )
                    this.others[t].onChange(e);
                this.updateMarkers()
            }
            ,
            this.updateMarkers = function() {
                if (!this.$updating) {
                    var e = this
                      , t = this.session
                      , n = function(n, r) {
                        t.removeMarker(n.markerId),
                        n.markerId = t.addMarker(new i(n.row,n.column,n.row,n.column + e.length), r, null, !1)
                    };
                    n(this.pos, this.mainClass);
                    for (var r = this.others.length; r--; )
                        n(this.others[r], this.othersClass)
                }
            }
            ,
            this.onCursorChange = function(e) {
                if (!this.$updating && this.session) {
                    var t = this.session.selection.getCursor();
                    t.row === this.pos.row && t.column >= this.pos.column && t.column <= this.pos.column + this.length ? (this.showOtherMarkers(),
                    this._emit("cursorEnter", e)) : (this.hideOtherMarkers(),
                    this._emit("cursorLeave", e))
                }
            }
            ,
            this.detach = function() {
                this.session.removeMarker(this.pos && this.pos.markerId),
                this.hideOtherMarkers(),
                this.doc.removeEventListener("change", this.$onUpdate),
                this.session.selection.removeEventListener("changeCursor", this.$onCursorChange),
                this.session.setUndoSelect(!0),
                this.session = null
            }
            ,
            this.cancel = function() {
                if (-1 !== this.$undoStackDepth) {
                    for (var e = this.session.getUndoManager(), t = (e.$undoStack || e.$undostack).length - this.$undoStackDepth, n = 0; n < t; n++)
                        e.undo(!0);
                    this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore)
                }
            }
        }
        ).call(s.prototype),
        t.PlaceHolder = s
    }),
    ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
        function i(e, t) {
            return e.row == t.row && e.column == t.column
        }
        function r(e) {
            var t = e.domEvent
              , n = t.altKey
              , r = t.shiftKey
              , a = t.ctrlKey
              , l = e.getAccelKey()
              , c = e.getButton();
            if (a && s.isMac && (c = t.button),
            e.editor.inMultiSelectMode && 2 == c)
                return void e.editor.textInput.onContextMenu(e.domEvent);
            if (!a && !n && !l)
                return void (0 === c && e.editor.inMultiSelectMode && e.editor.exitMultiSelectMode());
            if (0 === c) {
                var u, h = e.editor, d = h.selection, f = h.inMultiSelectMode, g = e.getDocumentPosition(), p = d.getCursor(), m = e.inSelection() || d.isEmpty() && i(g, p), v = e.x, A = e.y, w = function(e) {
                    v = e.clientX,
                    A = e.clientY
                }, C = h.session, y = h.renderer.pixelToScreenCoordinates(v, A), b = y;
                if (h.$mouseHandler.$enableJumpToDef)
                    a && n || l && n ? u = r ? "block" : "add" : n && h.$blockSelectEnabled && (u = "block");
                else if (l && !n) {
                    if (u = "add",
                    !f && r)
                        return
                } else
                    n && h.$blockSelectEnabled && (u = "block");
                if (u && s.isMac && t.ctrlKey && h.$mouseHandler.cancelContextMenu(),
                "add" == u) {
                    if (!f && m)
                        return;
                    if (!f) {
                        var F = d.toOrientedRange();
                        h.addSelectionMarker(F)
                    }
                    var E = d.rangeList.rangeAtPoint(g);
                    h.$blockScrolling++,
                    h.inVirtualSelectionMode = !0,
                    r && (E = null,
                    F = d.ranges[0] || F,
                    h.removeSelectionMarker(F)),
                    h.once("mouseup", function() {
                        var e = d.toOrientedRange();
                        E && e.isEmpty() && i(E.cursor, e.cursor) ? d.substractPoint(e.cursor) : (r ? d.substractPoint(F.cursor) : F && (h.removeSelectionMarker(F),
                        d.addRange(F)),
                        d.addRange(e)),
                        h.$blockScrolling--,
                        h.inVirtualSelectionMode = !1
                    })
                } else if ("block" == u) {
                    e.stop(),
                    h.inVirtualSelectionMode = !0;
                    var x, S = [], k = function() {
                        var e = h.renderer.pixelToScreenCoordinates(v, A)
                          , t = C.screenToDocumentPosition(e.row, e.column, e.offsetX);
                        i(b, e) && i(t, d.lead) || (b = e,
                        h.$blockScrolling++,
                        h.selection.moveToPosition(t),
                        h.renderer.scrollCursorIntoView(),
                        h.removeSelectionMarkers(S),
                        S = d.rectangularRangeBlock(b, y),
                        h.$mouseHandler.$clickSelection && 1 == S.length && S[0].isEmpty() && (S[0] = h.$mouseHandler.$clickSelection.clone()),
                        S.forEach(h.addSelectionMarker, h),
                        h.updateSelectionMarkers(),
                        h.$blockScrolling--)
                    };
                    h.$blockScrolling++,
                    f && !l ? d.toSingleRange() : !f && l && (x = d.toOrientedRange(),
                    h.addSelectionMarker(x)),
                    r ? y = C.documentToScreenPosition(d.lead) : d.moveToPosition(g),
                    h.$blockScrolling--,
                    b = {
                        row: -1,
                        column: -1
                    };
                    var $ = function(e) {
                        clearInterval(D),
                        h.removeSelectionMarkers(S),
                        S.length || (S = [d.toOrientedRange()]),
                        h.$blockScrolling++,
                        x && (h.removeSelectionMarker(x),
                        d.toSingleRange(x));
                        for (var t = 0; t < S.length; t++)
                            d.addRange(S[t]);
                        h.inVirtualSelectionMode = !1,
                        h.$mouseHandler.$clickSelection = null,
                        h.$blockScrolling--
                    }
                      , B = k;
                    o.capture(h.container, w, $);
                    var D = setInterval(function() {
                        B()
                    }, 20);
                    return e.preventDefault()
                }
            }
        }
        var o = e("../lib/event")
          , s = e("../lib/useragent");
        t.onMouseDown = r
    }),
    ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(e, t, n) {
        t.defaultCommands = [{
            name: "addCursorAbove",
            exec: function(e) {
                e.selectMoreLines(-1)
            },
            bindKey: {
                win: "Ctrl-Alt-Up",
                mac: "Ctrl-Alt-Up"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "addCursorBelow",
            exec: function(e) {
                e.selectMoreLines(1)
            },
            bindKey: {
                win: "Ctrl-Alt-Down",
                mac: "Ctrl-Alt-Down"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "addCursorAboveSkipCurrent",
            exec: function(e) {
                e.selectMoreLines(-1, !0)
            },
            bindKey: {
                win: "Ctrl-Alt-Shift-Up",
                mac: "Ctrl-Alt-Shift-Up"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "addCursorBelowSkipCurrent",
            exec: function(e) {
                e.selectMoreLines(1, !0)
            },
            bindKey: {
                win: "Ctrl-Alt-Shift-Down",
                mac: "Ctrl-Alt-Shift-Down"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectMoreBefore",
            exec: function(e) {
                e.selectMore(-1)
            },
            bindKey: {
                win: "Ctrl-Alt-Left",
                mac: "Ctrl-Alt-Left"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectMoreAfter",
            exec: function(e) {
                e.selectMore(1)
            },
            bindKey: {
                win: "Ctrl-Alt-Right",
                mac: "Ctrl-Alt-Right"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectNextBefore",
            exec: function(e) {
                e.selectMore(-1, !0)
            },
            bindKey: {
                win: "Ctrl-Alt-Shift-Left",
                mac: "Ctrl-Alt-Shift-Left"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "selectNextAfter",
            exec: function(e) {
                e.selectMore(1, !0)
            },
            bindKey: {
                win: "Ctrl-Alt-Shift-Right",
                mac: "Ctrl-Alt-Shift-Right"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }, {
            name: "splitIntoLines",
            exec: function(e) {
                e.multiSelect.splitIntoLines()
            },
            bindKey: {
                win: "Ctrl-Alt-L",
                mac: "Ctrl-Alt-L"
            },
            readOnly: !0
        }, {
            name: "alignCursors",
            exec: function(e) {
                e.alignCursors()
            },
            bindKey: {
                win: "Ctrl-Alt-A",
                mac: "Ctrl-Alt-A"
            },
            scrollIntoView: "cursor"
        }, {
            name: "findAll",
            exec: function(e) {
                e.findAll()
            },
            bindKey: {
                win: "Ctrl-Alt-K",
                mac: "Ctrl-Alt-G"
            },
            scrollIntoView: "cursor",
            readOnly: !0
        }],
        t.multiSelectCommands = [{
            name: "singleSelection",
            bindKey: "esc",
            exec: function(e) {
                e.exitMultiSelectMode()
            },
            scrollIntoView: "cursor",
            readOnly: !0,
            isAvailable: function(e) {
                return e && e.inMultiSelectMode
            }
        }];
        var i = e("../keyboard/hash_handler").HashHandler;
        t.keyboardHandler = new i(t.multiSelectCommands)
    }),
    ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(e, t, n) {
        function i(e, t, n) {
            return p.$options.wrap = !0,
            p.$options.needle = t,
            p.$options.backwards = -1 == n,
            p.find(e)
        }
        function r(e, t) {
            return e.row == t.row && e.column == t.column
        }
        function o(e) {
            e.$multiselectOnSessionChange || (e.$onAddRange = e.$onAddRange.bind(e),
            e.$onRemoveRange = e.$onRemoveRange.bind(e),
            e.$onMultiSelect = e.$onMultiSelect.bind(e),
            e.$onSingleSelect = e.$onSingleSelect.bind(e),
            e.$multiselectOnSessionChange = t.onSessionChange.bind(e),
            e.$checkMultiselectChange = e.$checkMultiselectChange.bind(e),
            e.$multiselectOnSessionChange(e),
            e.on("changeSession", e.$multiselectOnSessionChange),
            e.on("mousedown", u),
            e.commands.addCommands(f.defaultCommands),
            s(e))
        }
        function s(e) {
            function t(t) {
                i && (e.renderer.setMouseCursor(""),
                i = !1)
            }
            var n = e.textInput.getElement()
              , i = !1;
            h.addListener(n, "keydown", function(n) {
                var r = 18 == n.keyCode && !(n.ctrlKey || n.shiftKey || n.metaKey);
                e.$blockSelectEnabled && r ? i || (e.renderer.setMouseCursor("crosshair"),
                i = !0) : i && t()
            }),
            h.addListener(n, "keyup", t),
            h.addListener(n, "blur", t)
        }
        var a = e("./range_list").RangeList
          , l = e("./range").Range
          , c = e("./selection").Selection
          , u = e("./mouse/multi_select_handler").onMouseDown
          , h = e("./lib/event")
          , d = e("./lib/lang")
          , f = e("./commands/multi_select_commands");
        t.commands = f.defaultCommands.concat(f.multiSelectCommands);
        var g = e("./search").Search
          , p = new g
          , m = e("./edit_session").EditSession;
        (function() {
            this.getSelectionMarkers = function() {
                return this.$selectionMarkers
            }
        }
        ).call(m.prototype),
        function() {
            this.ranges = null,
            this.rangeList = null,
            this.addRange = function(e, t) {
                if (e) {
                    if (!this.inMultiSelectMode && 0 === this.rangeCount) {
                        var n = this.toOrientedRange();
                        if (this.rangeList.add(n),
                        this.rangeList.add(e),
                        2 != this.rangeList.ranges.length)
                            return this.rangeList.removeAll(),
                            t || this.fromOrientedRange(e);
                        this.rangeList.removeAll(),
                        this.rangeList.add(n),
                        this.$onAddRange(n)
                    }
                    e.cursor || (e.cursor = e.end);
                    var i = this.rangeList.add(e);
                    return this.$onAddRange(e),
                    i.length && this.$onRemoveRange(i),
                    this.rangeCount > 1 && !this.inMultiSelectMode && (this._signal("multiSelect"),
                    this.inMultiSelectMode = !0,
                    this.session.$undoSelect = !1,
                    this.rangeList.attach(this.session)),
                    t || this.fromOrientedRange(e)
                }
            }
            ,
            this.toSingleRange = function(e) {
                e = e || this.ranges[0];
                var t = this.rangeList.removeAll();
                t.length && this.$onRemoveRange(t),
                e && this.fromOrientedRange(e)
            }
            ,
            this.substractPoint = function(e) {
                var t = this.rangeList.substractPoint(e);
                if (t)
                    return this.$onRemoveRange(t),
                    t[0]
            }
            ,
            this.mergeOverlappingRanges = function() {
                var e = this.rangeList.merge();
                e.length ? this.$onRemoveRange(e) : this.ranges[0] && this.fromOrientedRange(this.ranges[0])
            }
            ,
            this.$onAddRange = function(e) {
                this.rangeCount = this.rangeList.ranges.length,
                this.ranges.unshift(e),
                this._signal("addRange", {
                    range: e
                })
            }
            ,
            this.$onRemoveRange = function(e) {
                if (this.rangeCount = this.rangeList.ranges.length,
                1 == this.rangeCount && this.inMultiSelectMode) {
                    var t = this.rangeList.ranges.pop();
                    e.push(t),
                    this.rangeCount = 0
                }
                for (var n = e.length; n--; ) {
                    var i = this.ranges.indexOf(e[n]);
                    this.ranges.splice(i, 1)
                }
                this._signal("removeRange", {
                    ranges: e
                }),
                0 === this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1,
                this._signal("singleSelect"),
                this.session.$undoSelect = !0,
                this.rangeList.detach(this.session)),
                (t = t || this.ranges[0]) && !t.isEqual(this.getRange()) && this.fromOrientedRange(t)
            }
            ,
            this.$initRangeList = function() {
                this.rangeList || (this.rangeList = new a,
                this.ranges = [],
                this.rangeCount = 0)
            }
            ,
            this.getAllRanges = function() {
                return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()]
            }
            ,
            this.splitIntoLines = function() {
                if (this.rangeCount > 1) {
                    var e = this.rangeList.ranges
                      , t = e[e.length - 1]
                      , n = l.fromPoints(e[0].start, t.end);
                    this.toSingleRange(),
                    this.setSelectionRange(n, t.cursor == t.start)
                } else {
                    var n = this.getRange()
                      , i = this.isBackwards()
                      , r = n.start.row
                      , o = n.end.row;
                    if (r == o) {
                        if (i)
                            var s = n.end
                              , a = n.start;
                        else
                            var s = n.start
                              , a = n.end;
                        return this.addRange(l.fromPoints(a, a)),
                        void this.addRange(l.fromPoints(s, s))
                    }
                    var c = []
                      , u = this.getLineRange(r, !0);
                    u.start.column = n.start.column,
                    c.push(u);
                    for (var h = r + 1; h < o; h++)
                        c.push(this.getLineRange(h, !0));
                    u = this.getLineRange(o, !0),
                    u.end.column = n.end.column,
                    c.push(u),
                    c.forEach(this.addRange, this)
                }
            }
            ,
            this.toggleBlockSelection = function() {
                if (this.rangeCount > 1) {
                    var e = this.rangeList.ranges
                      , t = e[e.length - 1]
                      , n = l.fromPoints(e[0].start, t.end);
                    this.toSingleRange(),
                    this.setSelectionRange(n, t.cursor == t.start)
                } else {
                    var i = this.session.documentToScreenPosition(this.selectionLead)
                      , r = this.session.documentToScreenPosition(this.selectionAnchor);
                    this.rectangularRangeBlock(i, r).forEach(this.addRange, this)
                }
            }
            ,
            this.rectangularRangeBlock = function(e, t, n) {
                var i = []
                  , o = e.column < t.column;
                if (o)
                    var s = e.column
                      , a = t.column
                      , c = e.offsetX
                      , u = t.offsetX;
                else
                    var s = t.column
                      , a = e.column
                      , c = t.offsetX
                      , u = e.offsetX;
                var h = e.row < t.row;
                if (h)
                    var d = e.row
                      , f = t.row;
                else
                    var d = t.row
                      , f = e.row;
                s < 0 && (s = 0),
                d < 0 && (d = 0),
                d == f && (n = !0);
                for (var g = d; g <= f; g++) {
                    var p = l.fromPoints(this.session.screenToDocumentPosition(g, s, c), this.session.screenToDocumentPosition(g, a, u));
                    if (p.isEmpty()) {
                        if (m && r(p.end, m))
                            break;
                        var m = p.end
                    }
                    p.cursor = o ? p.start : p.end,
                    i.push(p)
                }
                if (h && i.reverse(),
                !n) {
                    for (var v = i.length - 1; i[v].isEmpty() && v > 0; )
                        v--;
                    if (v > 0)
                        for (var A = 0; i[A].isEmpty(); )
                            A++;
                    for (var w = v; w >= A; w--)
                        i[w].isEmpty() && i.splice(w, 1)
                }
                return i
            }
        }
        .call(c.prototype);
        var v = e("./editor").Editor;
        (function() {
            this.updateSelectionMarkers = function() {
                this.renderer.updateCursor(),
                this.renderer.updateBackMarkers()
            }
            ,
            this.addSelectionMarker = function(e) {
                e.cursor || (e.cursor = e.end);
                var t = this.getSelectionStyle();
                return e.marker = this.session.addMarker(e, "ace_selection", t),
                this.session.$selectionMarkers.push(e),
                this.session.selectionMarkerCount = this.session.$selectionMarkers.length,
                e
            }
            ,
            this.removeSelectionMarker = function(e) {
                if (e.marker) {
                    this.session.removeMarker(e.marker);
                    var t = this.session.$selectionMarkers.indexOf(e);
                    -1 != t && this.session.$selectionMarkers.splice(t, 1),
                    this.session.selectionMarkerCount = this.session.$selectionMarkers.length
                }
            }
            ,
            this.removeSelectionMarkers = function(e) {
                for (var t = this.session.$selectionMarkers, n = e.length; n--; ) {
                    var i = e[n];
                    if (i.marker) {
                        this.session.removeMarker(i.marker);
                        var r = t.indexOf(i);
                        -1 != r && t.splice(r, 1)
                    }
                }
                this.session.selectionMarkerCount = t.length
            }
            ,
            this.$onAddRange = function(e) {
                this.addSelectionMarker(e.range),
                this.renderer.updateCursor(),
                this.renderer.updateBackMarkers()
            }
            ,
            this.$onRemoveRange = function(e) {
                this.removeSelectionMarkers(e.ranges),
                this.renderer.updateCursor(),
                this.renderer.updateBackMarkers()
            }
            ,
            this.$onMultiSelect = function(e) {
                this.inMultiSelectMode || (this.inMultiSelectMode = !0,
                this.setStyle("ace_multiselect"),
                this.keyBinding.addKeyboardHandler(f.keyboardHandler),
                this.commands.setDefaultHandler("exec", this.$onMultiSelectExec),
                this.renderer.updateCursor(),
                this.renderer.updateBackMarkers())
            }
            ,
            this.$onSingleSelect = function(e) {
                this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1,
                this.unsetStyle("ace_multiselect"),
                this.keyBinding.removeKeyboardHandler(f.keyboardHandler),
                this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec),
                this.renderer.updateCursor(),
                this.renderer.updateBackMarkers(),
                this._emit("changeSelection"))
            }
            ,
            this.$onMultiSelectExec = function(e) {
                var t = e.command
                  , n = e.editor;
                if (n.multiSelect) {
                    if (t.multiSelectAction)
                        "forEach" == t.multiSelectAction ? i = n.forEachSelection(t, e.args) : "forEachLine" == t.multiSelectAction ? i = n.forEachSelection(t, e.args, !0) : "single" == t.multiSelectAction ? (n.exitMultiSelectMode(),
                        i = t.exec(n, e.args || {})) : i = t.multiSelectAction(n, e.args || {});
                    else {
                        var i = t.exec(n, e.args || {});
                        n.multiSelect.addRange(n.multiSelect.toOrientedRange()),
                        n.multiSelect.mergeOverlappingRanges()
                    }
                    return i
                }
            }
            ,
            this.forEachSelection = function(e, t, n) {
                if (!this.inVirtualSelectionMode) {
                    var i, r = n && n.keepOrder, o = 1 == n || n && n.$byLines, s = this.session, a = this.selection, l = a.rangeList, u = (r ? a : l).ranges;
                    if (!u.length)
                        return e.exec ? e.exec(this, t || {}) : e(this, t || {});
                    var h = a._eventRegistry;
                    a._eventRegistry = {};
                    var d = new c(s);
                    this.inVirtualSelectionMode = !0;
                    for (var f = u.length; f--; ) {
                        if (o)
                            for (; f > 0 && u[f].start.row == u[f - 1].end.row; )
                                f--;
                        d.fromOrientedRange(u[f]),
                        d.index = f,
                        this.selection = s.selection = d;
                        var g = e.exec ? e.exec(this, t || {}) : e(this, t || {});
                        i || void 0 === g || (i = g),
                        d.toOrientedRange(u[f])
                    }
                    d.detach(),
                    this.selection = s.selection = a,
                    this.inVirtualSelectionMode = !1,
                    a._eventRegistry = h,
                    a.mergeOverlappingRanges();
                    var p = this.renderer.$scrollAnimation;
                    return this.onCursorChange(),
                    this.onSelectionChange(),
                    p && p.from == p.to && this.renderer.animateScrolling(p.from),
                    i
                }
            }
            ,
            this.exitMultiSelectMode = function() {
                this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange()
            }
            ,
            this.getSelectedText = function() {
                var e = "";
                if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                    for (var t = this.multiSelect.rangeList.ranges, n = [], i = 0; i < t.length; i++)
                        n.push(this.session.getTextRange(t[i]));
                    var r = this.session.getDocument().getNewLineCharacter();
                    e = n.join(r),
                    e.length == (n.length - 1) * r.length && (e = "")
                } else
                    this.selection.isEmpty() || (e = this.session.getTextRange(this.getSelectionRange()));
                return e
            }
            ,
            this.$checkMultiselectChange = function(e, t) {
                if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                    var n = this.multiSelect.ranges[0];
                    if (this.multiSelect.isEmpty() && t == this.multiSelect.anchor)
                        return;
                    var i = t == this.multiSelect.anchor ? n.cursor == n.start ? n.end : n.start : n.cursor;
                    i.row == t.row && this.session.$clipPositionToDocument(i.row, i.column).column == t.column || this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())
                }
            }
            ,
            this.findAll = function(e, t, n) {
                if (t = t || {},
                t.needle = e || t.needle,
                void 0 == t.needle) {
                    var i = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
                    t.needle = this.session.getTextRange(i)
                }
                this.$search.set(t);
                var r = this.$search.findAll(this.session);
                if (!r.length)
                    return 0;
                this.$blockScrolling += 1;
                var o = this.multiSelect;
                n || o.toSingleRange(r[0]);
                for (var s = r.length; s--; )
                    o.addRange(r[s], !0);
                return i && o.rangeList.rangeAtPoint(i.start) && o.addRange(i, !0),
                this.$blockScrolling -= 1,
                r.length
            }
            ,
            this.selectMoreLines = function(e, t) {
                var n = this.selection.toOrientedRange()
                  , i = n.cursor == n.end
                  , r = this.session.documentToScreenPosition(n.cursor);
                this.selection.$desiredColumn && (r.column = this.selection.$desiredColumn);
                var o = this.session.screenToDocumentPosition(r.row + e, r.column);
                if (n.isEmpty())
                    var s = o;
                else
                    var a = this.session.documentToScreenPosition(i ? n.end : n.start)
                      , s = this.session.screenToDocumentPosition(a.row + e, a.column);
                if (i) {
                    var c = l.fromPoints(o, s);
                    c.cursor = c.start
                } else {
                    var c = l.fromPoints(s, o);
                    c.cursor = c.end
                }
                if (c.desiredColumn = r.column,
                this.selection.inMultiSelectMode) {
                    if (t)
                        var u = n.cursor
                } else
                    this.selection.addRange(n);
                this.selection.addRange(c),
                u && this.selection.substractPoint(u)
            }
            ,
            this.transposeSelections = function(e) {
                for (var t = this.session, n = t.multiSelect, i = n.ranges, r = i.length; r--; ) {
                    var o = i[r];
                    if (o.isEmpty()) {
                        var s = t.getWordRange(o.start.row, o.start.column);
                        o.start.row = s.start.row,
                        o.start.column = s.start.column,
                        o.end.row = s.end.row,
                        o.end.column = s.end.column
                    }
                }
                n.mergeOverlappingRanges();
                for (var a = [], r = i.length; r--; ) {
                    var o = i[r];
                    a.unshift(t.getTextRange(o))
                }
                e < 0 ? a.unshift(a.pop()) : a.push(a.shift());
                for (var r = i.length; r--; ) {
                    var o = i[r]
                      , s = o.clone();
                    t.replace(o, a[r]),
                    o.start.row = s.start.row,
                    o.start.column = s.start.column
                }
            }
            ,
            this.selectMore = function(e, t, n) {
                var r = this.session
                  , o = r.multiSelect
                  , s = o.toOrientedRange();
                if (!s.isEmpty() || (s = r.getWordRange(s.start.row, s.start.column),
                s.cursor = -1 == e ? s.start : s.end,
                this.multiSelect.addRange(s),
                !n)) {
                    var a = r.getTextRange(s)
                      , l = i(r, a, e);
                    l && (l.cursor = -1 == e ? l.start : l.end,
                    this.$blockScrolling += 1,
                    this.session.unfold(l),
                    this.multiSelect.addRange(l),
                    this.$blockScrolling -= 1,
                    this.renderer.scrollCursorIntoView(null, .5)),
                    t && this.multiSelect.substractPoint(s.cursor)
                }
            }
            ,
            this.alignCursors = function() {
                var e = this.session
                  , t = e.multiSelect
                  , n = t.ranges
                  , i = -1
                  , r = n.filter(function(e) {
                    if (e.cursor.row == i)
                        return !0;
                    i = e.cursor.row
                });
                if (n.length && r.length != n.length - 1) {
                    r.forEach(function(e) {
                        t.substractPoint(e.cursor)
                    });
                    var o = 0
                      , s = 1 / 0
                      , a = n.map(function(t) {
                        var n = t.cursor
                          , i = e.getLine(n.row)
                          , r = i.substr(n.column).search(/\S/g);
                        return -1 == r && (r = 0),
                        n.column > o && (o = n.column),
                        r < s && (s = r),
                        r
                    });
                    n.forEach(function(t, n) {
                        var i = t.cursor
                          , r = o - i.column
                          , c = a[n] - s;
                        r > c ? e.insert(i, d.stringRepeat(" ", r - c)) : e.remove(new l(i.row,i.column,i.row,i.column - r + c)),
                        t.start.column = t.end.column = o,
                        t.start.row = t.end.row = i.row,
                        t.cursor = t.end
                    }),
                    t.fromOrientedRange(n[0]),
                    this.renderer.updateCursor(),
                    this.renderer.updateBackMarkers()
                } else {
                    var c = this.selection.getRange()
                      , u = c.start.row
                      , h = c.end.row
                      , f = u == h;
                    if (f) {
                        var g, p = this.session.getLength();
                        do {
                            g = this.session.getLine(h)
                        } while (/[=:]/.test(g) && ++h < p);
                        do {
                            g = this.session.getLine(u)
                        } while (/[=:]/.test(g) && --u > 0);
                        u < 0 && (u = 0),
                        h >= p && (h = p - 1)
                    }
                    var m = this.session.removeFullLines(u, h);
                    m = this.$reAlignText(m, f),
                    this.session.insert({
                        row: u,
                        column: 0
                    }, m.join("\n") + "\n"),
                    f || (c.start.column = 0,
                    c.end.column = m[m.length - 1].length),
                    this.selection.setRange(c)
                }
            }
            ,
            this.$reAlignText = function(e, t) {
                function n(e) {
                    return d.stringRepeat(" ", e)
                }
                function i(e) {
                    return e[2] ? n(s) + e[2] + n(a - e[2].length + l) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                }
                function r(e) {
                    return e[2] ? n(s + a - e[2].length) + e[2] + n(l, " ") + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                }
                function o(e) {
                    return e[2] ? n(s) + e[2] + n(l) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                }
                var s, a, l, c = !0, u = !0;
                return e.map(function(e) {
                    var t = e.match(/(\s*)(.*?)(\s*)([=:].*)/);
                    return t ? null == s ? (s = t[1].length,
                    a = t[2].length,
                    l = t[3].length,
                    t) : (s + a + l != t[1].length + t[2].length + t[3].length && (u = !1),
                    s != t[1].length && (c = !1),
                    s > t[1].length && (s = t[1].length),
                    a < t[2].length && (a = t[2].length),
                    l > t[3].length && (l = t[3].length),
                    t) : [e]
                }).map(t ? i : c ? u ? r : i : o)
            }
        }
        ).call(v.prototype),
        t.onSessionChange = function(e) {
            var t = e.session;
            t && !t.multiSelect && (t.$selectionMarkers = [],
            t.selection.$initRangeList(),
            t.multiSelect = t.selection),
            this.multiSelect = t && t.multiSelect;
            var n = e.oldSession;
            n && (n.multiSelect.off("addRange", this.$onAddRange),
            n.multiSelect.off("removeRange", this.$onRemoveRange),
            n.multiSelect.off("multiSelect", this.$onMultiSelect),
            n.multiSelect.off("singleSelect", this.$onSingleSelect),
            n.multiSelect.lead.off("change", this.$checkMultiselectChange),
            n.multiSelect.anchor.off("change", this.$checkMultiselectChange)),
            t && (t.multiSelect.on("addRange", this.$onAddRange),
            t.multiSelect.on("removeRange", this.$onRemoveRange),
            t.multiSelect.on("multiSelect", this.$onMultiSelect),
            t.multiSelect.on("singleSelect", this.$onSingleSelect),
            t.multiSelect.lead.on("change", this.$checkMultiselectChange),
            t.multiSelect.anchor.on("change", this.$checkMultiselectChange)),
            t && this.inMultiSelectMode != t.selection.inMultiSelectMode && (t.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect())
        }
        ,
        t.MultiSelect = o,
        e("./config").defineOptions(v.prototype, "editor", {
            enableMultiselect: {
                set: function(e) {
                    o(this),
                    e ? (this.on("changeSession", this.$multiselectOnSessionChange),
                    this.on("mousedown", u)) : (this.off("changeSession", this.$multiselectOnSessionChange),
                    this.off("mousedown", u))
                },
                value: !0
            },
            enableBlockSelect: {
                set: function(e) {
                    this.$blockSelectEnabled = e
                },
                value: !0
            }
        })
    }),
    ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(e, t, n) {
        "use strict";
        var i = e("../../range").Range
          , r = t.FoldMode = function() {}
        ;
        (function() {
            this.foldingStartMarker = null,
            this.foldingStopMarker = null,
            this.getFoldWidget = function(e, t, n) {
                var i = e.getLine(n);
                return this.foldingStartMarker.test(i) ? "start" : "markbeginend" == t && this.foldingStopMarker && this.foldingStopMarker.test(i) ? "end" : ""
            }
            ,
            this.getFoldWidgetRange = function(e, t, n) {
                return null
            }
            ,
            this.indentationBlock = function(e, t, n) {
                var r = /\S/
                  , o = e.getLine(t)
                  , s = o.search(r);
                if (-1 != s) {
                    for (var a = n || o.length, l = e.getLength(), c = t, u = t; ++t < l; ) {
                        var h = e.getLine(t).search(r);
                        if (-1 != h) {
                            if (h <= s)
                                break;
                            u = t
                        }
                    }
                    if (u > c) {
                        var d = e.getLine(u).length;
                        return new i(c,a,u,d)
                    }
                }
            }
            ,
            this.openingBracketBlock = function(e, t, n, r, o) {
                var s = {
                    row: n,
                    column: r + 1
                }
                  , a = e.$findClosingBracket(t, s, o);
                if (a) {
                    var l = e.foldWidgets[a.row];
                    return null == l && (l = e.getFoldWidget(a.row)),
                    "start" == l && a.row > s.row && (a.row--,
                    a.column = e.getLine(a.row).length),
                    i.fromPoints(s, a)
                }
            }
            ,
            this.closingBracketBlock = function(e, t, n, r, o) {
                var s = {
                    row: n,
                    column: r
                }
                  , a = e.$findOpeningBracket(t, s);
                if (a)
                    return a.column++,
                    s.column--,
                    i.fromPoints(a, s)
            }
        }
        ).call(r.prototype)
    }),
    ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
        "use strict";
        t.isDark = !1,
        t.cssClass = "ace-tm",
        t.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',
        e("../lib/dom").importCssString(t.cssText, t.cssClass)
    }),
    ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/range"], function(e, t, n) {
        "use strict";
        function i(e) {
            this.session = e,
            this.session.widgetManager = this,
            this.session.getRowLength = this.getRowLength,
            this.session.$getWidgetScreenLength = this.$getWidgetScreenLength,
            this.updateOnChange = this.updateOnChange.bind(this),
            this.renderWidgets = this.renderWidgets.bind(this),
            this.measureWidgets = this.measureWidgets.bind(this),
            this.session._changedWidgets = [],
            this.$onChangeEditor = this.$onChangeEditor.bind(this),
            this.session.on("change", this.updateOnChange),
            this.session.on("changeFold", this.updateOnFold),
            this.session.on("changeEditor", this.$onChangeEditor)
        }
        var r = (e("./lib/oop"),
        e("./lib/dom"));
        e("./range").Range;
        (function() {
            this.getRowLength = function(e) {
                var t;
                return t = this.lineWidgets ? this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0 : 0,
                this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t
            }
            ,
            this.$getWidgetScreenLength = function() {
                var e = 0;
                return this.lineWidgets.forEach(function(t) {
                    t && t.rowCount && !t.hidden && (e += t.rowCount)
                }),
                e
            }
            ,
            this.$onChangeEditor = function(e) {
                this.attach(e.editor)
            }
            ,
            this.attach = function(e) {
                e && e.widgetManager && e.widgetManager != this && e.widgetManager.detach(),
                this.editor != e && (this.detach(),
                this.editor = e,
                e && (e.widgetManager = this,
                e.renderer.on("beforeRender", this.measureWidgets),
                e.renderer.on("afterRender", this.renderWidgets)))
            }
            ,
            this.detach = function(e) {
                var t = this.editor;
                if (t) {
                    this.editor = null,
                    t.widgetManager = null,
                    t.renderer.off("beforeRender", this.measureWidgets),
                    t.renderer.off("afterRender", this.renderWidgets);
                    var n = this.session.lineWidgets;
                    n && n.forEach(function(e) {
                        e && e.el && e.el.parentNode && (e._inDocument = !1,
                        e.el.parentNode.removeChild(e.el))
                    })
                }
            }
            ,
            this.updateOnFold = function(e, t) {
                var n = t.lineWidgets;
                if (n && e.action) {
                    for (var i = e.data, r = i.start.row, o = i.end.row, s = "add" == e.action, a = r + 1; a < o; a++)
                        n[a] && (n[a].hidden = s);
                    n[o] && (s ? n[r] ? n[o].hidden = s : n[r] = n[o] : (n[r] == n[o] && (n[r] = void 0),
                    n[o].hidden = s))
                }
            }
            ,
            this.updateOnChange = function(e) {
                var t = this.session.lineWidgets;
                if (t) {
                    var n = e.start.row
                      , i = e.end.row - n;
                    if (0 === i)
                        ;
                    else if ("remove" == e.action) {
                        var r = t.splice(n + 1, i);
                        r.forEach(function(e) {
                            e && this.removeLineWidget(e)
                        }, this),
                        this.$updateRows()
                    } else {
                        var o = new Array(i);
                        o.unshift(n, 0),
                        t.splice.apply(t, o),
                        this.$updateRows()
                    }
                }
            }
            ,
            this.$updateRows = function() {
                var e = this.session.lineWidgets;
                if (e) {
                    var t = !0;
                    e.forEach(function(e, n) {
                        if (e)
                            for (t = !1,
                            e.row = n; e.$oldWidget; )
                                e.$oldWidget.row = n,
                                e = e.$oldWidget
                    }),
                    t && (this.session.lineWidgets = null)
                }
            }
            ,
            this.addLineWidget = function(e) {
                this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength()));
                var t = this.session.lineWidgets[e.row];
                t && (e.$oldWidget = t,
                t.el && t.el.parentNode && (t.el.parentNode.removeChild(t.el),
                t._inDocument = !1)),
                this.session.lineWidgets[e.row] = e,
                e.session = this.session;
                var n = this.editor.renderer;
                e.html && !e.el && (e.el = r.createElement("div"),
                e.el.innerHTML = e.html),
                e.el && (r.addCssClass(e.el, "ace_lineWidgetContainer"),
                e.el.style.position = "absolute",
                e.el.style.zIndex = 5,
                n.container.appendChild(e.el),
                e._inDocument = !0),
                e.coverGutter || (e.el.style.zIndex = 3),
                null == e.pixelHeight && (e.pixelHeight = e.el.offsetHeight),
                null == e.rowCount && (e.rowCount = e.pixelHeight / n.layerConfig.lineHeight);
                var i = this.session.getFoldAt(e.row, 0);
                if (e.$fold = i,
                i) {
                    var o = this.session.lineWidgets;
                    e.row != i.end.row || o[i.start.row] ? e.hidden = !0 : o[i.start.row] = e
                }
                return this.session._emit("changeFold", {
                    data: {
                        start: {
                            row: e.row
                        }
                    }
                }),
                this.$updateRows(),
                this.renderWidgets(null, n),
                this.onWidgetChanged(e),
                e
            }
            ,
            this.removeLineWidget = function(e) {
                if (e._inDocument = !1,
                e.session = null,
                e.el && e.el.parentNode && e.el.parentNode.removeChild(e.el),
                e.editor && e.editor.destroy)
                    try {
                        e.editor.destroy()
                    } catch (e) {}
                if (this.session.lineWidgets) {
                    var t = this.session.lineWidgets[e.row];
                    if (t == e)
                        this.session.lineWidgets[e.row] = e.$oldWidget,
                        e.$oldWidget && this.onWidgetChanged(e.$oldWidget);
                    else
                        for (; t; ) {
                            if (t.$oldWidget == e) {
                                t.$oldWidget = e.$oldWidget;
                                break
                            }
                            t = t.$oldWidget
                        }
                }
                this.session._emit("changeFold", {
                    data: {
                        start: {
                            row: e.row
                        }
                    }
                }),
                this.$updateRows()
            }
            ,
            this.getWidgetsAtRow = function(e) {
                for (var t = this.session.lineWidgets, n = t && t[e], i = []; n; )
                    i.push(n),
                    n = n.$oldWidget;
                return i
            }
            ,
            this.onWidgetChanged = function(e) {
                this.session._changedWidgets.push(e),
                this.editor && this.editor.renderer.updateFull()
            }
            ,
            this.measureWidgets = function(e, t) {
                var n = this.session._changedWidgets
                  , i = t.layerConfig;
                if (n && n.length) {
                    for (var r = 1 / 0, o = 0; o < n.length; o++) {
                        var s = n[o];
                        if (s && s.el && s.session == this.session) {
                            if (!s._inDocument) {
                                if (this.session.lineWidgets[s.row] != s)
                                    continue;
                                s._inDocument = !0,
                                t.container.appendChild(s.el)
                            }
                            s.h = s.el.offsetHeight,
                            s.fixedWidth || (s.w = s.el.offsetWidth,
                            s.screenWidth = Math.ceil(s.w / i.characterWidth));
                            var a = s.h / i.lineHeight;
                            s.coverLine && (a -= this.session.getRowLineCount(s.row)) < 0 && (a = 0),
                            s.rowCount != a && (s.rowCount = a,
                            s.row < r && (r = s.row))
                        }
                    }
                    r != 1 / 0 && (this.session._emit("changeFold", {
                        data: {
                            start: {
                                row: r
                            }
                        }
                    }),
                    this.session.lineWidgetWidth = null),
                    this.session._changedWidgets = []
                }
            }
            ,
            this.renderWidgets = function(e, t) {
                var n = t.layerConfig
                  , i = this.session.lineWidgets;
                if (i) {
                    for (var r = Math.min(this.firstRow, n.firstRow), o = Math.max(this.lastRow, n.lastRow, i.length); r > 0 && !i[r]; )
                        r--;
                    this.firstRow = n.firstRow,
                    this.lastRow = n.lastRow,
                    t.$cursorLayer.config = n;
                    for (var s = r; s <= o; s++) {
                        var a = i[s];
                        if (a && a.el)
                            if (a.hidden)
                                a.el.style.top = -100 - (a.pixelHeight || 0) + "px";
                            else {
                                a._inDocument || (a._inDocument = !0,
                                t.container.appendChild(a.el));
                                var l = t.$cursorLayer.getPixelPosition({
                                    row: s,
                                    column: 0
                                }, !0).top;
                                a.coverLine || (l += n.lineHeight * this.session.getRowLineCount(a.row)),
                                a.el.style.top = l - n.offset + "px";
                                var c = a.coverGutter ? 0 : t.gutterWidth;
                                a.fixedWidth || (c -= t.scrollLeft),
                                a.el.style.left = c + "px",
                                a.fullWidth && a.screenWidth && (a.el.style.minWidth = n.width + 2 * n.padding + "px"),
                                a.fixedWidth ? a.el.style.right = t.scrollBar.getWidth() + "px" : a.el.style.right = ""
                            }
                    }
                }
            }
        }
        ).call(i.prototype),
        t.LineWidgets = i
    }),
    ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range"], function(e, t, n) {
        "use strict";
        function i(e, t, n) {
            for (var i = 0, r = e.length - 1; i <= r; ) {
                var o = i + r >> 1
                  , s = n(t, e[o]);
                if (s > 0)
                    i = o + 1;
                else {
                    if (!(s < 0))
                        return o;
                    r = o - 1
                }
            }
            return -(i + 1)
        }
        function r(e, t, n) {
            var r = e.getAnnotations().sort(a.comparePoints);
            if (r.length) {
                var o = i(r, {
                    row: t,
                    column: -1
                }, a.comparePoints);
                o < 0 && (o = -o - 1),
                o >= r.length ? o = n > 0 ? 0 : r.length - 1 : 0 === o && n < 0 && (o = r.length - 1);
                var s = r[o];
                if (s && n) {
                    if (s.row === t) {
                        do {
                            s = r[o += n]
                        } while (s && s.row === t);
                        if (!s)
                            return r.slice()
                    }
                    var l = [];
                    t = s.row;
                    do {
                        l[n < 0 ? "unshift" : "push"](s),
                        s = r[o += n]
                    } while (s && s.row == t);
                    return l.length && l
                }
            }
        }
        var o = e("../line_widgets").LineWidgets
          , s = e("../lib/dom")
          , a = e("../range").Range;
        t.showErrorMarker = function(e, t) {
            var n = e.session;
            n.widgetManager || (n.widgetManager = new o(n),
            n.widgetManager.attach(e));
            var i = e.getCursorPosition()
              , a = i.row
              , l = n.widgetManager.getWidgetsAtRow(a).filter(function(e) {
                return "errorMarker" == e.type
            })[0];
            l ? l.destroy() : a -= t;
            var c, u = r(n, a, t);
            if (u) {
                var h = u[0];
                i.column = (h.pos && "number" != typeof h.column ? h.pos.sc : h.column) || 0,
                i.row = h.row,
                c = e.renderer.$gutterLayer.$annotations[i.row]
            } else {
                if (l)
                    return;
                c = {
                    text: ["Looks good!"],
                    className: "ace_ok"
                }
            }
            e.session.unfold(i.row),
            e.selection.moveToPosition(i);
            var d = {
                row: i.row,
                fixedWidth: !0,
                coverGutter: !0,
                el: s.createElement("div"),
                type: "errorMarker"
            }
              , f = d.el.appendChild(s.createElement("div"))
              , g = d.el.appendChild(s.createElement("div"));
            g.className = "error_widget_arrow " + c.className;
            var p = e.renderer.$cursorLayer.getPixelPosition(i).left;
            g.style.left = p + e.renderer.gutterWidth - 5 + "px",
            d.el.className = "error_widget_wrapper",
            f.className = "error_widget " + c.className,
            f.innerHTML = c.text.join("<br>"),
            f.appendChild(s.createElement("div"));
            var m = function(e, t, n) {
                if (0 === t && ("esc" === n || "return" === n))
                    return d.destroy(),
                    {
                        command: "null"
                    }
            };
            d.destroy = function() {
                e.$mouseHandler.isMousePressed || (e.keyBinding.removeKeyboardHandler(m),
                n.widgetManager.removeLineWidget(d),
                e.off("changeSelection", d.destroy),
                e.off("changeSession", d.destroy),
                e.off("mouseup", d.destroy),
                e.off("change", d.destroy))
            }
            ,
            e.keyBinding.addKeyboardHandler(m),
            e.on("changeSelection", d.destroy),
            e.on("changeSession", d.destroy),
            e.on("mouseup", d.destroy),
            e.on("change", d.destroy),
            e.session.widgetManager.addLineWidget(d),
            d.el.onmousedown = e.focus.bind(e),
            e.renderer.scrollCursorIntoView(null, .5, {
                bottom: d.el.offsetHeight
            })
        }
        ,
        s.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "")
    }),
    ace.define("ace/ace", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config"], function(e, t, i) {
        "use strict";
        e("./lib/fixoldbrowsers");
        var r = e("./lib/dom")
          , o = e("./lib/event")
          , s = e("./editor").Editor
          , a = e("./edit_session").EditSession
          , l = e("./undomanager").UndoManager
          , c = e("./virtual_renderer").VirtualRenderer;
        e("./worker/worker_client"),
        e("./keyboard/hash_handler"),
        e("./placeholder"),
        e("./multi_select"),
        e("./mode/folding/fold_mode"),
        e("./theme/textmate"),
        e("./ext/error_marker"),
        t.config = e("./config"),
        t.acequire = e,
        t.define = n(0),
        t.edit = function(e) {
            if ("string" == typeof e) {
                var n = e;
                if (!(e = document.getElementById(n)))
                    throw new Error("ace.edit can't find div #" + n)
            }
            if (e && e.env && e.env.editor instanceof s)
                return e.env.editor;
            var i = "";
            if (e && /input|textarea/i.test(e.tagName)) {
                var a = e;
                i = a.value,
                e = r.createElement("pre"),
                a.parentNode.replaceChild(e, a)
            } else
                e && (i = r.getInnerText(e),
                e.innerHTML = "");
            var l = t.createEditSession(i)
              , u = new s(new c(e));
            u.setSession(l);
            var h = {
                document: l,
                editor: u,
                onResize: u.resize.bind(u, null)
            };
            return a && (h.textarea = a),
            o.addListener(window, "resize", h.onResize),
            u.on("destroy", function() {
                o.removeListener(window, "resize", h.onResize),
                h.editor.container.env = null
            }),
            u.container.env = u.env = h,
            u
        }
        ,
        t.createEditSession = function(e, t) {
            var n = new a(e,t);
            return n.setUndoManager(new l),
            n
        }
        ,
        t.EditSession = a,
        t.UndoManager = l,
        t.version = "1.2.9"
    }),
    function() {
        ace.acequire(["ace/ace"], function(e) {
            e && (e.config.init(!0),
            e.define = ace.define),
            window.ace || (window.ace = e);
            for (var t in e)
                e.hasOwnProperty(t) && (window.ace[t] = e[t])
        })
    }(),
    e.exports = window.ace.acequire("ace/ace")
}
, function(e, t) {
    ace.define("ace/ext/searchbox", ["require", "exports", "module", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/keyboard/hash_handler", "ace/lib/keys"], function(e, t, n) {
        "use strict";
        var i = e("../lib/dom")
          , r = e("../lib/lang")
          , o = e("../lib/event")
          , s = e("../keyboard/hash_handler").HashHandler
          , a = e("../lib/keys");
        i.importCssString('.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;box-sizing: border-box!important;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;box-sizing: content-box!important;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}', "ace_searchbox");
        var l = '<div class="ace_search right">    <span action="hide" class="ace_searchbtn_close"></span>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <span action="findPrev" class="ace_searchbtn prev"></span>        <span action="findNext" class="ace_searchbtn next"></span>        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>        <span action="replaceAll" class="ace_searchbtn">All</span>    </div>    <div class="ace_search_options">        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"            style="float:left;margin-top:-2px;padding:0 5px;">+</span>        <span class="ace_search_counter"></span>        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>    </div></div>'.replace(/> +/g, ">")
          , c = function(e, t, n) {
            var r = i.createElement("div");
            r.innerHTML = l,
            this.element = r.firstChild,
            this.setSession = this.setSession.bind(this),
            this.$init(),
            this.setEditor(e)
        };
        (function() {
            this.setEditor = function(e) {
                e.searchBox = this,
                e.renderer.scroller.appendChild(this.element),
                this.editor = e
            }
            ,
            this.setSession = function(e) {
                this.searchRange = null,
                this.$syncOptions(!0)
            }
            ,
            this.$initElements = function(e) {
                this.searchBox = e.querySelector(".ace_search_form"),
                this.replaceBox = e.querySelector(".ace_replace_form"),
                this.searchOption = e.querySelector("[action=searchInSelection]"),
                this.replaceOption = e.querySelector("[action=toggleReplace]"),
                this.regExpOption = e.querySelector("[action=toggleRegexpMode]"),
                this.caseSensitiveOption = e.querySelector("[action=toggleCaseSensitive]"),
                this.wholeWordOption = e.querySelector("[action=toggleWholeWords]"),
                this.searchInput = this.searchBox.querySelector(".ace_search_field"),
                this.replaceInput = this.replaceBox.querySelector(".ace_search_field"),
                this.searchCounter = e.querySelector(".ace_search_counter")
            }
            ,
            this.$init = function() {
                var e = this.element;
                this.$initElements(e);
                var t = this;
                o.addListener(e, "mousedown", function(e) {
                    setTimeout(function() {
                        t.activeInput.focus()
                    }, 0),
                    o.stopPropagation(e)
                }),
                o.addListener(e, "click", function(e) {
                    var n = e.target || e.srcElement
                      , i = n.getAttribute("action");
                    i && t[i] ? t[i]() : t.$searchBarKb.commands[i] && t.$searchBarKb.commands[i].exec(t),
                    o.stopPropagation(e)
                }),
                o.addCommandKeyListener(e, function(e, n, i) {
                    var r = a.keyCodeToString(i)
                      , s = t.$searchBarKb.findKeyCommand(n, r);
                    s && s.exec && (s.exec(t),
                    o.stopEvent(e))
                }),
                this.$onChange = r.delayedCall(function() {
                    t.find(!1, !1)
                }),
                o.addListener(this.searchInput, "input", function() {
                    t.$onChange.schedule(20)
                }),
                o.addListener(this.searchInput, "focus", function() {
                    t.activeInput = t.searchInput,
                    t.searchInput.value && t.highlight()
                }),
                o.addListener(this.replaceInput, "focus", function() {
                    t.activeInput = t.replaceInput,
                    t.searchInput.value && t.highlight()
                })
            }
            ,
            this.$closeSearchBarKb = new s([{
                bindKey: "Esc",
                name: "closeSearchBar",
                exec: function(e) {
                    e.searchBox.hide()
                }
            }]),
            this.$searchBarKb = new s,
            this.$searchBarKb.bindKeys({
                "Ctrl-f|Command-f": function(e) {
                    var t = e.isReplace = !e.isReplace;
                    e.replaceBox.style.display = t ? "" : "none",
                    e.replaceOption.checked = !1,
                    e.$syncOptions(),
                    e.searchInput.focus()
                },
                "Ctrl-H|Command-Option-F": function(e) {
                    e.replaceOption.checked = !0,
                    e.$syncOptions(),
                    e.replaceInput.focus()
                },
                "Ctrl-G|Command-G": function(e) {
                    e.findNext()
                },
                "Ctrl-Shift-G|Command-Shift-G": function(e) {
                    e.findPrev()
                },
                esc: function(e) {
                    setTimeout(function() {
                        e.hide()
                    })
                },
                Return: function(e) {
                    e.activeInput == e.replaceInput && e.replace(),
                    e.findNext()
                },
                "Shift-Return": function(e) {
                    e.activeInput == e.replaceInput && e.replace(),
                    e.findPrev()
                },
                "Alt-Return": function(e) {
                    e.activeInput == e.replaceInput && e.replaceAll(),
                    e.findAll()
                },
                Tab: function(e) {
                    (e.activeInput == e.replaceInput ? e.searchInput : e.replaceInput).focus()
                }
            }),
            this.$searchBarKb.addCommands([{
                name: "toggleRegexpMode",
                bindKey: {
                    win: "Alt-R|Alt-/",
                    mac: "Ctrl-Alt-R|Ctrl-Alt-/"
                },
                exec: function(e) {
                    e.regExpOption.checked = !e.regExpOption.checked,
                    e.$syncOptions()
                }
            }, {
                name: "toggleCaseSensitive",
                bindKey: {
                    win: "Alt-C|Alt-I",
                    mac: "Ctrl-Alt-R|Ctrl-Alt-I"
                },
                exec: function(e) {
                    e.caseSensitiveOption.checked = !e.caseSensitiveOption.checked,
                    e.$syncOptions()
                }
            }, {
                name: "toggleWholeWords",
                bindKey: {
                    win: "Alt-B|Alt-W",
                    mac: "Ctrl-Alt-B|Ctrl-Alt-W"
                },
                exec: function(e) {
                    e.wholeWordOption.checked = !e.wholeWordOption.checked,
                    e.$syncOptions()
                }
            }, {
                name: "toggleReplace",
                exec: function(e) {
                    e.replaceOption.checked = !e.replaceOption.checked,
                    e.$syncOptions()
                }
            }, {
                name: "searchInSelection",
                exec: function(e) {
                    e.searchOption.checked = !e.searchRange,
                    e.setSearchRange(e.searchOption.checked && e.editor.getSelectionRange()),
                    e.$syncOptions()
                }
            }]),
            this.setSearchRange = function(e) {
                this.searchRange = e,
                e ? this.searchRangeMarker = this.editor.session.addMarker(e, "ace_active-line") : this.searchRangeMarker && (this.editor.session.removeMarker(this.searchRangeMarker),
                this.searchRangeMarker = null)
            }
            ,
            this.$syncOptions = function(e) {
                i.setCssClass(this.replaceOption, "checked", this.searchRange),
                i.setCssClass(this.searchOption, "checked", this.searchOption.checked),
                this.replaceOption.textContent = this.replaceOption.checked ? "-" : "+",
                i.setCssClass(this.regExpOption, "checked", this.regExpOption.checked),
                i.setCssClass(this.wholeWordOption, "checked", this.wholeWordOption.checked),
                i.setCssClass(this.caseSensitiveOption, "checked", this.caseSensitiveOption.checked),
                this.replaceBox.style.display = this.replaceOption.checked ? "" : "none",
                this.find(!1, !1, e)
            }
            ,
            this.highlight = function(e) {
                this.editor.session.highlight(e || this.editor.$search.$options.re),
                this.editor.renderer.updateBackMarkers()
            }
            ,
            this.find = function(e, t, n) {
                var r = this.editor.find(this.searchInput.value, {
                    skipCurrent: e,
                    backwards: t,
                    wrap: !0,
                    regExp: this.regExpOption.checked,
                    caseSensitive: this.caseSensitiveOption.checked,
                    wholeWord: this.wholeWordOption.checked,
                    preventScroll: n,
                    range: this.searchRange
                })
                  , o = !r && this.searchInput.value;
                i.setCssClass(this.searchBox, "ace_nomatch", o),
                this.editor._emit("findSearchBox", {
                    match: !o
                }),
                this.highlight(),
                this.updateCounter()
            }
            ,
            this.updateCounter = function() {
                var e = this.editor
                  , t = e.$search.$options.re
                  , n = 0
                  , i = 0;
                if (t) {
                    var r = this.searchRange ? e.session.getTextRange(this.searchRange) : e.getValue()
                      , o = e.session.doc.positionToIndex(e.selection.anchor);
                    this.searchRange && (o -= e.session.doc.positionToIndex(this.searchRange.start));
                    for (var s, a = t.lastIndex = 0; (s = t.exec(r)) && (n++,
                    a = s.index,
                    a <= o && i++,
                    !(n > 999)) && (s[0] || (t.lastIndex = a += 1,
                    !(a >= r.length))); )
                        ;
                }
                this.searchCounter.textContent = i + " of " + (n > 999 ? "999+" : n)
            }
            ,
            this.findNext = function() {
                this.find(!0, !1)
            }
            ,
            this.findPrev = function() {
                this.find(!0, !0)
            }
            ,
            this.findAll = function() {
                var e = this.editor.findAll(this.searchInput.value, {
                    regExp: this.regExpOption.checked,
                    caseSensitive: this.caseSensitiveOption.checked,
                    wholeWord: this.wholeWordOption.checked
                })
                  , t = !e && this.searchInput.value;
                i.setCssClass(this.searchBox, "ace_nomatch", t),
                this.editor._emit("findSearchBox", {
                    match: !t
                }),
                this.highlight(),
                this.hide()
            }
            ,
            this.replace = function() {
                this.editor.getReadOnly() || this.editor.replace(this.replaceInput.value)
            }
            ,
            this.replaceAndFindNext = function() {
                this.editor.getReadOnly() || (this.editor.replace(this.replaceInput.value),
                this.findNext())
            }
            ,
            this.replaceAll = function() {
                this.editor.getReadOnly() || this.editor.replaceAll(this.replaceInput.value)
            }
            ,
            this.hide = function() {
                this.active = !1,
                this.setSearchRange(null),
                this.editor.off("changeSession", this.setSession),
                this.element.style.display = "none",
                this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),
                this.editor.focus()
            }
            ,
            this.show = function(e, t) {
                this.active = !0,
                this.editor.on("changeSession", this.setSession),
                this.element.style.display = "",
                this.replaceOption.checked = t,
                e && (this.searchInput.value = e),
                this.searchInput.focus(),
                this.searchInput.select(),
                this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),
                this.$syncOptions(!0)
            }
            ,
            this.isFocused = function() {
                var e = document.activeElement;
                return e == this.searchInput || e == this.replaceInput
            }
        }
        ).call(c.prototype),
        t.SearchBox = c,
        t.Search = function(e, t) {
            (e.searchBox || new c(e)).show(e.session.getTextRange(), t)
        }
    }),
    function() {
        ace.acequire(["ace/ext/searchbox"], function() {})
    }()
}
, function(e, t) {
    ace.define("ace/snippets", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter", "ace/lib/lang", "ace/range", "ace/anchor", "ace/keyboard/hash_handler", "ace/tokenizer", "ace/lib/dom", "ace/editor"], function(e, t, n) {
        "use strict";
        var i = e("./lib/oop")
          , r = e("./lib/event_emitter").EventEmitter
          , o = e("./lib/lang")
          , s = e("./range").Range
          , a = e("./anchor").Anchor
          , l = e("./keyboard/hash_handler").HashHandler
          , c = e("./tokenizer").Tokenizer
          , u = s.comparePoints
          , h = function() {
            this.snippetMap = {},
            this.snippetNameMap = {}
        };
        (function() {
            i.implement(this, r),
            this.getTokenizer = function() {
                function e(e, t, n) {
                    return e = e.substr(1),
                    /^\d+$/.test(e) && !n.inFormatString ? [{
                        tabstopId: parseInt(e, 10)
                    }] : [{
                        text: e
                    }]
                }
                function t(e) {
                    return "(?:[^\\\\" + e + "]|\\\\.)"
                }
                return h.$tokenizer = new c({
                    start: [{
                        regex: /:/,
                        onMatch: function(e, t, n) {
                            return n.length && n[0].expectIf ? (n[0].expectIf = !1,
                            n[0].elseBranch = n[0],
                            [n[0]]) : ":"
                        }
                    }, {
                        regex: /\\./,
                        onMatch: function(e, t, n) {
                            var i = e[1];
                            return "}" == i && n.length ? e = i : -1 != "`$\\".indexOf(i) ? e = i : n.inFormatString && ("n" == i ? e = "\n" : "t" == i ? e = "\n" : -1 != "ulULE".indexOf(i) && (e = {
                                changeCase: i,
                                local: i > "a"
                            })),
                            [e]
                        }
                    }, {
                        regex: /}/,
                        onMatch: function(e, t, n) {
                            return [n.length ? n.shift() : e]
                        }
                    }, {
                        regex: /\$(?:\d+|\w+)/,
                        onMatch: e
                    }, {
                        regex: /\$\{[\dA-Z_a-z]+/,
                        onMatch: function(t, n, i) {
                            var r = e(t.substr(1), n, i);
                            return i.unshift(r[0]),
                            r
                        },
                        next: "snippetVar"
                    }, {
                        regex: /\n/,
                        token: "newline",
                        merge: !1
                    }],
                    snippetVar: [{
                        regex: "\\|" + t("\\|") + "*\\|",
                        onMatch: function(e, t, n) {
                            n[0].choices = e.slice(1, -1).split(",")
                        },
                        next: "start"
                    }, {
                        regex: "/(" + t("/") + "+)/(?:(" + t("/") + "*)/)(\\w*):?",
                        onMatch: function(e, t, n) {
                            var i = n[0];
                            return i.fmtString = e,
                            e = this.splitRegex.exec(e),
                            i.guard = e[1],
                            i.fmt = e[2],
                            i.flag = e[3],
                            ""
                        },
                        next: "start"
                    }, {
                        regex: "`" + t("`") + "*`",
                        onMatch: function(e, t, n) {
                            return n[0].code = e.splice(1, -1),
                            ""
                        },
                        next: "start"
                    }, {
                        regex: "\\?",
                        onMatch: function(e, t, n) {
                            n[0] && (n[0].expectIf = !0)
                        },
                        next: "start"
                    }, {
                        regex: "([^:}\\\\]|\\\\.)*:?",
                        token: "",
                        next: "start"
                    }],
                    formatString: [{
                        regex: "/(" + t("/") + "+)/",
                        token: "regex"
                    }, {
                        regex: "",
                        onMatch: function(e, t, n) {
                            n.inFormatString = !0
                        },
                        next: "start"
                    }]
                }),
                h.prototype.getTokenizer = function() {
                    return h.$tokenizer
                }
                ,
                h.$tokenizer
            }
            ,
            this.tokenizeTmSnippet = function(e, t) {
                return this.getTokenizer().getLineTokens(e, t).tokens.map(function(e) {
                    return e.value || e
                })
            }
            ,
            this.$getDefaultValue = function(e, t) {
                if (/^[A-Z]\d+$/.test(t)) {
                    var n = t.substr(1);
                    return (this.variables[t[0] + "__"] || {})[n]
                }
                if (/^\d+$/.test(t))
                    return (this.variables.__ || {})[t];
                if (t = t.replace(/^TM_/, ""),
                e) {
                    var i = e.session;
                    switch (t) {
                    case "CURRENT_WORD":
                        var r = i.getWordRange();
                    case "SELECTION":
                    case "SELECTED_TEXT":
                        return i.getTextRange(r);
                    case "CURRENT_LINE":
                        return i.getLine(e.getCursorPosition().row);
                    case "PREV_LINE":
                        return i.getLine(e.getCursorPosition().row - 1);
                    case "LINE_INDEX":
                        return e.getCursorPosition().column;
                    case "LINE_NUMBER":
                        return e.getCursorPosition().row + 1;
                    case "SOFT_TABS":
                        return i.getUseSoftTabs() ? "YES" : "NO";
                    case "TAB_SIZE":
                        return i.getTabSize();
                    case "FILENAME":
                    case "FILEPATH":
                        return "";
                    case "FULLNAME":
                        return "Ace"
                    }
                }
            }
            ,
            this.variables = {},
            this.getVariableValue = function(e, t) {
                return this.variables.hasOwnProperty(t) ? this.variables[t](e, t) || "" : this.$getDefaultValue(e, t) || ""
            }
            ,
            this.tmStrFormat = function(e, t, n) {
                var i = t.flag || ""
                  , r = t.guard;
                r = new RegExp(r,i.replace(/[^gi]/, ""));
                var o = this.tokenizeTmSnippet(t.fmt, "formatString")
                  , s = this
                  , a = e.replace(r, function() {
                    s.variables.__ = arguments;
                    for (var e = s.resolveVariables(o, n), t = "E", i = 0; i < e.length; i++) {
                        var r = e[i];
                        if ("object" == typeof r)
                            if (e[i] = "",
                            r.changeCase && r.local) {
                                var a = e[i + 1];
                                a && "string" == typeof a && ("u" == r.changeCase ? e[i] = a[0].toUpperCase() : e[i] = a[0].toLowerCase(),
                                e[i + 1] = a.substr(1))
                            } else
                                r.changeCase && (t = r.changeCase);
                        else
                            "U" == t ? e[i] = r.toUpperCase() : "L" == t && (e[i] = r.toLowerCase())
                    }
                    return e.join("")
                });
                return this.variables.__ = null,
                a
            }
            ,
            this.resolveVariables = function(e, t) {
                function n(t) {
                    var n = e.indexOf(t, r + 1);
                    -1 != n && (r = n)
                }
                for (var i = [], r = 0; r < e.length; r++) {
                    var o = e[r];
                    if ("string" == typeof o)
                        i.push(o);
                    else {
                        if ("object" != typeof o)
                            continue;
                        if (o.skip)
                            n(o);
                        else {
                            if (o.processed < r)
                                continue;
                            if (o.text) {
                                var s = this.getVariableValue(t, o.text);
                                s && o.fmtString && (s = this.tmStrFormat(s, o)),
                                o.processed = r,
                                null == o.expectIf ? s && (i.push(s),
                                n(o)) : s ? o.skip = o.elseBranch : n(o)
                            } else
                                null != o.tabstopId ? i.push(o) : null != o.changeCase && i.push(o)
                        }
                    }
                }
                return i
            }
            ,
            this.insertSnippetForSelection = function(e, t) {
                var n = e.getCursorPosition()
                  , i = e.session.getLine(n.row)
                  , r = e.session.getTabString()
                  , o = i.match(/^\s*/)[0];
                n.column < o.length && (o = o.slice(0, n.column)),
                t = t.replace(/\r/g, "");
                var s = this.tokenizeTmSnippet(t);
                s = this.resolveVariables(s, e),
                s = s.map(function(e) {
                    return "\n" == e ? e + o : "string" == typeof e ? e.replace(/\t/g, r) : e
                });
                var a = [];
                s.forEach(function(e, t) {
                    if ("object" == typeof e) {
                        var n = e.tabstopId
                          , i = a[n];
                        if (i || (i = a[n] = [],
                        i.index = n,
                        i.value = ""),
                        -1 === i.indexOf(e)) {
                            i.push(e);
                            var r = s.indexOf(e, t + 1);
                            if (-1 !== r) {
                                var o = s.slice(t + 1, r);
                                o.some(function(e) {
                                    return "object" == typeof e
                                }) && !i.value ? i.value = o : !o.length || i.value && "string" == typeof i.value || (i.value = o.join(""))
                            }
                        }
                    }
                }),
                a.forEach(function(e) {
                    e.length = 0
                });
                for (var l = {}, c = 0; c < s.length; c++) {
                    var u = s[c];
                    if ("object" == typeof u) {
                        var h = u.tabstopId
                          , f = s.indexOf(u, c + 1);
                        if (l[h])
                            l[h] === u && (l[h] = null);
                        else {
                            var g = a[h]
                              , p = "string" == typeof g.value ? [g.value] : function(e) {
                                for (var t = [], n = 0; n < e.length; n++) {
                                    var i = e[n];
                                    if ("object" == typeof i) {
                                        if (l[i.tabstopId])
                                            continue;
                                        i = t[e.lastIndexOf(i, n - 1)] || {
                                            tabstopId: i.tabstopId
                                        }
                                    }
                                    t[n] = i
                                }
                                return t
                            }(g.value);
                            p.unshift(c + 1, Math.max(0, f - c)),
                            p.push(u),
                            l[h] = u,
                            s.splice.apply(s, p),
                            -1 === g.indexOf(u) && g.push(u)
                        }
                    }
                }
                var m = 0
                  , v = 0
                  , A = "";
                s.forEach(function(e) {
                    if ("string" == typeof e) {
                        var t = e.split("\n");
                        t.length > 1 ? (v = t[t.length - 1].length,
                        m += t.length - 1) : v += e.length,
                        A += e
                    } else
                        e.start ? e.end = {
                            row: m,
                            column: v
                        } : e.start = {
                            row: m,
                            column: v
                        }
                });
                var w = e.getSelectionRange()
                  , C = e.session.replace(w, A)
                  , y = new d(e)
                  , b = e.inVirtualSelectionMode && e.selection.index;
                y.addTabstops(a, w.start, C, b)
            }
            ,
            this.insertSnippet = function(e, t) {
                var n = this;
                if (e.inVirtualSelectionMode)
                    return n.insertSnippetForSelection(e, t);
                e.forEachSelection(function() {
                    n.insertSnippetForSelection(e, t)
                }, null, {
                    keepOrder: !0
                }),
                e.tabstopManager && e.tabstopManager.tabNext()
            }
            ,
            this.$getScope = function(e) {
                var t = e.session.$mode.$id || "";
                if ("html" === (t = t.split("/").pop()) || "php" === t) {
                    "php" !== t || e.session.$mode.inlinePhp || (t = "html");
                    var n = e.getCursorPosition()
                      , i = e.session.getState(n.row);
                    "object" == typeof i && (i = i[0]),
                    i.substring && ("js-" == i.substring(0, 3) ? t = "javascript" : "css-" == i.substring(0, 4) ? t = "css" : "php-" == i.substring(0, 4) && (t = "php"))
                }
                return t
            }
            ,
            this.getActiveScopes = function(e) {
                var t = this.$getScope(e)
                  , n = [t]
                  , i = this.snippetMap;
                return i[t] && i[t].includeScopes && n.push.apply(n, i[t].includeScopes),
                n.push("_"),
                n
            }
            ,
            this.expandWithTab = function(e, t) {
                var n = this
                  , i = e.forEachSelection(function() {
                    return n.expandSnippetForSelection(e, t)
                }, null, {
                    keepOrder: !0
                });
                return i && e.tabstopManager && e.tabstopManager.tabNext(),
                i
            }
            ,
            this.expandSnippetForSelection = function(e, t) {
                var n, i = e.getCursorPosition(), r = e.session.getLine(i.row), o = r.substring(0, i.column), s = r.substr(i.column), a = this.snippetMap;
                return this.getActiveScopes(e).some(function(e) {
                    var t = a[e];
                    return t && (n = this.findMatchingSnippet(t, o, s)),
                    !!n
                }, this),
                !!n && (!(!t || !t.dryRun) || (e.session.doc.removeInLine(i.row, i.column - n.replaceBefore.length, i.column + n.replaceAfter.length),
                this.variables.M__ = n.matchBefore,
                this.variables.T__ = n.matchAfter,
                this.insertSnippetForSelection(e, n.content),
                this.variables.M__ = this.variables.T__ = null,
                !0))
            }
            ,
            this.findMatchingSnippet = function(e, t, n) {
                for (var i = e.length; i--; ) {
                    var r = e[i];
                    if ((!r.startRe || r.startRe.test(t)) && ((!r.endRe || r.endRe.test(n)) && (r.startRe || r.endRe)))
                        return r.matchBefore = r.startRe ? r.startRe.exec(t) : [""],
                        r.matchAfter = r.endRe ? r.endRe.exec(n) : [""],
                        r.replaceBefore = r.triggerRe ? r.triggerRe.exec(t)[0] : "",
                        r.replaceAfter = r.endTriggerRe ? r.endTriggerRe.exec(n)[0] : "",
                        r
                }
            }
            ,
            this.snippetMap = {},
            this.snippetNameMap = {},
            this.register = function(e, t) {
                function n(e) {
                    return e && !/^\^?\(.*\)\$?$|^\\b$/.test(e) && (e = "(?:" + e + ")"),
                    e || ""
                }
                function i(e, t, i) {
                    return e = n(e),
                    t = n(t),
                    i ? (e = t + e) && "$" != e[e.length - 1] && (e += "$") : (e += t) && "^" != e[0] && (e = "^" + e),
                    new RegExp(e)
                }
                function r(e) {
                    e.scope || (e.scope = t || "_"),
                    t = e.scope,
                    s[t] || (s[t] = [],
                    a[t] = {});
                    var n = a[t];
                    if (e.name) {
                        var r = n[e.name];
                        r && l.unregister(r),
                        n[e.name] = e
                    }
                    s[t].push(e),
                    e.tabTrigger && !e.trigger && (!e.guard && /^\w/.test(e.tabTrigger) && (e.guard = "\\b"),
                    e.trigger = o.escapeRegExp(e.tabTrigger)),
                    (e.trigger || e.guard || e.endTrigger || e.endGuard) && (e.startRe = i(e.trigger, e.guard, !0),
                    e.triggerRe = new RegExp(e.trigger,"",!0),
                    e.endRe = i(e.endTrigger, e.endGuard, !0),
                    e.endTriggerRe = new RegExp(e.endTrigger,"",!0))
                }
                var s = this.snippetMap
                  , a = this.snippetNameMap
                  , l = this;
                e || (e = []),
                e && e.content ? r(e) : Array.isArray(e) && e.forEach(r),
                this._signal("registerSnippets", {
                    scope: t
                })
            }
            ,
            this.unregister = function(e, t) {
                function n(e) {
                    var n = r[e.scope || t];
                    if (n && n[e.name]) {
                        delete n[e.name];
                        var o = i[e.scope || t]
                          , s = o && o.indexOf(e);
                        s >= 0 && o.splice(s, 1)
                    }
                }
                var i = this.snippetMap
                  , r = this.snippetNameMap;
                e.content ? n(e) : Array.isArray(e) && e.forEach(n)
            }
            ,
            this.parseSnippetFile = function(e) {
                e = e.replace(/\r/g, "");
                for (var t, n = [], i = {}, r = /^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm; t = r.exec(e); ) {
                    if (t[1])
                        try {
                            i = JSON.parse(t[1]),
                            n.push(i)
                        } catch (e) {}
                    if (t[4])
                        i.content = t[4].replace(/^\t/gm, ""),
                        n.push(i),
                        i = {};
                    else {
                        var o = t[2]
                          , s = t[3];
                        if ("regex" == o) {
                            var a = /\/((?:[^\/\\]|\\.)*)|$/g;
                            i.guard = a.exec(s)[1],
                            i.trigger = a.exec(s)[1],
                            i.endTrigger = a.exec(s)[1],
                            i.endGuard = a.exec(s)[1]
                        } else
                            "snippet" == o ? (i.tabTrigger = s.match(/^\S*/)[0],
                            i.name || (i.name = s)) : i[o] = s
                    }
                }
                return n
            }
            ,
            this.getSnippetByName = function(e, t) {
                var n, i = this.snippetNameMap;
                return this.getActiveScopes(t).some(function(t) {
                    var r = i[t];
                    return r && (n = r[e]),
                    !!n
                }, this),
                n
            }
        }
        ).call(h.prototype);
        var d = function(e) {
            if (e.tabstopManager)
                return e.tabstopManager;
            e.tabstopManager = this,
            this.$onChange = this.onChange.bind(this),
            this.$onChangeSelection = o.delayedCall(this.onChangeSelection.bind(this)).schedule,
            this.$onChangeSession = this.onChangeSession.bind(this),
            this.$onAfterExec = this.onAfterExec.bind(this),
            this.attach(e)
        };
        (function() {
            this.attach = function(e) {
                this.index = 0,
                this.ranges = [],
                this.tabstops = [],
                this.$openTabstops = null,
                this.selectedTabstop = null,
                this.editor = e,
                this.editor.on("change", this.$onChange),
                this.editor.on("changeSelection", this.$onChangeSelection),
                this.editor.on("changeSession", this.$onChangeSession),
                this.editor.commands.on("afterExec", this.$onAfterExec),
                this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)
            }
            ,
            this.detach = function() {
                this.tabstops.forEach(this.removeTabstopMarkers, this),
                this.ranges = null,
                this.tabstops = null,
                this.selectedTabstop = null,
                this.editor.removeListener("change", this.$onChange),
                this.editor.removeListener("changeSelection", this.$onChangeSelection),
                this.editor.removeListener("changeSession", this.$onChangeSession),
                this.editor.commands.removeListener("afterExec", this.$onAfterExec),
                this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),
                this.editor.tabstopManager = null,
                this.editor = null
            }
            ,
            this.onChange = function(e) {
                var t = "r" == e.action[0]
                  , n = e.start
                  , i = e.end
                  , r = n.row
                  , o = i.row
                  , s = o - r
                  , a = i.column - n.column;
                if (t && (s = -s,
                a = -a),
                !this.$inChange && t) {
                    var l = this.selectedTabstop;
                    if (l && !l.some(function(e) {
                        return u(e.start, n) <= 0 && u(e.end, i) >= 0
                    }))
                        return this.detach()
                }
                for (var c = this.ranges, h = 0; h < c.length; h++) {
                    var d = c[h];
                    d.end.row < n.row || (t && u(n, d.start) < 0 && u(i, d.end) > 0 ? (this.removeRange(d),
                    h--) : (d.start.row == r && d.start.column > n.column && (d.start.column += a),
                    d.end.row == r && d.end.column >= n.column && (d.end.column += a),
                    d.start.row >= r && (d.start.row += s),
                    d.end.row >= r && (d.end.row += s),
                    u(d.start, d.end) > 0 && this.removeRange(d)))
                }
                c.length || this.detach()
            }
            ,
            this.updateLinkedFields = function() {
                var e = this.selectedTabstop;
                if (e && e.hasLinkedRanges) {
                    this.$inChange = !0;
                    for (var n = this.editor.session, i = n.getTextRange(e.firstNonLinked), r = e.length; r--; ) {
                        var o = e[r];
                        if (o.linked) {
                            var s = t.snippetManager.tmStrFormat(i, o.original);
                            n.replace(o, s)
                        }
                    }
                    this.$inChange = !1
                }
            }
            ,
            this.onAfterExec = function(e) {
                e.command && !e.command.readOnly && this.updateLinkedFields()
            }
            ,
            this.onChangeSelection = function() {
                if (this.editor) {
                    for (var e = this.editor.selection.lead, t = this.editor.selection.anchor, n = this.editor.selection.isEmpty(), i = this.ranges.length; i--; )
                        if (!this.ranges[i].linked) {
                            var r = this.ranges[i].contains(e.row, e.column)
                              , o = n || this.ranges[i].contains(t.row, t.column);
                            if (r && o)
                                return
                        }
                    this.detach()
                }
            }
            ,
            this.onChangeSession = function() {
                this.detach()
            }
            ,
            this.tabNext = function(e) {
                var t = this.tabstops.length
                  , n = this.index + (e || 1);
                n = Math.min(Math.max(n, 1), t),
                n == t && (n = 0),
                this.selectTabstop(n),
                0 === n && this.detach()
            }
            ,
            this.selectTabstop = function(e) {
                this.$openTabstops = null;
                var t = this.tabstops[this.index];
                if (t && this.addTabstopMarkers(t),
                this.index = e,
                (t = this.tabstops[this.index]) && t.length) {
                    if (this.selectedTabstop = t,
                    this.editor.inVirtualSelectionMode)
                        this.editor.selection.setRange(t.firstNonLinked);
                    else {
                        var n = this.editor.multiSelect;
                        n.toSingleRange(t.firstNonLinked.clone());
                        for (var i = t.length; i--; )
                            t.hasLinkedRanges && t[i].linked || n.addRange(t[i].clone(), !0);
                        n.ranges[0] && n.addRange(n.ranges[0].clone())
                    }
                    this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)
                }
            }
            ,
            this.addTabstops = function(e, t, n) {
                if (this.$openTabstops || (this.$openTabstops = []),
                !e[0]) {
                    var i = s.fromPoints(n, n);
                    p(i.start, t),
                    p(i.end, t),
                    e[0] = [i],
                    e[0].index = 0
                }
                var r = this.index
                  , o = [r + 1, 0]
                  , a = this.ranges;
                e.forEach(function(e, n) {
                    for (var i = this.$openTabstops[n] || e, r = e.length; r--; ) {
                        var l = e[r]
                          , c = s.fromPoints(l.start, l.end || l.start);
                        g(c.start, t),
                        g(c.end, t),
                        c.original = l,
                        c.tabstop = i,
                        a.push(c),
                        i != e ? i.unshift(c) : i[r] = c,
                        l.fmtString ? (c.linked = !0,
                        i.hasLinkedRanges = !0) : i.firstNonLinked || (i.firstNonLinked = c)
                    }
                    i.firstNonLinked || (i.hasLinkedRanges = !1),
                    i === e && (o.push(i),
                    this.$openTabstops[n] = i),
                    this.addTabstopMarkers(i)
                }, this),
                o.length > 2 && (this.tabstops.length && o.push(o.splice(2, 1)[0]),
                this.tabstops.splice.apply(this.tabstops, o))
            }
            ,
            this.addTabstopMarkers = function(e) {
                var t = this.editor.session;
                e.forEach(function(e) {
                    e.markerId || (e.markerId = t.addMarker(e, "ace_snippet-marker", "text"))
                })
            }
            ,
            this.removeTabstopMarkers = function(e) {
                var t = this.editor.session;
                e.forEach(function(e) {
                    t.removeMarker(e.markerId),
                    e.markerId = null
                })
            }
            ,
            this.removeRange = function(e) {
                var t = e.tabstop.indexOf(e);
                e.tabstop.splice(t, 1),
                t = this.ranges.indexOf(e),
                this.ranges.splice(t, 1),
                this.editor.session.removeMarker(e.markerId),
                e.tabstop.length || (t = this.tabstops.indexOf(e.tabstop),
                -1 != t && this.tabstops.splice(t, 1),
                this.tabstops.length || this.detach())
            }
            ,
            this.keyboardHandler = new l,
            this.keyboardHandler.bindKeys({
                Tab: function(e) {
                    t.snippetManager && t.snippetManager.expandWithTab(e) || e.tabstopManager.tabNext(1)
                },
                "Shift-Tab": function(e) {
                    e.tabstopManager.tabNext(-1)
                },
                Esc: function(e) {
                    e.tabstopManager.detach()
                },
                Return: function(e) {
                    return !1
                }
            })
        }
        ).call(d.prototype);
        var f = {};
        f.onChange = a.prototype.onChange,
        f.setPosition = function(e, t) {
            this.pos.row = e,
            this.pos.column = t
        }
        ,
        f.update = function(e, t, n) {
            this.$insertRight = n,
            this.pos = e,
            this.onChange(t)
        }
        ;
        var g = function(e, t) {
            0 == e.row && (e.column += t.column),
            e.row += t.row
        }
          , p = function(e, t) {
            e.row == t.row && (e.column -= t.column),
            e.row -= t.row
        };
        e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),
        t.snippetManager = new h;
        var m = e("./editor").Editor;
        (function() {
            this.insertSnippet = function(e, n) {
                return t.snippetManager.insertSnippet(this, e, n)
            }
            ,
            this.expandSnippet = function(e) {
                return t.snippetManager.expandWithTab(this, e)
            }
        }
        ).call(m.prototype)
    }),
    ace.define("ace/autocomplete/popup", ["require", "exports", "module", "ace/virtual_renderer", "ace/editor", "ace/range", "ace/lib/event", "ace/lib/lang", "ace/lib/dom"], function(e, t, n) {
        "use strict";
        var i = e("../virtual_renderer").VirtualRenderer
          , r = e("../editor").Editor
          , o = e("../range").Range
          , s = e("../lib/event")
          , a = e("../lib/lang")
          , l = e("../lib/dom")
          , c = function(e) {
            var t = new i(e);
            t.$maxLines = 4;
            var n = new r(t);
            return n.setHighlightActiveLine(!1),
            n.setShowPrintMargin(!1),
            n.renderer.setShowGutter(!1),
            n.renderer.setHighlightGutterLine(!1),
            n.$mouseHandler.$focusWaitTimout = 0,
            n.$highlightTagPending = !0,
            n
        }
          , u = function(e) {
            var t = l.createElement("div")
              , n = new c(t);
            e && e.appendChild(t),
            t.style.display = "none",
            n.renderer.content.style.cursor = "default",
            n.renderer.setStyle("ace_autocomplete"),
            n.setOption("displayIndentGuides", !1),
            n.setOption("dragDelay", 150);
            var i = function() {};
            n.focus = i,
            n.$isFocused = !0,
            n.renderer.$cursorLayer.restartTimer = i,
            n.renderer.$cursorLayer.element.style.opacity = 0,
            n.renderer.$maxLines = 8,
            n.renderer.$keepTextAreaAtCursor = !1,
            n.setHighlightActiveLine(!1),
            n.session.highlight(""),
            n.session.$searchHighlight.clazz = "ace_highlight-marker",
            n.on("mousedown", function(e) {
                var t = e.getDocumentPosition();
                n.selection.moveToPosition(t),
                h.start.row = h.end.row = t.row,
                e.stop()
            });
            var r, u = new o(-1,0,-1,1 / 0), h = new o(-1,0,-1,1 / 0);
            h.id = n.session.addMarker(h, "ace_active-line", "fullLine"),
            n.setSelectOnHover = function(e) {
                e ? u.id && (n.session.removeMarker(u.id),
                u.id = null) : u.id = n.session.addMarker(u, "ace_line-hover", "fullLine")
            }
            ,
            n.setSelectOnHover(!1),
            n.on("mousemove", function(e) {
                if (!r)
                    return void (r = e);
                if (r.x != e.x || r.y != e.y) {
                    r = e,
                    r.scrollTop = n.renderer.scrollTop;
                    var t = r.getDocumentPosition().row;
                    u.start.row != t && (u.id || n.setRow(t),
                    f(t))
                }
            }),
            n.renderer.on("beforeRender", function() {
                if (r && -1 != u.start.row) {
                    r.$pos = null;
                    var e = r.getDocumentPosition().row;
                    u.id || n.setRow(e),
                    f(e, !0)
                }
            }),
            n.renderer.on("afterRender", function() {
                var e = n.getRow()
                  , t = n.renderer.$textLayer
                  , i = t.element.childNodes[e - t.config.firstRow];
                i != t.selectedNode && (t.selectedNode && l.removeCssClass(t.selectedNode, "ace_selected"),
                t.selectedNode = i,
                i && l.addCssClass(i, "ace_selected"))
            });
            var d = function() {
                f(-1)
            }
              , f = function(e, t) {
                e !== u.start.row && (u.start.row = u.end.row = e,
                t || n.session._emit("changeBackMarker"),
                n._emit("changeHoverMarker"))
            };
            n.getHoveredRow = function() {
                return u.start.row
            }
            ,
            s.addListener(n.container, "mouseout", d),
            n.on("hide", d),
            n.on("changeSelection", d),
            n.session.doc.getLength = function() {
                return n.data.length
            }
            ,
            n.session.doc.getLine = function(e) {
                var t = n.data[e];
                return "string" == typeof t ? t : t && t.value || ""
            }
            ;
            var g = n.session.bgTokenizer;
            return g.$tokenizeRow = function(e) {
                var t = n.data[e]
                  , i = [];
                if (!t)
                    return i;
                "string" == typeof t && (t = {
                    value: t
                }),
                t.caption || (t.caption = t.value || t.name);
                for (var r, o, s = -1, a = 0; a < t.caption.length; a++)
                    o = t.caption[a],
                    r = t.matchMask & 1 << a ? 1 : 0,
                    s !== r ? (i.push({
                        type: t.className || (r ? "completion-highlight" : ""),
                        value: o
                    }),
                    s = r) : i[i.length - 1].value += o;
                if (t.meta) {
                    var l = n.renderer.$size.scrollerWidth / n.renderer.layerConfig.characterWidth
                      , c = t.meta;
                    c.length + t.caption.length > l - 2 && (c = c.substr(0, l - t.caption.length - 3) + ""),
                    i.push({
                        type: "rightAlignedText",
                        value: c
                    })
                }
                return i
            }
            ,
            g.$updateOnChange = i,
            g.start = i,
            n.session.$computeWidth = function() {
                return this.screenWidth = 0
            }
            ,
            n.$blockScrolling = 1 / 0,
            n.isOpen = !1,
            n.isTopdown = !1,
            n.autoSelect = !0,
            n.data = [],
            n.setData = function(e) {
                n.setValue(a.stringRepeat("\n", e.length), -1),
                n.data = e || [],
                n.setRow(0)
            }
            ,
            n.getData = function(e) {
                return n.data[e]
            }
            ,
            n.getRow = function() {
                return h.start.row
            }
            ,
            n.setRow = function(e) {
                e = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, e)),
                h.start.row != e && (n.selection.clearSelection(),
                h.start.row = h.end.row = e || 0,
                n.session._emit("changeBackMarker"),
                n.moveCursorTo(e || 0, 0),
                n.isOpen && n._signal("select"))
            }
            ,
            n.on("changeSelection", function() {
                n.isOpen && n.setRow(n.selection.lead.row),
                n.renderer.scrollCursorIntoView()
            }),
            n.hide = function() {
                this.container.style.display = "none",
                this._signal("hide"),
                n.isOpen = !1
            }
            ,
            n.show = function(e, t, i) {
                var o = this.container
                  , s = window.innerHeight
                  , a = window.innerWidth
                  , l = this.renderer
                  , c = l.$maxLines * t * 1.4
                  , u = e.top + this.$borderSize;
                u > s / 2 && !i && u + t + c > s ? (l.$maxPixelHeight = u - 2 * this.$borderSize,
                o.style.top = "",
                o.style.bottom = s - u + "px",
                n.isTopdown = !1) : (u += t,
                l.$maxPixelHeight = s - u - .2 * t,
                o.style.top = u + "px",
                o.style.bottom = "",
                n.isTopdown = !0),
                o.style.display = "",
                this.renderer.$textLayer.checkForSizeChanges();
                var h = e.left;
                h + o.offsetWidth > a && (h = a - o.offsetWidth),
                o.style.left = h + "px",
                this._signal("show"),
                r = null,
                n.isOpen = !0
            }
            ,
            n.getTextLeftOffset = function() {
                return this.$borderSize + this.renderer.$padding + this.$imageSize
            }
            ,
            n.$imageSize = 0,
            n.$borderSize = 1,
            n
        };
        l.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),
        t.AcePopup = u
    }),
    ace.define("ace/autocomplete/util", ["require", "exports", "module"], function(e, t, n) {
        "use strict";
        t.parForEach = function(e, t, n) {
            var i = 0
              , r = e.length;
            0 === r && n();
            for (var o = 0; o < r; o++)
                t(e[o], function(e, t) {
                    ++i === r && n(e, t)
                })
        }
        ;
        var i = /[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;
        t.retrievePrecedingIdentifier = function(e, t, n) {
            n = n || i;
            for (var r = [], o = t - 1; o >= 0 && n.test(e[o]); o--)
                r.push(e[o]);
            return r.reverse().join("")
        }
        ,
        t.retrieveFollowingIdentifier = function(e, t, n) {
            n = n || i;
            for (var r = [], o = t; o < e.length && n.test(e[o]); o++)
                r.push(e[o]);
            return r
        }
        ,
        t.getCompletionPrefix = function(e) {
            var t, n = e.getCursorPosition(), i = e.session.getLine(n.row);
            return e.completers.forEach(function(e) {
                e.identifierRegexps && e.identifierRegexps.forEach(function(e) {
                    !t && e && (t = this.retrievePrecedingIdentifier(i, n.column, e))
                }
                .bind(this))
            }
            .bind(this)),
            t || this.retrievePrecedingIdentifier(i, n.column)
        }
    }),
    ace.define("ace/autocomplete", ["require", "exports", "module", "ace/keyboard/hash_handler", "ace/autocomplete/popup", "ace/autocomplete/util", "ace/lib/event", "ace/lib/lang", "ace/lib/dom", "ace/snippets"], function(e, t, n) {
        "use strict";
        var i = e("./keyboard/hash_handler").HashHandler
          , r = e("./autocomplete/popup").AcePopup
          , o = e("./autocomplete/util")
          , s = (e("./lib/event"),
        e("./lib/lang"))
          , a = e("./lib/dom")
          , l = e("./snippets").snippetManager
          , c = function() {
            this.autoInsert = !1,
            this.autoSelect = !0,
            this.exactMatch = !1,
            this.gatherCompletionsId = 0,
            this.keyboardHandler = new i,
            this.keyboardHandler.bindKeys(this.commands),
            this.blurListener = this.blurListener.bind(this),
            this.changeListener = this.changeListener.bind(this),
            this.mousedownListener = this.mousedownListener.bind(this),
            this.mousewheelListener = this.mousewheelListener.bind(this),
            this.changeTimer = s.delayedCall(function() {
                this.updateCompletions(!0)
            }
            .bind(this)),
            this.tooltipTimer = s.delayedCall(this.updateDocTooltip.bind(this), 50)
        };
        (function() {
            this.$init = function() {
                return this.popup = new r(document.body || document.documentElement),
                this.popup.on("click", function(e) {
                    this.insertMatch(),
                    e.stop()
                }
                .bind(this)),
                this.popup.focus = this.editor.focus.bind(this.editor),
                this.popup.on("show", this.tooltipTimer.bind(null, null)),
                this.popup.on("select", this.tooltipTimer.bind(null, null)),
                this.popup.on("changeHoverMarker", this.tooltipTimer.bind(null, null)),
                this.popup
            }
            ,
            this.getPopup = function() {
                return this.popup || this.$init()
            }
            ,
            this.openPopup = function(e, t, n) {
                this.popup || this.$init(),
                this.popup.autoSelect = this.autoSelect,
                this.popup.setData(this.completions.filtered),
                e.keyBinding.addKeyboardHandler(this.keyboardHandler);
                var i = e.renderer;
                if (this.popup.setRow(this.autoSelect ? 0 : -1),
                n)
                    n && !t && this.detach();
                else {
                    this.popup.setTheme(e.getTheme()),
                    this.popup.setFontSize(e.getFontSize());
                    var r = i.layerConfig.lineHeight
                      , o = i.$cursorLayer.getPixelPosition(this.base, !0);
                    o.left -= this.popup.getTextLeftOffset();
                    var s = e.container.getBoundingClientRect();
                    o.top += s.top - i.layerConfig.offset,
                    o.left += s.left - e.renderer.scrollLeft,
                    o.left += i.gutterWidth,
                    this.popup.show(o, r)
                }
            }
            ,
            this.detach = function() {
                this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),
                this.editor.off("changeSelection", this.changeListener),
                this.editor.off("blur", this.blurListener),
                this.editor.off("mousedown", this.mousedownListener),
                this.editor.off("mousewheel", this.mousewheelListener),
                this.changeTimer.cancel(),
                this.hideDocTooltip(),
                this.gatherCompletionsId += 1,
                this.popup && this.popup.isOpen && this.popup.hide(),
                this.base && this.base.detach(),
                this.activated = !1,
                this.completions = this.base = null
            }
            ,
            this.changeListener = function(e) {
                var t = this.editor.selection.lead;
                (t.row != this.base.row || t.column < this.base.column) && this.detach(),
                this.activated ? this.changeTimer.schedule() : this.detach()
            }
            ,
            this.blurListener = function(e) {
                var t = document.activeElement
                  , n = this.editor.textInput.getElement()
                  , i = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget)
                  , r = this.popup && this.popup.container;
                t == n || t.parentNode == r || i || t == this.tooltipNode || e.relatedTarget == n || this.detach()
            }
            ,
            this.mousedownListener = function(e) {
                this.detach()
            }
            ,
            this.mousewheelListener = function(e) {
                this.detach()
            }
            ,
            this.goTo = function(e) {
                var t = this.popup.getRow()
                  , n = this.popup.session.getLength() - 1;
                switch (e) {
                case "up":
                    t = t <= 0 ? n : t - 1;
                    break;
                case "down":
                    t = t >= n ? -1 : t + 1;
                    break;
                case "start":
                    t = 0;
                    break;
                case "end":
                    t = n
                }
                this.popup.setRow(t)
            }
            ,
            this.insertMatch = function(e, t) {
                if (e || (e = this.popup.getData(this.popup.getRow())),
                !e)
                    return !1;
                if (e.completer && e.completer.insertMatch)
                    e.completer.insertMatch(this.editor, e);
                else {
                    if (this.completions.filterText)
                        for (var n, i = this.editor.selection.getAllRanges(), r = 0; n = i[r]; r++)
                            n.start.column -= this.completions.filterText.length,
                            this.editor.session.remove(n);
                    e.snippet ? l.insertSnippet(this.editor, e.snippet) : this.editor.execCommand("insertstring", e.value || e)
                }
                this.detach()
            }
            ,
            this.commands = {
                Up: function(e) {
                    e.completer.goTo("up")
                },
                Down: function(e) {
                    e.completer.goTo("down")
                },
                "Ctrl-Up|Ctrl-Home": function(e) {
                    e.completer.goTo("start")
                },
                "Ctrl-Down|Ctrl-End": function(e) {
                    e.completer.goTo("end")
                },
                Esc: function(e) {
                    e.completer.detach()
                },
                Return: function(e) {
                    return e.completer.insertMatch()
                },
                "Shift-Return": function(e) {
                    e.completer.insertMatch(null, {
                        deleteSuffix: !0
                    })
                },
                Tab: function(e) {
                    var t = e.completer.insertMatch();
                    if (t || e.tabstopManager)
                        return t;
                    e.completer.goTo("down")
                },
                PageUp: function(e) {
                    e.completer.popup.gotoPageUp()
                },
                PageDown: function(e) {
                    e.completer.popup.gotoPageDown()
                }
            },
            this.gatherCompletions = function(e, t) {
                var n = e.getSession()
                  , i = e.getCursorPosition()
                  , r = o.getCompletionPrefix(e);
                this.base = n.doc.createAnchor(i.row, i.column - r.length),
                this.base.$insertRight = !0;
                var s = []
                  , a = e.completers.length;
                return e.completers.forEach(function(l, c) {
                    l.getCompletions(e, n, i, r, function(n, i) {
                        !n && i && (s = s.concat(i)),
                        t(null, {
                            prefix: o.getCompletionPrefix(e),
                            matches: s,
                            finished: 0 == --a
                        })
                    })
                }),
                !0
            }
            ,
            this.showPopup = function(e) {
                this.editor && this.detach(),
                this.activated = !0,
                this.editor = e,
                e.completer != this && (e.completer && e.completer.detach(),
                e.completer = this),
                e.on("changeSelection", this.changeListener),
                e.on("blur", this.blurListener),
                e.on("mousedown", this.mousedownListener),
                e.on("mousewheel", this.mousewheelListener),
                this.updateCompletions()
            }
            ,
            this.updateCompletions = function(e) {
                if (e && this.base && this.completions) {
                    var t = this.editor.getCursorPosition()
                      , n = this.editor.session.getTextRange({
                        start: this.base,
                        end: t
                    });
                    if (n == this.completions.filterText)
                        return;
                    return this.completions.setFilter(n),
                    this.completions.filtered.length ? 1 != this.completions.filtered.length || this.completions.filtered[0].value != n || this.completions.filtered[0].snippet ? void this.openPopup(this.editor, n, e) : this.detach() : this.detach()
                }
                var i = this.gatherCompletionsId;
                this.gatherCompletions(this.editor, function(t, n) {
                    var r = function() {
                        if (n.finished)
                            return this.detach()
                    }
                    .bind(this)
                      , o = n.prefix
                      , s = n && n.matches;
                    if (!s || !s.length)
                        return r();
                    if (0 === o.indexOf(n.prefix) && i == this.gatherCompletionsId) {
                        this.completions = new u(s),
                        this.exactMatch && (this.completions.exactMatch = !0),
                        this.completions.setFilter(o);
                        var a = this.completions.filtered;
                        return a.length && (1 != a.length || a[0].value != o || a[0].snippet) ? this.autoInsert && 1 == a.length && n.finished ? this.insertMatch(a[0]) : void this.openPopup(this.editor, o, e) : r()
                    }
                }
                .bind(this))
            }
            ,
            this.cancelContextMenu = function() {
                this.editor.$mouseHandler.cancelContextMenu()
            }
            ,
            this.updateDocTooltip = function() {
                var e = this.popup
                  , t = e.data
                  , n = t && (t[e.getHoveredRow()] || t[e.getRow()])
                  , i = null;
                return n && this.editor && this.popup.isOpen ? (this.editor.completers.some(function(e) {
                    return e.getDocTooltip && (i = e.getDocTooltip(n)),
                    i
                }),
                i || (i = n),
                "string" == typeof i && (i = {
                    docText: i
                }),
                i && (i.docHTML || i.docText) ? void this.showDocTooltip(i) : this.hideDocTooltip()) : this.hideDocTooltip()
            }
            ,
            this.showDocTooltip = function(e) {
                this.tooltipNode || (this.tooltipNode = a.createElement("div"),
                this.tooltipNode.className = "ace_tooltip ace_doc-tooltip",
                this.tooltipNode.style.margin = 0,
                this.tooltipNode.style.pointerEvents = "auto",
                this.tooltipNode.tabIndex = -1,
                this.tooltipNode.onblur = this.blurListener.bind(this),
                this.tooltipNode.onclick = this.onTooltipClick.bind(this));
                var t = this.tooltipNode;
                e.docHTML ? t.innerHTML = e.docHTML : e.docText && (t.textContent = e.docText),
                t.parentNode || document.body.appendChild(t);
                var n = this.popup
                  , i = n.container.getBoundingClientRect();
                t.style.top = n.container.style.top,
                t.style.bottom = n.container.style.bottom,
                window.innerWidth - i.right < 320 ? (t.style.right = window.innerWidth - i.left + "px",
                t.style.left = "") : (t.style.left = i.right + 1 + "px",
                t.style.right = ""),
                t.style.display = "block"
            }
            ,
            this.hideDocTooltip = function() {
                if (this.tooltipTimer.cancel(),
                this.tooltipNode) {
                    var e = this.tooltipNode;
                    this.editor.isFocused() || document.activeElement != e || this.editor.focus(),
                    this.tooltipNode = null,
                    e.parentNode && e.parentNode.removeChild(e)
                }
            }
            ,
            this.onTooltipClick = function(e) {
                for (var t = e.target; t && t != this.tooltipNode; ) {
                    if ("A" == t.nodeName && t.href) {
                        t.rel = "noreferrer",
                        t.target = "_blank";
                        break
                    }
                    t = t.parentNode
                }
            }
        }
        ).call(c.prototype),
        c.startCommand = {
            name: "startAutocomplete",
            exec: function(e) {
                e.completer || (e.completer = new c),
                e.completer.autoInsert = !1,
                e.completer.autoSelect = !0,
                e.completer.showPopup(e),
                e.completer.cancelContextMenu()
            },
            bindKey: "Ctrl-Space|Ctrl-Shift-Space|Alt-Space"
        };
        var u = function(e, t) {
            this.all = e,
            this.filtered = e,
            this.filterText = t || "",
            this.exactMatch = !1
        };
        (function() {
            this.setFilter = function(e) {
                if (e.length > this.filterText && 0 === e.lastIndexOf(this.filterText, 0))
                    var t = this.filtered;
                else
                    var t = this.all;
                this.filterText = e,
                t = this.filterCompletions(t, this.filterText),
                t = t.sort(function(e, t) {
                    return t.exactMatch - e.exactMatch || t.score - e.score
                });
                var n = null;
                t = t.filter(function(e) {
                    var t = e.snippet || e.caption || e.value;
                    return t !== n && (n = t,
                    !0)
                }),
                this.filtered = t
            }
            ,
            this.filterCompletions = function(e, t) {
                var n = []
                  , i = t.toUpperCase()
                  , r = t.toLowerCase();
                e: for (var o, s = 0; o = e[s]; s++) {
                    var a = o.value || o.caption || o.snippet;
                    if (a) {
                        var l, c, u = -1, h = 0, d = 0;
                        if (this.exactMatch) {
                            if (t !== a.substr(0, t.length))
                                continue e
                        } else
                            for (var f = 0; f < t.length; f++) {
                                var g = a.indexOf(r[f], u + 1)
                                  , p = a.indexOf(i[f], u + 1);
                                if ((l = g >= 0 && (p < 0 || g < p) ? g : p) < 0)
                                    continue e;
                                c = l - u - 1,
                                c > 0 && (-1 === u && (d += 10),
                                d += c),
                                h |= 1 << l,
                                u = l
                            }
                        o.matchMask = h,
                        o.exactMatch = d ? 0 : 1,
                        o.score = (o.score || 0) - d,
                        n.push(o)
                    }
                }
                return n
            }
        }
        ).call(u.prototype),
        t.Autocomplete = c,
        t.FilteredList = u
    }),
    ace.define("ace/autocomplete/text_completer", ["require", "exports", "module", "ace/range"], function(e, t, n) {
        function i(e, t) {
            return e.getTextRange(o.fromPoints({
                row: 0,
                column: 0
            }, t)).split(s).length - 1
        }
        function r(e, t) {
            var n = i(e, t)
              , r = e.getValue().split(s)
              , o = Object.create(null)
              , a = r[n];
            return r.forEach(function(e, t) {
                if (e && e !== a) {
                    var i = Math.abs(n - t)
                      , s = r.length - i;
                    o[e] ? o[e] = Math.max(s, o[e]) : o[e] = s
                }
            }),
            o
        }
        var o = e("../range").Range
          , s = /[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;
        t.getCompletions = function(e, t, n, i, o) {
            var s = r(t, n);
            o(null, Object.keys(s).map(function(e) {
                return {
                    caption: e,
                    value: e,
                    score: s[e],
                    meta: "local"
                }
            }))
        }
    }),
    ace.define("ace/ext/language_tools", ["require", "exports", "module", "ace/snippets", "ace/autocomplete", "ace/config", "ace/lib/lang", "ace/autocomplete/util", "ace/autocomplete/text_completer", "ace/editor", "ace/config"], function(e, t, n) {
        "use strict";
        var i = e("../snippets").snippetManager
          , r = e("../autocomplete").Autocomplete
          , o = e("../config")
          , s = e("../lib/lang")
          , a = e("../autocomplete/util")
          , l = e("../autocomplete/text_completer")
          , c = {
            getCompletions: function(e, t, n, i, r) {
                if (t.$mode.completer)
                    return t.$mode.completer.getCompletions(e, t, n, i, r);
                var o = e.session.getState(n.row);
                r(null, t.$mode.getCompletions(o, t, n, i))
            }
        }
          , u = {
            getCompletions: function(e, t, n, r, o) {
                var s = i.snippetMap
                  , a = [];
                i.getActiveScopes(e).forEach(function(e) {
                    for (var t = s[e] || [], n = t.length; n--; ) {
                        var i = t[n]
                          , r = i.name || i.tabTrigger;
                        r && a.push({
                            caption: r,
                            snippet: i.content,
                            meta: i.tabTrigger && !i.name ? i.tabTrigger + " " : "snippet",
                            type: "snippet"
                        })
                    }
                }, this),
                o(null, a)
            },
            getDocTooltip: function(e) {
                "snippet" != e.type || e.docHTML || (e.docHTML = ["<b>", s.escapeHTML(e.caption), "</b>", "<hr></hr>", s.escapeHTML(e.snippet)].join(""))
            }
        }
          , h = [u, l, c];
        t.setCompleters = function(e) {
            h.length = 0,
            e && h.push.apply(h, e)
        }
        ,
        t.addCompleter = function(e) {
            h.push(e)
        }
        ,
        t.textCompleter = l,
        t.keyWordCompleter = c,
        t.snippetCompleter = u;
        var d = {
            name: "expandSnippet",
            exec: function(e) {
                return i.expandWithTab(e)
            },
            bindKey: "Tab"
        }
          , f = function(e, t) {
            g(t.session.$mode)
        }
          , g = function(e) {
            var t = e.$id;
            i.files || (i.files = {}),
            p(t),
            e.modes && e.modes.forEach(g)
        }
          , p = function(e) {
            if (e && !i.files[e]) {
                var t = e.replace("mode", "snippets");
                i.files[e] = {},
                o.loadModule(t, function(t) {
                    t && (i.files[e] = t,
                    !t.snippets && t.snippetText && (t.snippets = i.parseSnippetFile(t.snippetText)),
                    i.register(t.snippets || [], t.scope),
                    t.includeScopes && (i.snippetMap[t.scope].includeScopes = t.includeScopes,
                    t.includeScopes.forEach(function(e) {
                        p("ace/mode/" + e)
                    })))
                })
            }
        }
          , m = function(e) {
            var t = e.editor
              , n = t.completer && t.completer.activated;
            if ("backspace" === e.command.name)
                n && !a.getCompletionPrefix(t) && t.completer.detach();
            else if ("insertstring" === e.command.name) {
                var i = a.getCompletionPrefix(t);
                i && !n && (t.completer || (t.completer = new r),
                t.completer.autoInsert = !1,
                t.completer.showPopup(t))
            }
        }
          , v = e("../editor").Editor;
        e("../config").defineOptions(v.prototype, "editor", {
            enableBasicAutocompletion: {
                set: function(e) {
                    e ? (this.completers || (this.completers = Array.isArray(e) ? e : h),
                    this.commands.addCommand(r.startCommand)) : this.commands.removeCommand(r.startCommand)
                },
                value: !1
            },
            enableLiveAutocompletion: {
                set: function(e) {
                    e ? (this.completers || (this.completers = Array.isArray(e) ? e : h),
                    this.commands.on("afterExec", m)) : this.commands.removeListener("afterExec", m)
                },
                value: !1
            },
            enableSnippets: {
                set: function(e) {
                    e ? (this.commands.addCommand(d),
                    this.on("changeMode", f),
                    f(0, this)) : (this.commands.removeCommand(d),
                    this.off("changeMode", f))
                },
                value: !1
            }
        })
    }),
    function() {
        ace.acequire(["ace/ext/language_tools"], function() {})
    }()
}
, function(e, t) {
    ace.define("ace/mode/pddl_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(e, t, n) {
        "use strict";
        var i = e("../lib/oop")
          , r = e("./text_highlight_rules").TextHighlightRules
          , o = function() {
            this.$rules = {
                start: [{
                    include: "#problem"
                }, {
                    include: "#domain"
                }, {
                    include: "#comment"
                }],
                "#action": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:action)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#action-name"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#typed-variable-list"
                    }, {
                        include: "#variable"
                    }, {
                        include: "#action-keyword"
                    }, {
                        include: "#built-in-var"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Action"
                }],
                "#action-keyword": [{
                    token: "keyword.operator.pddl",
                    regex: /:(?:parameters|vars|precondition|effect)(?!:|\?)\b/,
                    caseInsensitive: !0
                }],
                "#action-name": [{
                    token: "string.unquoted.action.pddl",
                    regex: /(?:^|\s+)[a-zA-Z](?:\w|-|_)*(?!:|\?)\b/
                }],
                "#any-sexpr": [{
                    token: "text",
                    regex: /\(/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#any-sexpr-other"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        token: "text",
                        regex: /(?:\s)*/
                    }]
                }],
                "#any-sexpr-other": [{
                    token: "text",
                    regex: /\(/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        token: "text",
                        regex: /(?:\s)*/
                    }]
                }],
                "#applied-predicate": [{
                    token: ["text", "storage.type.pddl"],
                    regex: /(\(\s*)(=|(?:\w|-)+)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#variable"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#applied-predicate-other"
                    }]
                }],
                "#applied-predicate-other": [{
                    token: ["text", "storage.type.pddl"],
                    regex: /(\(\s*)((?:\w|-)+)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#variable"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#comment"
                    }]
                }],
                "#built-in-var": [{
                    token: "variable.language.pddl",
                    regex: /\?duration/
                }],
                "#comment": [{
                    token: "comment.line.semicolon.pddl",
                    regex: /;.*/,
                    comment: "Comments beginning with ';'"
                }],
                "#connected-predicate": [{
                    token: ["meta.type.pddl", "string.unquoted.pddl", "meta.type.pddl"],
                    regex: /(\()(and|or|oneof|eq|neq|not|\>\=|\<\=|\<|\>|assign|increase|decrease|scale-up|scale-down|forall|exists|imply|when|\+|-|\*|\/)(\s*)/,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#times"
                    }, {
                        include: "#typed-variable-list"
                    }, {
                        include: "#connected-predicate-other"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#variable"
                    }, {
                        include: "#number"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Predicates that are connected via and, or, etc."
                }],
                "#connected-predicate-other": [{
                    token: ["text", "string.unquoted.pddl", "text"],
                    regex: /(\()(and|or|oneof|eq|neq|not|\>\=|\<\=|\<|\>|assign|increase|decrease|scale-up|scale-down|forall|exists|imply|when|\+|-|\*|\/)(\s*)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#times"
                    }, {
                        include: "#typed-variable-list"
                    }, {
                        include: "#variable"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#number"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#any-sexpr"
                    }],
                    comment: "Predicates that are connected via and, or, etc."
                }],
                "#constants": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:constants)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        token: ["entity.name.function.pddl", "entity.name.tag.pddl"],
                        regex: /(-)(?:^|\s+)([a-zA-Z](?:\w|-|_)*)/
                    }, {
                        include: "#either"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Constants"
                }],
                "#derived": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:derived)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#predicate"
                    }, {
                        include: "#variable-list"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Derived Predicate"
                }],
                "#domain": [{
                    token: ["meta.function.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(define)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.function.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#domain-name-in-define"
                    }, {
                        include: "#requirement"
                    }, {
                        include: "#types"
                    }, {
                        include: "#constants"
                    }, {
                        include: "#predicates"
                    }, {
                        include: "#derived"
                    }, {
                        include: "#new-functions"
                    }, {
                        include: "#action"
                    }, {
                        include: "#durative-action"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.function.pddl"
                    }],
                    comment: "domain definition "
                }],
                "#domain-name-in-define": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(domain)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        token: "invalid.illegal.pddl",
                        regex: /(?:\s+(?:\w|-)+){2,}/
                    }, {
                        include: "#pddl-expr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Domain name in problem file"
                }],
                "#domain-name-in-problem": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:domain)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        token: "invalid.illegal.pddl",
                        regex: /(?:\s+(?:\w|-)+){2,}/
                    }, {
                        include: "#pddl-expr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Domain name in problem file"
                }],
                "#durative-action": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:durative-action)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#typed-variable-list"
                    }, {
                        include: "#variable"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#durative-action-keyword"
                    }, {
                        include: "#built-in-var"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Durative Action"
                }],
                "#durative-action-keyword": [{
                    token: "keyword.operator.pddl",
                    regex: /:(?:parameters|vars|duration|condition|effect)(?!:|\?)\b/,
                    caseInsensitive: !0
                }],
                "#either": [{
                    token: ["constant.character.pddl", "text", "storage.type.pddl"],
                    regex: /(-)(\s+\()(either)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#comment"
                    }]
                }],
                "#error": [{
                    token: ["text", "invalid.illegal.pddl", "text"],
                    regex: /(\s*)((?:\w+|\?|_|-|\.))(\s*)/
                }],
                "#function": [{
                    token: ["text", "storage.type.pddl"],
                    regex: /(\(\s*)((?:\w|-)+)/,
                    push: [{
                        token: ["text", "storage.type.pddl"],
                        regex: /(\)\s+-\s+)((?:\w|-)+)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#variable"
                    }, {
                        token: ["meta.name.function.pddl", "entity.name.function.pddl"],
                        regex: /(-\s+)((?:\w|-)+)/
                    }]
                }],
                "#function-keyword": [{
                    token: "support.function.pddl",
                    regex: /assign|scale-up|scale-down|increase|decrease/,
                    comment: "Function keywords that can be used in the effect of an action"
                }],
                "#function-with-either": [{
                    token: ["text", "storage.type.pddl"],
                    regex: /(\()(\w+)/,
                    push: [{
                        token: ["text", "storage.type.pddl", "text"],
                        regex: /(\)\s+-\s+)((?:\w|-)+)|(\))/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#variable"
                    }, {
                        token: ["meta.name.function.pddl", "entity.name.function.pddl"],
                        regex: /(-\s+)((?:\w|-)+)/
                    }]
                }],
                "#functions": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:functions)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#function"
                    }, {
                        token: ["text", "entity.name.function.pddl"],
                        regex: /(\()(either)/,
                        push: [{
                            token: "text",
                            regex: /\)/,
                            next: "pop"
                        }, {
                            include: "#pddl-expr"
                        }]
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Functions"
                }],
                "#goal": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:goal)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Goal"
                }],
                "#init-predicate": [{
                    token: ["text", "storage.type.pddl"],
                    regex: /(\(\s*)((?:\w|-)+)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#number"
                    }, {
                        include: "#init-predicate-other"
                    }]
                }],
                "#init-predicate-other": [{
                    token: ["text", "storage.type.pddl"],
                    regex: /(\(\s*)((?:\w|-)+)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#number"
                    }, {
                        include: "#init-predicate"
                    }, {
                        include: "#comment"
                    }]
                }],
                "#inits": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:init)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#init-predicate"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Initalized predicates"
                }],
                "#metric": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:metric)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#optimization"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#number"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Metric"
                }],
                "#new-functions": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:functions)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#either"
                    }, {
                        include: "#predicate"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Functions"
                }],
                "#number": [{
                    token: "constant.numeric.pddl",
                    regex: /\b\d*\.?\d*\b/,
                    comment: "Numeric values"
                }],
                "#objects": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:objects)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        token: "entity.name.tag.pddl",
                        regex: /(-)(?:^|\s+)([a-zA-Z](?:\w|-|_)*)/
                    }, {
                        include: "#either"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Objects"
                }],
                "#optimization": [{
                    token: "keyword.other.pddl",
                    regex: /minimize|maximize/
                }],
                "#pddl-expr": [{
                    token: "string.unquoted.pddl",
                    regex: /(?:^|\s+)[a-zA-Z](?:\w|-|_)*(?!:|\?)\b/
                }],
                "#precondition": [{
                    token: "entity.name.function.pddl",
                    regex: /:precondition\s*/,
                    push: [{
                        token: "entity.name.function.pddl",
                        regex: /\b/,
                        next: "pop"
                    }, {
                        defaultToken: "entity.name.function.pddl"
                    }]
                }],
                "#predicate": [{
                    token: ["text", "storage.type.pddl"],
                    regex: /(\(\s*)((?:\w|-)+)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#variable"
                    }, {
                        include: "#either"
                    }, {
                        token: "constant.character.pddl",
                        regex: /(-)(?:^|\s+)([a-zA-Z](?:\w|-|_)*)/
                    }]
                }],
                "#predicates": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:predicates)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#predicate"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Predicates"
                }],
                "#problem": [{
                    token: ["meta.function.pddl", "storage.type.function-type.pddl"],
                    regex: /(\(\s*)(define)\b(?!\s+\(domain)/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.function.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#problem-name-in-define"
                    }, {
                        include: "#domain-name-in-problem"
                    }, {
                        include: "#requirement"
                    }, {
                        include: "#inits"
                    }, {
                        include: "#objects"
                    }, {
                        include: "#goal"
                    }, {
                        include: "#metric"
                    }, {
                        defaultToken: "meta.function.pddl"
                    }],
                    comment: "problem definition"
                }],
                "#problem-name-in-define": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(problem)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        token: "invalid.illegal.pddl",
                        regex: /(?:\s+(?:\w|-)+){2,}/
                    }, {
                        include: "#pddl-expr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Domain name in problem file"
                }],
                "#requirement": [{
                    token: ["meta.type.requirement.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:requirements)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.requirement.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        token: "keyword.other.pddl",
                        regex: /:(?:strips|typing|negative-preconditions|disjunctive-preconditions|equality|existential-preconditions|universal-preconditions|quantified-preconditions|conditional-effects|fluents|numeric-fluents|object-fluents|adl|durative-actions|duration-inequalities|continuous-effects|derived-predicates|timed-initial-literals|preferences|constraints|action-costs)\b/,
                        caseInsensitive: !0
                    }, {
                        defaultToken: "meta.type.requirement.pddl"
                    }],
                    comment: "Requirement"
                }],
                "#times": [{
                    token: ["text", "entity.name.function.pddl", "text"],
                    regex: /(\()(forall|at\s+(?:start|end)|over(?:\s+all)?)(\s*)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#connected-predicate"
                    }, {
                        include: "#applied-predicate"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#any-sexpr"
                    }]
                }],
                "#typed-variable-list": [{
                    token: ["text", "keyword.other.pddl"],
                    regex: /(\()(\?(?:\w|-|_)+)/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#variable"
                    }, {
                        token: "constant.character.pddl",
                        regex: /(-)(?:^|\s+)([a-zA-Z](?:\w|-|_)*)(?!:|\?)\b/
                    }]
                }],
                "#types": [{
                    token: ["meta.type.pddl", "storage.type.pddl"],
                    regex: /(\(\s*)(:types)\b/,
                    caseInsensitive: !0,
                    push: [{
                        token: "meta.type.pddl",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        token: "constant.character.pddl",
                        regex: /(-)(?:^|\s+)([a-zA-Z](?:\w|-|_)*)/
                    }, {
                        include: "#either"
                    }, {
                        include: "#pddl-expr"
                    }, {
                        include: "#any-sexpr"
                    }, {
                        defaultToken: "meta.type.pddl"
                    }],
                    comment: "Types"
                }],
                "#variable": [{
                    token: "keyword.other.pddl",
                    regex: /(?:^|\s+)\?[a-zA-Z](?:\w|-|_)*/
                }],
                "#variable-list": [{
                    token: "text",
                    regex: /\(/,
                    push: [{
                        token: "text",
                        regex: /\)/,
                        next: "pop"
                    }, {
                        include: "#comment"
                    }, {
                        include: "#variable"
                    }]
                }]
            },
            this.normalizeRules()
        };
        o.metaData = {
            fileTypes: ["pddl"],
            name: "PDDL",
            scopeName: "source.pddl"
        },
        i.inherits(o, r);
        var s = function() {
            this.$rules = {
                start: [{
                    token: "variable.other",
                    regex: "\\?([A-Za-z0-9]|-|_)+"
                }, {
                    token: "constant.numeric",
                    regex: "\\b((0(x|X)[0-9a-fA-F]*)|(([0-9]+\\.?[0-9]*)|(\\.[0-9]+))((e|E)(\\+|-)?[0-9]+)?)(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"
                }, {
                    token: "keyword.other",
                    regex: ":(strips|typing|negative-preconditions|disjunctive-preconditions|equality|existential-preconditions|universal-preconditions|quantified-preconditions|conditional-effects|fluents|numeric-fluents|object-fluents|adl|durative-actions|duration-inequalities|continuous-effects|derived-predicates|timed-initial-literals|preferences|constraints|action-costs)"
                }, {
                    caseInsensitive: !0,
                    token: "storage.type",
                    regex: ":(requirements|types|constants|predicates|functions|action|init|goal|objects|domain)"
                }, {
                    token: "support.function",
                    regex: "(assign|scale-up|scale-down|increase|decrease)"
                }, {
                    token: "constant.language",
                    regex: "\\b(start|end|all|define)\\b"
                }, {
                    caseInsensitive: !0,
                    token: "keyword.operator",
                    regex: "\\b(?:eq|neq|when|and|oneof|or)\\b"
                }, {
                    caseInsensitive: !0,
                    token: "keyword.operator",
                    regex: ":(parameters|duration|condition|effect|precondition)"
                }, {
                    token: "comment",
                    regex: ";.*$"
                }]
            },
            this.normalizeRules()
        };
        s.metaData = {
            fileTypes: ["pddl"],
            name: "PDDL",
            scopeName: "source.pddl"
        },
        i.inherits(s, r),
        t.PDDLHighlightRules = o
    }),
    ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(e, t, n) {
        "use strict";
        var i = e("../range").Range
          , r = function() {};
        (function() {
            this.checkOutdent = function(e, t) {
                return !!/^\s+$/.test(e) && /^\s*\}/.test(t)
            }
            ,
            this.autoOutdent = function(e, t) {
                var n = e.getLine(t)
                  , r = n.match(/^(\s*\})/);
                if (!r)
                    return 0;
                var o = r[1].length
                  , s = e.findMatchingBracket({
                    row: t,
                    column: o
                });
                if (!s || s.row == t)
                    return 0;
                var a = this.$getIndent(e.getLine(s.row));
                e.replace(new i(t,0,t,o - 1), a)
            }
            ,
            this.$getIndent = function(e) {
                return e.match(/^\s*/)[0]
            }
        }
        ).call(r.prototype),
        t.MatchingBraceOutdent = r
    }),
    ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(e, t, n) {
        "use strict";
        var i, r = e("../../lib/oop"), o = e("../behaviour").Behaviour, s = e("../../token_iterator").TokenIterator, a = e("../../lib/lang"), l = ["text", "paren.rparen", "punctuation.operator"], c = ["text", "paren.rparen", "punctuation.operator", "comment"], u = {}, h = function(e) {
            var t = -1;
            if (e.multiSelect && (t = e.selection.index,
            u.rangeCount != e.multiSelect.rangeCount && (u = {
                rangeCount: e.multiSelect.rangeCount
            })),
            u[t])
                return i = u[t];
            i = u[t] = {
                autoInsertedBrackets: 0,
                autoInsertedRow: -1,
                autoInsertedLineEnd: "",
                maybeInsertedBrackets: 0,
                maybeInsertedRow: -1,
                maybeInsertedLineStart: "",
                maybeInsertedLineEnd: ""
            }
        }, d = function(e, t, n, i) {
            var r = e.end.row - e.start.row;
            return {
                text: n + t + i,
                selection: [0, e.start.column + 1, r, e.end.column + (r ? 0 : 1)]
            }
        }, f = function() {
            this.add("braces", "insertion", function(e, t, n, r, o) {
                var s = n.getCursorPosition()
                  , l = r.doc.getLine(s.row);
                if ("{" == o) {
                    h(n);
                    var c = n.getSelectionRange()
                      , u = r.doc.getTextRange(c);
                    if ("" !== u && "{" !== u && n.getWrapBehavioursEnabled())
                        return d(c, u, "{", "}");
                    if (f.isSaneInsertion(n, r))
                        return /[\]\}\)]/.test(l[s.column]) || n.inMultiSelectMode ? (f.recordAutoInsert(n, r, "}"),
                        {
                            text: "{}",
                            selection: [1, 1]
                        }) : (f.recordMaybeInsert(n, r, "{"),
                        {
                            text: "{",
                            selection: [1, 1]
                        })
                } else if ("}" == o) {
                    h(n);
                    var g = l.substring(s.column, s.column + 1);
                    if ("}" == g) {
                        var p = r.$findOpeningBracket("}", {
                            column: s.column + 1,
                            row: s.row
                        });
                        if (null !== p && f.isAutoInsertedClosing(s, l, o))
                            return f.popAutoInsertedClosing(),
                            {
                                text: "",
                                selection: [1, 1]
                            }
                    }
                } else {
                    if ("\n" == o || "\r\n" == o) {
                        h(n);
                        var m = "";
                        f.isMaybeInsertedClosing(s, l) && (m = a.stringRepeat("}", i.maybeInsertedBrackets),
                        f.clearMaybeInsertedClosing());
                        var g = l.substring(s.column, s.column + 1);
                        if ("}" === g) {
                            var v = r.findMatchingBracket({
                                row: s.row,
                                column: s.column + 1
                            }, "}");
                            if (!v)
                                return null;
                            var A = this.$getIndent(r.getLine(v.row))
                        } else {
                            if (!m)
                                return void f.clearMaybeInsertedClosing();
                            var A = this.$getIndent(l)
                        }
                        var w = A + r.getTabString();
                        return {
                            text: "\n" + w + "\n" + A + m,
                            selection: [1, w.length, 1, w.length]
                        }
                    }
                    f.clearMaybeInsertedClosing()
                }
            }),
            this.add("braces", "deletion", function(e, t, n, r, o) {
                var s = r.doc.getTextRange(o);
                if (!o.isMultiLine() && "{" == s) {
                    h(n);
                    if ("}" == r.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1))
                        return o.end.column++,
                        o;
                    i.maybeInsertedBrackets--
                }
            }),
            this.add("parens", "insertion", function(e, t, n, i, r) {
                if ("(" == r) {
                    h(n);
                    var o = n.getSelectionRange()
                      , s = i.doc.getTextRange(o);
                    if ("" !== s && n.getWrapBehavioursEnabled())
                        return d(o, s, "(", ")");
                    if (f.isSaneInsertion(n, i))
                        return f.recordAutoInsert(n, i, ")"),
                        {
                            text: "()",
                            selection: [1, 1]
                        }
                } else if (")" == r) {
                    h(n);
                    var a = n.getCursorPosition()
                      , l = i.doc.getLine(a.row)
                      , c = l.substring(a.column, a.column + 1);
                    if (")" == c) {
                        var u = i.$findOpeningBracket(")", {
                            column: a.column + 1,
                            row: a.row
                        });
                        if (null !== u && f.isAutoInsertedClosing(a, l, r))
                            return f.popAutoInsertedClosing(),
                            {
                                text: "",
                                selection: [1, 1]
                            }
                    }
                }
            }),
            this.add("parens", "deletion", function(e, t, n, i, r) {
                var o = i.doc.getTextRange(r);
                if (!r.isMultiLine() && "(" == o) {
                    h(n);
                    if (")" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))
                        return r.end.column++,
                        r
                }
            }),
            this.add("brackets", "insertion", function(e, t, n, i, r) {
                if ("[" == r) {
                    h(n);
                    var o = n.getSelectionRange()
                      , s = i.doc.getTextRange(o);
                    if ("" !== s && n.getWrapBehavioursEnabled())
                        return d(o, s, "[", "]");
                    if (f.isSaneInsertion(n, i))
                        return f.recordAutoInsert(n, i, "]"),
                        {
                            text: "[]",
                            selection: [1, 1]
                        }
                } else if ("]" == r) {
                    h(n);
                    var a = n.getCursorPosition()
                      , l = i.doc.getLine(a.row)
                      , c = l.substring(a.column, a.column + 1);
                    if ("]" == c) {
                        var u = i.$findOpeningBracket("]", {
                            column: a.column + 1,
                            row: a.row
                        });
                        if (null !== u && f.isAutoInsertedClosing(a, l, r))
                            return f.popAutoInsertedClosing(),
                            {
                                text: "",
                                selection: [1, 1]
                            }
                    }
                }
            }),
            this.add("brackets", "deletion", function(e, t, n, i, r) {
                var o = i.doc.getTextRange(r);
                if (!r.isMultiLine() && "[" == o) {
                    h(n);
                    if ("]" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))
                        return r.end.column++,
                        r
                }
            }),
            this.add("string_dquotes", "insertion", function(e, t, n, i, r) {
                if ('"' == r || "'" == r) {
                    h(n);
                    var o = r
                      , s = n.getSelectionRange()
                      , a = i.doc.getTextRange(s);
                    if ("" !== a && "'" !== a && '"' != a && n.getWrapBehavioursEnabled())
                        return d(s, a, o, o);
                    if (!a) {
                        var l = n.getCursorPosition()
                          , c = i.doc.getLine(l.row)
                          , u = c.substring(l.column - 1, l.column)
                          , f = c.substring(l.column, l.column + 1)
                          , g = i.getTokenAt(l.row, l.column)
                          , p = i.getTokenAt(l.row, l.column + 1);
                        if ("\\" == u && g && /escape/.test(g.type))
                            return null;
                        var m, v = g && /string|escape/.test(g.type), A = !p || /string|escape/.test(p.type);
                        if (f == o)
                            m = v !== A;
                        else {
                            if (v && !A)
                                return null;
                            if (v && A)
                                return null;
                            var w = i.$mode.tokenRe;
                            w.lastIndex = 0;
                            var C = w.test(u);
                            w.lastIndex = 0;
                            var y = w.test(u);
                            if (C || y)
                                return null;
                            if (f && !/[\s;,.})\]\\]/.test(f))
                                return null;
                            m = !0
                        }
                        return {
                            text: m ? o + o : "",
                            selection: [1, 1]
                        }
                    }
                }
            }),
            this.add("string_dquotes", "deletion", function(e, t, n, i, r) {
                var o = i.doc.getTextRange(r);
                if (!r.isMultiLine() && ('"' == o || "'" == o)) {
                    h(n);
                    if (i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2) == o)
                        return r.end.column++,
                        r
                }
            })
        };
        f.isSaneInsertion = function(e, t) {
            var n = e.getCursorPosition()
              , i = new s(t,n.row,n.column);
            if (!this.$matchTokenType(i.getCurrentToken() || "text", l)) {
                var r = new s(t,n.row,n.column + 1);
                if (!this.$matchTokenType(r.getCurrentToken() || "text", l))
                    return !1
            }
            return i.stepForward(),
            i.getCurrentTokenRow() !== n.row || this.$matchTokenType(i.getCurrentToken() || "text", c)
        }
        ,
        f.$matchTokenType = function(e, t) {
            return t.indexOf(e.type || e) > -1
        }
        ,
        f.recordAutoInsert = function(e, t, n) {
            var r = e.getCursorPosition()
              , o = t.doc.getLine(r.row);
            this.isAutoInsertedClosing(r, o, i.autoInsertedLineEnd[0]) || (i.autoInsertedBrackets = 0),
            i.autoInsertedRow = r.row,
            i.autoInsertedLineEnd = n + o.substr(r.column),
            i.autoInsertedBrackets++
        }
        ,
        f.recordMaybeInsert = function(e, t, n) {
            var r = e.getCursorPosition()
              , o = t.doc.getLine(r.row);
            this.isMaybeInsertedClosing(r, o) || (i.maybeInsertedBrackets = 0),
            i.maybeInsertedRow = r.row,
            i.maybeInsertedLineStart = o.substr(0, r.column) + n,
            i.maybeInsertedLineEnd = o.substr(r.column),
            i.maybeInsertedBrackets++
        }
        ,
        f.isAutoInsertedClosing = function(e, t, n) {
            return i.autoInsertedBrackets > 0 && e.row === i.autoInsertedRow && n === i.autoInsertedLineEnd[0] && t.substr(e.column) === i.autoInsertedLineEnd
        }
        ,
        f.isMaybeInsertedClosing = function(e, t) {
            return i.maybeInsertedBrackets > 0 && e.row === i.maybeInsertedRow && t.substr(e.column) === i.maybeInsertedLineEnd && t.substr(0, e.column) == i.maybeInsertedLineStart
        }
        ,
        f.popAutoInsertedClosing = function() {
            i.autoInsertedLineEnd = i.autoInsertedLineEnd.substr(1),
            i.autoInsertedBrackets--
        }
        ,
        f.clearMaybeInsertedClosing = function() {
            i && (i.maybeInsertedBrackets = 0,
            i.maybeInsertedRow = -1)
        }
        ,
        r.inherits(f, o),
        t.CstyleBehaviour = f
    }),
    ace.define("ace/mode/folding/pddlstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(e, t, n) {
        "use strict";
        var i = e("../../lib/oop")
          , r = e("../../range").Range
          , o = e("./fold_mode").FoldMode
          , s = t.FoldMode = function(e) {
            e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)),
            this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)))
        }
        ;
        i.inherits(s, o),
        function() {
            this.foldingStartMarker = /(\()[^\)]*$/,
            this.foldingStopMarker = /^[^\(]*(\))/,
            this.getFoldWidgetRange = function(e, t, n, i) {
                var r = e.getLine(n)
                  , o = r.match(this.foldingStartMarker);
                if (o) {
                    var s = o.index;
                    if (o[1])
                        return this.openingBracketBlock(e, o[1], n, s);
                    var a = e.getCommentFoldRange(n, s + o[0].length, 1);
                    return a && !a.isMultiLine() && (i ? a = this.getSectionRange(e, n) : "all" != t && (a = null)),
                    a
                }
                if ("markbegin" !== t)
                    return o = r.match(this.foldingStopMarker),
                    o ? (s = o.index + o[0].length,
                    o[1] ? this.closingBracketBlock(e, o[1], n, s) : e.getCommentFoldRange(n, s, -1)) : void 0
            }
            ,
            this.getSectionRange = function(e, t) {
                var n = e.getLine(t)
                  , i = n.search(/\S/)
                  , o = t
                  , s = n.length;
                t += 1;
                for (var a = t, l = e.getLength(); ++t < l; ) {
                    n = e.getLine(t);
                    var c = n.search(/\S/);
                    if (-1 !== c) {
                        if (i > c)
                            break;
                        var u = this.getFoldWidgetRange(e, "all", t);
                        if (u) {
                            if (u.start.row <= o)
                                break;
                            if (u.isMultiLine())
                                t = u.end.row;
                            else if (i == c)
                                break
                        }
                        a = t
                    }
                }
                return new r(o,s,a,e.getLine(a).length)
            }
        }
        .call(s.prototype)
    }),
    ace.define("ace/mode/pddl", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/pddl_highlight_rules", "ace/mode/folding/cstyle"], function(e, t, n) {
        "use strict";
        var i = e("../lib/oop")
          , r = e("./text").Mode
          , o = e("./pddl_highlight_rules").PDDLHighlightRules
          , s = e("./matching_brace_outdent").MatchingBraceOutdent
          , a = e("./behaviour/cstyle").CstyleBehaviour
          , l = e("./folding/pddlstyle").FoldMode
          , c = function() {
            this.HighlightRules = o,
            this.$outdent = new s,
            this.$behaviour = new a,
            this.foldingRules = new l
        };
        i.inherits(c, r),
        function() {
            this.$id = "ace/mode/pddl"
        }
        .call(c.prototype),
        t.Mode = c
    })
}
, function(e, t) {
    ace.define("ace/theme/monokai", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
        t.isDark = !0,
        t.cssClass = "ace-monokai",
        t.cssText = ".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",
        e("../lib/dom").importCssString(t.cssText, t.cssClass)
    })
}
, function(e, t, n) {
    function i(e, t, n) {
        u = e,
        h = t,
        A = n
    }
    function r(e) {
        if (e) {
            var t = [1]
              , n = function(e, i) {
                i.children && i.children.length > 0 ? (t.length <= ++e ? t.push(i.children.length) : t[e] += i.children.length,
                i.children.forEach(function(t) {
                    n(e, t)
                })) : i._children && i._children.length > 0 && (t.length <= ++e ? t.push(i._children.length) : t[e] += i._children.length,
                i._children.forEach(function(t) {
                    n(e, t)
                }))
            };
            n(0, d),
            f.size([50 * w.max(t), u]).separation(function(e, t) {
                return e.parent === t.parent ? 1 : 2
            }),
            p = w.svg.diagonal().projection(function(e) {
                return [e.y, e.x]
            })
        } else
            f.size([360, 360]).separation(function(e, t) {
                return (e.parent === t.parent ? 1 : 2) / e.depth
            }),
            p = w.svg.diagonal.radial().projection(function(e) {
                return [e.y, e.x * b]
            })
    }
    function o(e) {
        var t = A.scale()
          , n = u / 2 - e.y0 * t
          , i = h / 2 - (C ? e.x0 * t : 0);
        w.select("g").transition().duration(750).attr("transform", "translate(" + n + "," + i + ")scale(" + t + ")"),
        A.scale(t),
        A.translate([n, i])
    }
    function s(e) {
        if ("object" == typeof e)
            return "<br>" + e.join("<br>");
        for (var t = "", n = 0, i = e.length - 1; i >= 0; --i) {
            var r = parseInt(e[i], 16);
            1 & r && (t += "<br>" + d.predicates[n]),
            ++n,
            2 & r && (t += "<br>" + d.predicates[n]),
            ++n,
            4 & r && (t += "<br>" + d.predicates[n]),
            ++n,
            8 & r && (t += "<br>" + d.predicates[n]),
            ++n
        }
        return t
    }
    function a(e) {
        var t = f.nodes(d)
          , n = f.links(t);
        t.forEach(function(e) {
            if (e.depth > m && (m = e.depth),
            e.y = e.depth * y,
            "goal state" === e.name)
                for (; e !== d; )
                    e.path = !0,
                    e = e.parent
        });
        var i = g.selectAll("g.node").data(t, function(e) {
            return e.id || (e.id = ++v)
        })
          , r = i.enter().append("g").attr("class", "node").attr("transform", "translate(" + e.y0 + "," + e.x0 + ")").on("click", function(e) {
            w.event.defaultPrevented || (e.children ? (e._children = e.children,
            e.children = null) : e._children && (e.children = e._children,
            e._children = null),
            a(e))
        }).on("mouseover", function(e) {
            E.html(e.name + s(e.state)).style("left", w.event.pageX + 20 + "px").style("top", w.event.pageY - 30 + "px").style("opacity", .95)
        }).on("mouseout", function(e) {
            E.style("opacity", 0)
        });
        r.append("circle").attr("r", 8).style("fill", function(e) {
            return e.color
        }),
        r.append("text").attr("x", function(e) {
            return e.children || e._children ? -10 : 10
        }).attr("y", -6).attr("text-anchor", function(e) {
            return e.children || e._children ? "end" : "start"
        }).text(function(e) {
            return e.name
        }),
        i.transition().duration(750).attr("transform", C ? function(e) {
            return "translate(" + e.y + "," + e.x + ")"
        }
        : function(e) {
            return "rotate(" + (e.x ? e.x - 90 : 0) + ")translate(" + e.y + ")"
        }
        ).select("circle").style("stroke", function(e) {
            return e._children ? "#0f0" : "#000"
        }),
        i.exit().transition().duration(750).attr("transform", "translate(" + e.y + "," + e.x + ")").remove();
        var l = g.selectAll("path").data(n, function(e) {
            return e.target.id
        })
          , c = {
            x: e.x0,
            y: e.y0
        };
        l.enter().insert("path", "g").style("fill", "none").style("stroke", function(e) {
            return e.target.color
        }).style("stroke-width", function(e) {
            return e.target.path ? 5 : 1.5
        }).attr("d", p({
            source: c,
            target: c
        })).on("mouseover", function(e) {
            E.html(e.target.action + "<br>" + e.source.name + " &#8658; " + e.target.name).style("left", w.event.pageX + 20 + "px").style("top", w.event.pageY - 30 + "px").style("opacity", .95)
        }).on("mouseout", function(e) {
            E.style("opacity", 0)
        }),
        l.transition().duration(750).attr("d", p);
        var c = {
            x: e.x,
            y: e.y
        };
        l.exit().transition().duration(750).attr("d", p({
            source: c,
            target: c
        })).remove(),
        t.forEach(function(e) {
            e.x0 = e.x,
            e.y0 = e.y
        }),
        o(e)
    }
    function l(e, t) {
        f = w.layout.tree(),
        g = t,
        v = m = 0,
        d = e,
        d.x0 = h / 2,
        d.y0 = 0,
        r(C),
        a(d),
        F = !0,
        document.getElementById("hv-output").innerHTML = "Visited States: " + v + "<br>Tree Height: " + m
    }
    function c() {
        F && (C = !C,
        r(C),
        a(d))
    }
    var u, h, d, f, g, p, m, v, A, w = n(1), C = !0, y = 130, b = Math.PI / 180, F = !1, E = w.select("body").append("div").attr("class", "tooltip").style("opacity", 0);
    t.init = i,
    t.load = l,
    t.changeLayout = c
}
]);
